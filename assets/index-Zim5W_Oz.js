(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function gm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ym={exports:{}},ra={},wm={exports:{}},te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var to=Symbol.for("react.element"),n1=Symbol.for("react.portal"),r1=Symbol.for("react.fragment"),s1=Symbol.for("react.strict_mode"),i1=Symbol.for("react.profiler"),o1=Symbol.for("react.provider"),l1=Symbol.for("react.context"),a1=Symbol.for("react.forward_ref"),u1=Symbol.for("react.suspense"),c1=Symbol.for("react.memo"),f1=Symbol.for("react.lazy"),Xd=Symbol.iterator;function d1(e){return e===null||typeof e!="object"?null:(e=Xd&&e[Xd]||e["@@iterator"],typeof e=="function"?e:null)}var vm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xm=Object.assign,_m={};function $s(e,t,n){this.props=e,this.context=t,this.refs=_m,this.updater=n||vm}$s.prototype.isReactComponent={};$s.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};$s.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Sm(){}Sm.prototype=$s.prototype;function rf(e,t,n){this.props=e,this.context=t,this.refs=_m,this.updater=n||vm}var sf=rf.prototype=new Sm;sf.constructor=rf;xm(sf,$s.prototype);sf.isPureReactComponent=!0;var Gd=Array.isArray,Em=Object.prototype.hasOwnProperty,of={current:null},km={key:!0,ref:!0,__self:!0,__source:!0};function Nm(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Em.call(t,r)&&!km.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];s.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:to,type:e,key:i,ref:o,props:s,_owner:of.current}}function h1(e,t){return{$$typeof:to,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function lf(e){return typeof e=="object"&&e!==null&&e.$$typeof===to}function p1(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Yd=/\/+/g;function Ha(e,t){return typeof e=="object"&&e!==null&&e.key!=null?p1(""+e.key):t.toString(36)}function Qo(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case to:case n1:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+Ha(o,0):r,Gd(s)?(n="",e!=null&&(n=e.replace(Yd,"$&/")+"/"),Qo(s,t,n,"",function(u){return u})):s!=null&&(lf(s)&&(s=h1(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Yd,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",Gd(e))for(var l=0;l<e.length;l++){i=e[l];var a=r+Ha(i,l);o+=Qo(i,t,n,a,s)}else if(a=d1(e),typeof a=="function")for(e=a.call(e),l=0;!(i=e.next()).done;)i=i.value,a=r+Ha(i,l++),o+=Qo(i,t,n,a,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function go(e,t,n){if(e==null)return e;var r=[],s=0;return Qo(e,r,"","",function(i){return t.call(n,i,s++)}),r}function m1(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var et={current:null},Jo={transition:null},g1={ReactCurrentDispatcher:et,ReactCurrentBatchConfig:Jo,ReactCurrentOwner:of};function Cm(){throw Error("act(...) is not supported in production builds of React.")}te.Children={map:go,forEach:function(e,t,n){go(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return go(e,function(){t++}),t},toArray:function(e){return go(e,function(t){return t})||[]},only:function(e){if(!lf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};te.Component=$s;te.Fragment=r1;te.Profiler=i1;te.PureComponent=rf;te.StrictMode=s1;te.Suspense=u1;te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=g1;te.act=Cm;te.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=xm({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=of.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)Em.call(t,a)&&!km.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:to,type:e.type,key:s,ref:i,props:r,_owner:o}};te.createContext=function(e){return e={$$typeof:l1,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:o1,_context:e},e.Consumer=e};te.createElement=Nm;te.createFactory=function(e){var t=Nm.bind(null,e);return t.type=e,t};te.createRef=function(){return{current:null}};te.forwardRef=function(e){return{$$typeof:a1,render:e}};te.isValidElement=lf;te.lazy=function(e){return{$$typeof:f1,_payload:{_status:-1,_result:e},_init:m1}};te.memo=function(e,t){return{$$typeof:c1,type:e,compare:t===void 0?null:t}};te.startTransition=function(e){var t=Jo.transition;Jo.transition={};try{e()}finally{Jo.transition=t}};te.unstable_act=Cm;te.useCallback=function(e,t){return et.current.useCallback(e,t)};te.useContext=function(e){return et.current.useContext(e)};te.useDebugValue=function(){};te.useDeferredValue=function(e){return et.current.useDeferredValue(e)};te.useEffect=function(e,t){return et.current.useEffect(e,t)};te.useId=function(){return et.current.useId()};te.useImperativeHandle=function(e,t,n){return et.current.useImperativeHandle(e,t,n)};te.useInsertionEffect=function(e,t){return et.current.useInsertionEffect(e,t)};te.useLayoutEffect=function(e,t){return et.current.useLayoutEffect(e,t)};te.useMemo=function(e,t){return et.current.useMemo(e,t)};te.useReducer=function(e,t,n){return et.current.useReducer(e,t,n)};te.useRef=function(e){return et.current.useRef(e)};te.useState=function(e){return et.current.useState(e)};te.useSyncExternalStore=function(e,t,n){return et.current.useSyncExternalStore(e,t,n)};te.useTransition=function(){return et.current.useTransition()};te.version="18.3.1";wm.exports=te;var A=wm.exports;const O=gm(A);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y1=A,w1=Symbol.for("react.element"),v1=Symbol.for("react.fragment"),x1=Object.prototype.hasOwnProperty,_1=y1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,S1={key:!0,ref:!0,__self:!0,__source:!0};function bm(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)x1.call(t,r)&&!S1.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:w1,type:e,key:i,ref:o,props:s,_owner:_1.current}}ra.Fragment=v1;ra.jsx=bm;ra.jsxs=bm;ym.exports=ra;var C=ym.exports,Pm={exports:{}},vt={},Am={exports:{}},Tm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,S){var T=P.length;P.push(S);e:for(;0<T;){var z=T-1>>>1,j=P[z];if(0<s(j,S))P[z]=S,P[T]=j,T=z;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var S=P[0],T=P.pop();if(T!==S){P[0]=T;e:for(var z=0,j=P.length,U=j>>>1;z<U;){var V=2*(z+1)-1,X=P[V],Q=V+1,J=P[Q];if(0>s(X,T))Q<j&&0>s(J,X)?(P[z]=J,P[Q]=T,z=Q):(P[z]=X,P[V]=T,z=V);else if(Q<j&&0>s(J,T))P[z]=J,P[Q]=T,z=Q;else break e}}return S}function s(P,S){var T=P.sortIndex-S.sortIndex;return T!==0?T:P.id-S.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var a=[],u=[],c=1,f=null,d=3,m=!1,v=!1,g=!1,_=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(P){for(var S=n(u);S!==null;){if(S.callback===null)r(u);else if(S.startTime<=P)r(u),S.sortIndex=S.expirationTime,t(a,S);else break;S=n(u)}}function w(P){if(g=!1,y(P),!v)if(n(a)!==null)v=!0,b(E);else{var S=n(u);S!==null&&L(w,S.startTime-P)}}function E(P,S){v=!1,g&&(g=!1,p(R),R=-1),m=!0;var T=d;try{for(y(S),f=n(a);f!==null&&(!(f.expirationTime>S)||P&&!F());){var z=f.callback;if(typeof z=="function"){f.callback=null,d=f.priorityLevel;var j=z(f.expirationTime<=S);S=e.unstable_now(),typeof j=="function"?f.callback=j:f===n(a)&&r(a),y(S)}else r(a);f=n(a)}if(f!==null)var U=!0;else{var V=n(u);V!==null&&L(w,V.startTime-S),U=!1}return U}finally{f=null,d=T,m=!1}}var k=!1,N=null,R=-1,M=5,I=-1;function F(){return!(e.unstable_now()-I<M)}function D(){if(N!==null){var P=e.unstable_now();I=P;var S=!0;try{S=N(!0,P)}finally{S?B():(k=!1,N=null)}}else k=!1}var B;if(typeof h=="function")B=function(){h(D)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,$=x.port2;x.port1.onmessage=D,B=function(){$.postMessage(null)}}else B=function(){_(D,0)};function b(P){N=P,k||(k=!0,B())}function L(P,S){R=_(function(){P(e.unstable_now())},S)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){v||m||(v=!0,b(E))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(P){switch(d){case 1:case 2:case 3:var S=3;break;default:S=d}var T=d;d=S;try{return P()}finally{d=T}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,S){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var T=d;d=P;try{return S()}finally{d=T}},e.unstable_scheduleCallback=function(P,S,T){var z=e.unstable_now();switch(typeof T=="object"&&T!==null?(T=T.delay,T=typeof T=="number"&&0<T?z+T:z):T=z,P){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=T+j,P={id:c++,callback:S,priorityLevel:P,startTime:T,expirationTime:j,sortIndex:-1},T>z?(P.sortIndex=T,t(u,P),n(a)===null&&P===n(u)&&(g?(p(R),R=-1):g=!0,L(w,T-z))):(P.sortIndex=j,t(a,P),v||m||(v=!0,b(E))),P},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(P){var S=d;return function(){var T=d;d=S;try{return P.apply(this,arguments)}finally{d=T}}}})(Tm);Am.exports=Tm;var E1=Am.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k1=A,yt=E1;function H(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Rm=new Set,Pi={};function Tr(e,t){xs(e,t),xs(e+"Capture",t)}function xs(e,t){for(Pi[e]=t,e=0;e<t.length;e++)Rm.add(t[e])}var wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ou=Object.prototype.hasOwnProperty,N1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Kd={},qd={};function C1(e){return Ou.call(qd,e)?!0:Ou.call(Kd,e)?!1:N1.test(e)?qd[e]=!0:(Kd[e]=!0,!1)}function b1(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function P1(e,t,n,r){if(t===null||typeof t>"u"||b1(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function tt(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var je={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){je[e]=new tt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];je[t]=new tt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){je[e]=new tt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){je[e]=new tt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){je[e]=new tt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){je[e]=new tt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){je[e]=new tt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){je[e]=new tt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){je[e]=new tt(e,5,!1,e.toLowerCase(),null,!1,!1)});var af=/[\-:]([a-z])/g;function uf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(af,uf);je[t]=new tt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(af,uf);je[t]=new tt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(af,uf);je[t]=new tt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){je[e]=new tt(e,1,!1,e.toLowerCase(),null,!1,!1)});je.xlinkHref=new tt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){je[e]=new tt(e,1,!1,e.toLowerCase(),null,!0,!0)});function cf(e,t,n,r){var s=je.hasOwnProperty(t)?je[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(P1(t,n,s,r)&&(n=null),r||s===null?C1(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var kn=k1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yo=Symbol.for("react.element"),Yr=Symbol.for("react.portal"),Kr=Symbol.for("react.fragment"),ff=Symbol.for("react.strict_mode"),Fu=Symbol.for("react.profiler"),Mm=Symbol.for("react.provider"),$m=Symbol.for("react.context"),df=Symbol.for("react.forward_ref"),Du=Symbol.for("react.suspense"),zu=Symbol.for("react.suspense_list"),hf=Symbol.for("react.memo"),Tn=Symbol.for("react.lazy"),Im=Symbol.for("react.offscreen"),Qd=Symbol.iterator;function Vs(e){return e===null||typeof e!="object"?null:(e=Qd&&e[Qd]||e["@@iterator"],typeof e=="function"?e:null)}var ve=Object.assign,Va;function ri(e){if(Va===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Va=t&&t[1]||""}return`
`+Va+e}var Ua=!1;function Wa(e,t){if(!e||Ua)return"";Ua=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var a=`
`+s[o].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=o&&0<=l);break}}}finally{Ua=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ri(e):""}function A1(e){switch(e.tag){case 5:return ri(e.type);case 16:return ri("Lazy");case 13:return ri("Suspense");case 19:return ri("SuspenseList");case 0:case 2:case 15:return e=Wa(e.type,!1),e;case 11:return e=Wa(e.type.render,!1),e;case 1:return e=Wa(e.type,!0),e;default:return""}}function Lu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Kr:return"Fragment";case Yr:return"Portal";case Fu:return"Profiler";case ff:return"StrictMode";case Du:return"Suspense";case zu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case $m:return(e.displayName||"Context")+".Consumer";case Mm:return(e._context.displayName||"Context")+".Provider";case df:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case hf:return t=e.displayName||null,t!==null?t:Lu(e.type)||"Memo";case Tn:t=e._payload,e=e._init;try{return Lu(e(t))}catch{}}return null}function T1(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Lu(t);case 8:return t===ff?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function qn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Om(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function R1(e){var t=Om(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function wo(e){e._valueTracker||(e._valueTracker=R1(e))}function Fm(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Om(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function vl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ju(e,t){var n=t.checked;return ve({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Jd(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=qn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Dm(e,t){t=t.checked,t!=null&&cf(e,"checked",t,!1)}function Bu(e,t){Dm(e,t);var n=qn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Hu(e,t.type,n):t.hasOwnProperty("defaultValue")&&Hu(e,t.type,qn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Zd(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Hu(e,t,n){(t!=="number"||vl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var si=Array.isArray;function as(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+qn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Vu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(H(91));return ve({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function eh(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(H(92));if(si(n)){if(1<n.length)throw Error(H(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:qn(n)}}function zm(e,t){var n=qn(t.value),r=qn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function th(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Lm(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Uu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Lm(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var vo,jm=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(vo=vo||document.createElement("div"),vo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=vo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ai(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var gi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},M1=["Webkit","ms","Moz","O"];Object.keys(gi).forEach(function(e){M1.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),gi[t]=gi[e]})});function Bm(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||gi.hasOwnProperty(e)&&gi[e]?(""+t).trim():t+"px"}function Hm(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Bm(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var $1=ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wu(e,t){if(t){if($1[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(H(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(H(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(H(61))}if(t.style!=null&&typeof t.style!="object")throw Error(H(62))}}function Xu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gu=null;function pf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Yu=null,us=null,cs=null;function nh(e){if(e=so(e)){if(typeof Yu!="function")throw Error(H(280));var t=e.stateNode;t&&(t=aa(t),Yu(e.stateNode,e.type,t))}}function Vm(e){us?cs?cs.push(e):cs=[e]:us=e}function Um(){if(us){var e=us,t=cs;if(cs=us=null,nh(e),t)for(e=0;e<t.length;e++)nh(t[e])}}function Wm(e,t){return e(t)}function Xm(){}var Xa=!1;function Gm(e,t,n){if(Xa)return e(t,n);Xa=!0;try{return Wm(e,t,n)}finally{Xa=!1,(us!==null||cs!==null)&&(Xm(),Um())}}function Ti(e,t){var n=e.stateNode;if(n===null)return null;var r=aa(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(H(231,t,typeof n));return n}var Ku=!1;if(wn)try{var Us={};Object.defineProperty(Us,"passive",{get:function(){Ku=!0}}),window.addEventListener("test",Us,Us),window.removeEventListener("test",Us,Us)}catch{Ku=!1}function I1(e,t,n,r,s,i,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var yi=!1,xl=null,_l=!1,qu=null,O1={onError:function(e){yi=!0,xl=e}};function F1(e,t,n,r,s,i,o,l,a){yi=!1,xl=null,I1.apply(O1,arguments)}function D1(e,t,n,r,s,i,o,l,a){if(F1.apply(this,arguments),yi){if(yi){var u=xl;yi=!1,xl=null}else throw Error(H(198));_l||(_l=!0,qu=u)}}function Rr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Ym(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function rh(e){if(Rr(e)!==e)throw Error(H(188))}function z1(e){var t=e.alternate;if(!t){if(t=Rr(e),t===null)throw Error(H(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return rh(s),e;if(i===r)return rh(s),t;i=i.sibling}throw Error(H(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?e:t}function Km(e){return e=z1(e),e!==null?qm(e):null}function qm(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=qm(e);if(t!==null)return t;e=e.sibling}return null}var Qm=yt.unstable_scheduleCallback,sh=yt.unstable_cancelCallback,L1=yt.unstable_shouldYield,j1=yt.unstable_requestPaint,Ee=yt.unstable_now,B1=yt.unstable_getCurrentPriorityLevel,mf=yt.unstable_ImmediatePriority,Jm=yt.unstable_UserBlockingPriority,Sl=yt.unstable_NormalPriority,H1=yt.unstable_LowPriority,Zm=yt.unstable_IdlePriority,sa=null,Zt=null;function V1(e){if(Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(sa,e,void 0,(e.current.flags&128)===128)}catch{}}var jt=Math.clz32?Math.clz32:X1,U1=Math.log,W1=Math.LN2;function X1(e){return e>>>=0,e===0?32:31-(U1(e)/W1|0)|0}var xo=64,_o=4194304;function ii(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function El(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=ii(l):(i&=o,i!==0&&(r=ii(i)))}else o=n&~s,o!==0?r=ii(o):i!==0&&(r=ii(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-jt(t),s=1<<n,r|=e[n],t&=~s;return r}function G1(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Y1(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-jt(i),l=1<<o,a=s[o];a===-1?(!(l&n)||l&r)&&(s[o]=G1(l,t)):a<=t&&(e.expiredLanes|=l),i&=~l}}function Qu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function eg(){var e=xo;return xo<<=1,!(xo&4194240)&&(xo=64),e}function Ga(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function no(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-jt(t),e[t]=n}function K1(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-jt(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function gf(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-jt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var le=0;function tg(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ng,yf,rg,sg,ig,Ju=!1,So=[],jn=null,Bn=null,Hn=null,Ri=new Map,Mi=new Map,In=[],q1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ih(e,t){switch(e){case"focusin":case"focusout":jn=null;break;case"dragenter":case"dragleave":Bn=null;break;case"mouseover":case"mouseout":Hn=null;break;case"pointerover":case"pointerout":Ri.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mi.delete(t.pointerId)}}function Ws(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=so(t),t!==null&&yf(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Q1(e,t,n,r,s){switch(t){case"focusin":return jn=Ws(jn,e,t,n,r,s),!0;case"dragenter":return Bn=Ws(Bn,e,t,n,r,s),!0;case"mouseover":return Hn=Ws(Hn,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Ri.set(i,Ws(Ri.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Mi.set(i,Ws(Mi.get(i)||null,e,t,n,r,s)),!0}return!1}function og(e){var t=hr(e.target);if(t!==null){var n=Rr(t);if(n!==null){if(t=n.tag,t===13){if(t=Ym(n),t!==null){e.blockedOn=t,ig(e.priority,function(){rg(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Zo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Gu=r,n.target.dispatchEvent(r),Gu=null}else return t=so(n),t!==null&&yf(t),e.blockedOn=n,!1;t.shift()}return!0}function oh(e,t,n){Zo(e)&&n.delete(t)}function J1(){Ju=!1,jn!==null&&Zo(jn)&&(jn=null),Bn!==null&&Zo(Bn)&&(Bn=null),Hn!==null&&Zo(Hn)&&(Hn=null),Ri.forEach(oh),Mi.forEach(oh)}function Xs(e,t){e.blockedOn===t&&(e.blockedOn=null,Ju||(Ju=!0,yt.unstable_scheduleCallback(yt.unstable_NormalPriority,J1)))}function $i(e){function t(s){return Xs(s,e)}if(0<So.length){Xs(So[0],e);for(var n=1;n<So.length;n++){var r=So[n];r.blockedOn===e&&(r.blockedOn=null)}}for(jn!==null&&Xs(jn,e),Bn!==null&&Xs(Bn,e),Hn!==null&&Xs(Hn,e),Ri.forEach(t),Mi.forEach(t),n=0;n<In.length;n++)r=In[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<In.length&&(n=In[0],n.blockedOn===null);)og(n),n.blockedOn===null&&In.shift()}var fs=kn.ReactCurrentBatchConfig,kl=!0;function Z1(e,t,n,r){var s=le,i=fs.transition;fs.transition=null;try{le=1,wf(e,t,n,r)}finally{le=s,fs.transition=i}}function ex(e,t,n,r){var s=le,i=fs.transition;fs.transition=null;try{le=4,wf(e,t,n,r)}finally{le=s,fs.transition=i}}function wf(e,t,n,r){if(kl){var s=Zu(e,t,n,r);if(s===null)ru(e,t,r,Nl,n),ih(e,r);else if(Q1(s,e,t,n,r))r.stopPropagation();else if(ih(e,r),t&4&&-1<q1.indexOf(e)){for(;s!==null;){var i=so(s);if(i!==null&&ng(i),i=Zu(e,t,n,r),i===null&&ru(e,t,r,Nl,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else ru(e,t,r,null,n)}}var Nl=null;function Zu(e,t,n,r){if(Nl=null,e=pf(r),e=hr(e),e!==null)if(t=Rr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Ym(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Nl=e,null}function lg(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(B1()){case mf:return 1;case Jm:return 4;case Sl:case H1:return 16;case Zm:return 536870912;default:return 16}default:return 16}}var Dn=null,vf=null,el=null;function ag(){if(el)return el;var e,t=vf,n=t.length,r,s="value"in Dn?Dn.value:Dn.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return el=s.slice(e,1<r?1-r:void 0)}function tl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Eo(){return!0}function lh(){return!1}function xt(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Eo:lh,this.isPropagationStopped=lh,this}return ve(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Eo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Eo)},persist:function(){},isPersistent:Eo}),t}var Is={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xf=xt(Is),ro=ve({},Is,{view:0,detail:0}),tx=xt(ro),Ya,Ka,Gs,ia=ve({},ro,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_f,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Gs&&(Gs&&e.type==="mousemove"?(Ya=e.screenX-Gs.screenX,Ka=e.screenY-Gs.screenY):Ka=Ya=0,Gs=e),Ya)},movementY:function(e){return"movementY"in e?e.movementY:Ka}}),ah=xt(ia),nx=ve({},ia,{dataTransfer:0}),rx=xt(nx),sx=ve({},ro,{relatedTarget:0}),qa=xt(sx),ix=ve({},Is,{animationName:0,elapsedTime:0,pseudoElement:0}),ox=xt(ix),lx=ve({},Is,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ax=xt(lx),ux=ve({},Is,{data:0}),uh=xt(ux),cx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hx(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=dx[e])?!!t[e]:!1}function _f(){return hx}var px=ve({},ro,{key:function(e){if(e.key){var t=cx[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=tl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?fx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_f,charCode:function(e){return e.type==="keypress"?tl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?tl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),mx=xt(px),gx=ve({},ia,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ch=xt(gx),yx=ve({},ro,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_f}),wx=xt(yx),vx=ve({},Is,{propertyName:0,elapsedTime:0,pseudoElement:0}),xx=xt(vx),_x=ve({},ia,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Sx=xt(_x),Ex=[9,13,27,32],Sf=wn&&"CompositionEvent"in window,wi=null;wn&&"documentMode"in document&&(wi=document.documentMode);var kx=wn&&"TextEvent"in window&&!wi,ug=wn&&(!Sf||wi&&8<wi&&11>=wi),fh=" ",dh=!1;function cg(e,t){switch(e){case"keyup":return Ex.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var qr=!1;function Nx(e,t){switch(e){case"compositionend":return fg(t);case"keypress":return t.which!==32?null:(dh=!0,fh);case"textInput":return e=t.data,e===fh&&dh?null:e;default:return null}}function Cx(e,t){if(qr)return e==="compositionend"||!Sf&&cg(e,t)?(e=ag(),el=vf=Dn=null,qr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ug&&t.locale!=="ko"?null:t.data;default:return null}}var bx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!bx[e.type]:t==="textarea"}function dg(e,t,n,r){Vm(r),t=Cl(t,"onChange"),0<t.length&&(n=new xf("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var vi=null,Ii=null;function Px(e){Eg(e,0)}function oa(e){var t=Zr(e);if(Fm(t))return e}function Ax(e,t){if(e==="change")return t}var hg=!1;if(wn){var Qa;if(wn){var Ja="oninput"in document;if(!Ja){var ph=document.createElement("div");ph.setAttribute("oninput","return;"),Ja=typeof ph.oninput=="function"}Qa=Ja}else Qa=!1;hg=Qa&&(!document.documentMode||9<document.documentMode)}function mh(){vi&&(vi.detachEvent("onpropertychange",pg),Ii=vi=null)}function pg(e){if(e.propertyName==="value"&&oa(Ii)){var t=[];dg(t,Ii,e,pf(e)),Gm(Px,t)}}function Tx(e,t,n){e==="focusin"?(mh(),vi=t,Ii=n,vi.attachEvent("onpropertychange",pg)):e==="focusout"&&mh()}function Rx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return oa(Ii)}function Mx(e,t){if(e==="click")return oa(t)}function $x(e,t){if(e==="input"||e==="change")return oa(t)}function Ix(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Vt=typeof Object.is=="function"?Object.is:Ix;function Oi(e,t){if(Vt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Ou.call(t,s)||!Vt(e[s],t[s]))return!1}return!0}function gh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function yh(e,t){var n=gh(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=gh(n)}}function mg(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?mg(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function gg(){for(var e=window,t=vl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=vl(e.document)}return t}function Ef(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Ox(e){var t=gg(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&mg(n.ownerDocument.documentElement,n)){if(r!==null&&Ef(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=yh(n,i);var o=yh(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Fx=wn&&"documentMode"in document&&11>=document.documentMode,Qr=null,ec=null,xi=null,tc=!1;function wh(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;tc||Qr==null||Qr!==vl(r)||(r=Qr,"selectionStart"in r&&Ef(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),xi&&Oi(xi,r)||(xi=r,r=Cl(ec,"onSelect"),0<r.length&&(t=new xf("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Qr)))}function ko(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Jr={animationend:ko("Animation","AnimationEnd"),animationiteration:ko("Animation","AnimationIteration"),animationstart:ko("Animation","AnimationStart"),transitionend:ko("Transition","TransitionEnd")},Za={},yg={};wn&&(yg=document.createElement("div").style,"AnimationEvent"in window||(delete Jr.animationend.animation,delete Jr.animationiteration.animation,delete Jr.animationstart.animation),"TransitionEvent"in window||delete Jr.transitionend.transition);function la(e){if(Za[e])return Za[e];if(!Jr[e])return e;var t=Jr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in yg)return Za[e]=t[n];return e}var wg=la("animationend"),vg=la("animationiteration"),xg=la("animationstart"),_g=la("transitionend"),Sg=new Map,vh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Jn(e,t){Sg.set(e,t),Tr(t,[e])}for(var eu=0;eu<vh.length;eu++){var tu=vh[eu],Dx=tu.toLowerCase(),zx=tu[0].toUpperCase()+tu.slice(1);Jn(Dx,"on"+zx)}Jn(wg,"onAnimationEnd");Jn(vg,"onAnimationIteration");Jn(xg,"onAnimationStart");Jn("dblclick","onDoubleClick");Jn("focusin","onFocus");Jn("focusout","onBlur");Jn(_g,"onTransitionEnd");xs("onMouseEnter",["mouseout","mouseover"]);xs("onMouseLeave",["mouseout","mouseover"]);xs("onPointerEnter",["pointerout","pointerover"]);xs("onPointerLeave",["pointerout","pointerover"]);Tr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Tr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Tr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Tr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Tr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Tr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lx=new Set("cancel close invalid load scroll toggle".split(" ").concat(oi));function xh(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,D1(r,t,void 0,e),e.currentTarget=null}function Eg(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==i&&s.isPropagationStopped())break e;xh(s,l,u),i=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==i&&s.isPropagationStopped())break e;xh(s,l,u),i=a}}}if(_l)throw e=qu,_l=!1,qu=null,e}function de(e,t){var n=t[oc];n===void 0&&(n=t[oc]=new Set);var r=e+"__bubble";n.has(r)||(kg(t,e,2,!1),n.add(r))}function nu(e,t,n){var r=0;t&&(r|=4),kg(n,e,r,t)}var No="_reactListening"+Math.random().toString(36).slice(2);function Fi(e){if(!e[No]){e[No]=!0,Rm.forEach(function(n){n!=="selectionchange"&&(Lx.has(n)||nu(n,!1,e),nu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[No]||(t[No]=!0,nu("selectionchange",!1,t))}}function kg(e,t,n,r){switch(lg(t)){case 1:var s=Z1;break;case 4:s=ex;break;default:s=wf}n=s.bind(null,t,n,e),s=void 0,!Ku||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function ru(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;o=o.return}for(;l!==null;){if(o=hr(l),o===null)return;if(a=o.tag,a===5||a===6){r=i=o;continue e}l=l.parentNode}}r=r.return}Gm(function(){var u=i,c=pf(n),f=[];e:{var d=Sg.get(e);if(d!==void 0){var m=xf,v=e;switch(e){case"keypress":if(tl(n)===0)break e;case"keydown":case"keyup":m=mx;break;case"focusin":v="focus",m=qa;break;case"focusout":v="blur",m=qa;break;case"beforeblur":case"afterblur":m=qa;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=ah;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=rx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=wx;break;case wg:case vg:case xg:m=ox;break;case _g:m=xx;break;case"scroll":m=tx;break;case"wheel":m=Sx;break;case"copy":case"cut":case"paste":m=ax;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=ch}var g=(t&4)!==0,_=!g&&e==="scroll",p=g?d!==null?d+"Capture":null:d;g=[];for(var h=u,y;h!==null;){y=h;var w=y.stateNode;if(y.tag===5&&w!==null&&(y=w,p!==null&&(w=Ti(h,p),w!=null&&g.push(Di(h,w,y)))),_)break;h=h.return}0<g.length&&(d=new m(d,v,null,n,c),f.push({event:d,listeners:g}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",d&&n!==Gu&&(v=n.relatedTarget||n.fromElement)&&(hr(v)||v[vn]))break e;if((m||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=u,v=v?hr(v):null,v!==null&&(_=Rr(v),v!==_||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=u),m!==v)){if(g=ah,w="onMouseLeave",p="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&(g=ch,w="onPointerLeave",p="onPointerEnter",h="pointer"),_=m==null?d:Zr(m),y=v==null?d:Zr(v),d=new g(w,h+"leave",m,n,c),d.target=_,d.relatedTarget=y,w=null,hr(c)===u&&(g=new g(p,h+"enter",v,n,c),g.target=y,g.relatedTarget=_,w=g),_=w,m&&v)t:{for(g=m,p=v,h=0,y=g;y;y=Dr(y))h++;for(y=0,w=p;w;w=Dr(w))y++;for(;0<h-y;)g=Dr(g),h--;for(;0<y-h;)p=Dr(p),y--;for(;h--;){if(g===p||p!==null&&g===p.alternate)break t;g=Dr(g),p=Dr(p)}g=null}else g=null;m!==null&&_h(f,d,m,g,!1),v!==null&&_!==null&&_h(f,_,v,g,!0)}}e:{if(d=u?Zr(u):window,m=d.nodeName&&d.nodeName.toLowerCase(),m==="select"||m==="input"&&d.type==="file")var E=Ax;else if(hh(d))if(hg)E=$x;else{E=Rx;var k=Tx}else(m=d.nodeName)&&m.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(E=Mx);if(E&&(E=E(e,u))){dg(f,E,n,c);break e}k&&k(e,d,u),e==="focusout"&&(k=d._wrapperState)&&k.controlled&&d.type==="number"&&Hu(d,"number",d.value)}switch(k=u?Zr(u):window,e){case"focusin":(hh(k)||k.contentEditable==="true")&&(Qr=k,ec=u,xi=null);break;case"focusout":xi=ec=Qr=null;break;case"mousedown":tc=!0;break;case"contextmenu":case"mouseup":case"dragend":tc=!1,wh(f,n,c);break;case"selectionchange":if(Fx)break;case"keydown":case"keyup":wh(f,n,c)}var N;if(Sf)e:{switch(e){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else qr?cg(e,n)&&(R="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(ug&&n.locale!=="ko"&&(qr||R!=="onCompositionStart"?R==="onCompositionEnd"&&qr&&(N=ag()):(Dn=c,vf="value"in Dn?Dn.value:Dn.textContent,qr=!0)),k=Cl(u,R),0<k.length&&(R=new uh(R,e,null,n,c),f.push({event:R,listeners:k}),N?R.data=N:(N=fg(n),N!==null&&(R.data=N)))),(N=kx?Nx(e,n):Cx(e,n))&&(u=Cl(u,"onBeforeInput"),0<u.length&&(c=new uh("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=N))}Eg(f,t)})}function Di(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Cl(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ti(e,n),i!=null&&r.unshift(Di(e,i,s)),i=Ti(e,t),i!=null&&r.push(Di(e,i,s))),e=e.return}return r}function Dr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function _h(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,s?(a=Ti(n,i),a!=null&&o.unshift(Di(n,a,l))):s||(a=Ti(n,i),a!=null&&o.push(Di(n,a,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var jx=/\r\n?/g,Bx=/\u0000|\uFFFD/g;function Sh(e){return(typeof e=="string"?e:""+e).replace(jx,`
`).replace(Bx,"")}function Co(e,t,n){if(t=Sh(t),Sh(e)!==t&&n)throw Error(H(425))}function bl(){}var nc=null,rc=null;function sc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ic=typeof setTimeout=="function"?setTimeout:void 0,Hx=typeof clearTimeout=="function"?clearTimeout:void 0,Eh=typeof Promise=="function"?Promise:void 0,Vx=typeof queueMicrotask=="function"?queueMicrotask:typeof Eh<"u"?function(e){return Eh.resolve(null).then(e).catch(Ux)}:ic;function Ux(e){setTimeout(function(){throw e})}function su(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),$i(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);$i(t)}function Vn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function kh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Os=Math.random().toString(36).slice(2),Qt="__reactFiber$"+Os,zi="__reactProps$"+Os,vn="__reactContainer$"+Os,oc="__reactEvents$"+Os,Wx="__reactListeners$"+Os,Xx="__reactHandles$"+Os;function hr(e){var t=e[Qt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[vn]||n[Qt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=kh(e);e!==null;){if(n=e[Qt])return n;e=kh(e)}return t}e=n,n=e.parentNode}return null}function so(e){return e=e[Qt]||e[vn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Zr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(H(33))}function aa(e){return e[zi]||null}var lc=[],es=-1;function Zn(e){return{current:e}}function he(e){0>es||(e.current=lc[es],lc[es]=null,es--)}function ce(e,t){es++,lc[es]=e.current,e.current=t}var Qn={},Ke=Zn(Qn),ot=Zn(!1),Er=Qn;function _s(e,t){var n=e.type.contextTypes;if(!n)return Qn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function lt(e){return e=e.childContextTypes,e!=null}function Pl(){he(ot),he(Ke)}function Nh(e,t,n){if(Ke.current!==Qn)throw Error(H(168));ce(Ke,t),ce(ot,n)}function Ng(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(H(108,T1(e)||"Unknown",s));return ve({},n,r)}function Al(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Qn,Er=Ke.current,ce(Ke,e),ce(ot,ot.current),!0}function Ch(e,t,n){var r=e.stateNode;if(!r)throw Error(H(169));n?(e=Ng(e,t,Er),r.__reactInternalMemoizedMergedChildContext=e,he(ot),he(Ke),ce(Ke,e)):he(ot),ce(ot,n)}var dn=null,ua=!1,iu=!1;function Cg(e){dn===null?dn=[e]:dn.push(e)}function Gx(e){ua=!0,Cg(e)}function er(){if(!iu&&dn!==null){iu=!0;var e=0,t=le;try{var n=dn;for(le=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}dn=null,ua=!1}catch(s){throw dn!==null&&(dn=dn.slice(e+1)),Qm(mf,er),s}finally{le=t,iu=!1}}return null}var ts=[],ns=0,Tl=null,Rl=0,_t=[],St=0,kr=null,hn=1,pn="";function ur(e,t){ts[ns++]=Rl,ts[ns++]=Tl,Tl=e,Rl=t}function bg(e,t,n){_t[St++]=hn,_t[St++]=pn,_t[St++]=kr,kr=e;var r=hn;e=pn;var s=32-jt(r)-1;r&=~(1<<s),n+=1;var i=32-jt(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,hn=1<<32-jt(t)+s|n<<s|r,pn=i+e}else hn=1<<i|n<<s|r,pn=e}function kf(e){e.return!==null&&(ur(e,1),bg(e,1,0))}function Nf(e){for(;e===Tl;)Tl=ts[--ns],ts[ns]=null,Rl=ts[--ns],ts[ns]=null;for(;e===kr;)kr=_t[--St],_t[St]=null,pn=_t[--St],_t[St]=null,hn=_t[--St],_t[St]=null}var gt=null,mt=null,me=!1,Dt=null;function Pg(e,t){var n=kt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function bh(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,gt=e,mt=Vn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,gt=e,mt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=kr!==null?{id:hn,overflow:pn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=kt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,gt=e,mt=null,!0):!1;default:return!1}}function ac(e){return(e.mode&1)!==0&&(e.flags&128)===0}function uc(e){if(me){var t=mt;if(t){var n=t;if(!bh(e,t)){if(ac(e))throw Error(H(418));t=Vn(n.nextSibling);var r=gt;t&&bh(e,t)?Pg(r,n):(e.flags=e.flags&-4097|2,me=!1,gt=e)}}else{if(ac(e))throw Error(H(418));e.flags=e.flags&-4097|2,me=!1,gt=e}}}function Ph(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;gt=e}function bo(e){if(e!==gt)return!1;if(!me)return Ph(e),me=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!sc(e.type,e.memoizedProps)),t&&(t=mt)){if(ac(e))throw Ag(),Error(H(418));for(;t;)Pg(e,t),t=Vn(t.nextSibling)}if(Ph(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(H(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){mt=Vn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}mt=null}}else mt=gt?Vn(e.stateNode.nextSibling):null;return!0}function Ag(){for(var e=mt;e;)e=Vn(e.nextSibling)}function Ss(){mt=gt=null,me=!1}function Cf(e){Dt===null?Dt=[e]:Dt.push(e)}var Yx=kn.ReactCurrentBatchConfig;function Ys(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,e))}return e}function Po(e,t){throw e=Object.prototype.toString.call(t),Error(H(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ah(e){var t=e._init;return t(e._payload)}function Tg(e){function t(p,h){if(e){var y=p.deletions;y===null?(p.deletions=[h],p.flags|=16):y.push(h)}}function n(p,h){if(!e)return null;for(;h!==null;)t(p,h),h=h.sibling;return null}function r(p,h){for(p=new Map;h!==null;)h.key!==null?p.set(h.key,h):p.set(h.index,h),h=h.sibling;return p}function s(p,h){return p=Gn(p,h),p.index=0,p.sibling=null,p}function i(p,h,y){return p.index=y,e?(y=p.alternate,y!==null?(y=y.index,y<h?(p.flags|=2,h):y):(p.flags|=2,h)):(p.flags|=1048576,h)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,h,y,w){return h===null||h.tag!==6?(h=du(y,p.mode,w),h.return=p,h):(h=s(h,y),h.return=p,h)}function a(p,h,y,w){var E=y.type;return E===Kr?c(p,h,y.props.children,w,y.key):h!==null&&(h.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Tn&&Ah(E)===h.type)?(w=s(h,y.props),w.ref=Ys(p,h,y),w.return=p,w):(w=al(y.type,y.key,y.props,null,p.mode,w),w.ref=Ys(p,h,y),w.return=p,w)}function u(p,h,y,w){return h===null||h.tag!==4||h.stateNode.containerInfo!==y.containerInfo||h.stateNode.implementation!==y.implementation?(h=hu(y,p.mode,w),h.return=p,h):(h=s(h,y.children||[]),h.return=p,h)}function c(p,h,y,w,E){return h===null||h.tag!==7?(h=xr(y,p.mode,w,E),h.return=p,h):(h=s(h,y),h.return=p,h)}function f(p,h,y){if(typeof h=="string"&&h!==""||typeof h=="number")return h=du(""+h,p.mode,y),h.return=p,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case yo:return y=al(h.type,h.key,h.props,null,p.mode,y),y.ref=Ys(p,null,h),y.return=p,y;case Yr:return h=hu(h,p.mode,y),h.return=p,h;case Tn:var w=h._init;return f(p,w(h._payload),y)}if(si(h)||Vs(h))return h=xr(h,p.mode,y,null),h.return=p,h;Po(p,h)}return null}function d(p,h,y,w){var E=h!==null?h.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return E!==null?null:l(p,h,""+y,w);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case yo:return y.key===E?a(p,h,y,w):null;case Yr:return y.key===E?u(p,h,y,w):null;case Tn:return E=y._init,d(p,h,E(y._payload),w)}if(si(y)||Vs(y))return E!==null?null:c(p,h,y,w,null);Po(p,y)}return null}function m(p,h,y,w,E){if(typeof w=="string"&&w!==""||typeof w=="number")return p=p.get(y)||null,l(h,p,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case yo:return p=p.get(w.key===null?y:w.key)||null,a(h,p,w,E);case Yr:return p=p.get(w.key===null?y:w.key)||null,u(h,p,w,E);case Tn:var k=w._init;return m(p,h,y,k(w._payload),E)}if(si(w)||Vs(w))return p=p.get(y)||null,c(h,p,w,E,null);Po(h,w)}return null}function v(p,h,y,w){for(var E=null,k=null,N=h,R=h=0,M=null;N!==null&&R<y.length;R++){N.index>R?(M=N,N=null):M=N.sibling;var I=d(p,N,y[R],w);if(I===null){N===null&&(N=M);break}e&&N&&I.alternate===null&&t(p,N),h=i(I,h,R),k===null?E=I:k.sibling=I,k=I,N=M}if(R===y.length)return n(p,N),me&&ur(p,R),E;if(N===null){for(;R<y.length;R++)N=f(p,y[R],w),N!==null&&(h=i(N,h,R),k===null?E=N:k.sibling=N,k=N);return me&&ur(p,R),E}for(N=r(p,N);R<y.length;R++)M=m(N,p,R,y[R],w),M!==null&&(e&&M.alternate!==null&&N.delete(M.key===null?R:M.key),h=i(M,h,R),k===null?E=M:k.sibling=M,k=M);return e&&N.forEach(function(F){return t(p,F)}),me&&ur(p,R),E}function g(p,h,y,w){var E=Vs(y);if(typeof E!="function")throw Error(H(150));if(y=E.call(y),y==null)throw Error(H(151));for(var k=E=null,N=h,R=h=0,M=null,I=y.next();N!==null&&!I.done;R++,I=y.next()){N.index>R?(M=N,N=null):M=N.sibling;var F=d(p,N,I.value,w);if(F===null){N===null&&(N=M);break}e&&N&&F.alternate===null&&t(p,N),h=i(F,h,R),k===null?E=F:k.sibling=F,k=F,N=M}if(I.done)return n(p,N),me&&ur(p,R),E;if(N===null){for(;!I.done;R++,I=y.next())I=f(p,I.value,w),I!==null&&(h=i(I,h,R),k===null?E=I:k.sibling=I,k=I);return me&&ur(p,R),E}for(N=r(p,N);!I.done;R++,I=y.next())I=m(N,p,R,I.value,w),I!==null&&(e&&I.alternate!==null&&N.delete(I.key===null?R:I.key),h=i(I,h,R),k===null?E=I:k.sibling=I,k=I);return e&&N.forEach(function(D){return t(p,D)}),me&&ur(p,R),E}function _(p,h,y,w){if(typeof y=="object"&&y!==null&&y.type===Kr&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case yo:e:{for(var E=y.key,k=h;k!==null;){if(k.key===E){if(E=y.type,E===Kr){if(k.tag===7){n(p,k.sibling),h=s(k,y.props.children),h.return=p,p=h;break e}}else if(k.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Tn&&Ah(E)===k.type){n(p,k.sibling),h=s(k,y.props),h.ref=Ys(p,k,y),h.return=p,p=h;break e}n(p,k);break}else t(p,k);k=k.sibling}y.type===Kr?(h=xr(y.props.children,p.mode,w,y.key),h.return=p,p=h):(w=al(y.type,y.key,y.props,null,p.mode,w),w.ref=Ys(p,h,y),w.return=p,p=w)}return o(p);case Yr:e:{for(k=y.key;h!==null;){if(h.key===k)if(h.tag===4&&h.stateNode.containerInfo===y.containerInfo&&h.stateNode.implementation===y.implementation){n(p,h.sibling),h=s(h,y.children||[]),h.return=p,p=h;break e}else{n(p,h);break}else t(p,h);h=h.sibling}h=hu(y,p.mode,w),h.return=p,p=h}return o(p);case Tn:return k=y._init,_(p,h,k(y._payload),w)}if(si(y))return v(p,h,y,w);if(Vs(y))return g(p,h,y,w);Po(p,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,h!==null&&h.tag===6?(n(p,h.sibling),h=s(h,y),h.return=p,p=h):(n(p,h),h=du(y,p.mode,w),h.return=p,p=h),o(p)):n(p,h)}return _}var Es=Tg(!0),Rg=Tg(!1),Ml=Zn(null),$l=null,rs=null,bf=null;function Pf(){bf=rs=$l=null}function Af(e){var t=Ml.current;he(Ml),e._currentValue=t}function cc(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ds(e,t){$l=e,bf=rs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(st=!0),e.firstContext=null)}function Pt(e){var t=e._currentValue;if(bf!==e)if(e={context:e,memoizedValue:t,next:null},rs===null){if($l===null)throw Error(H(308));rs=e,$l.dependencies={lanes:0,firstContext:e}}else rs=rs.next=e;return t}var pr=null;function Tf(e){pr===null?pr=[e]:pr.push(e)}function Mg(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Tf(t)):(n.next=s.next,s.next=n),t.interleaved=n,xn(e,r)}function xn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Rn=!1;function Rf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $g(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function gn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Un(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,re&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,xn(e,n)}return s=r.interleaved,s===null?(t.next=t,Tf(r)):(t.next=s.next,s.next=t),r.interleaved=t,xn(e,n)}function nl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,gf(e,n)}}function Th(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Il(e,t,n,r){var s=e.updateQueue;Rn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?i=u:o.next=u,o=a;var c=e.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==o&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=a))}if(i!==null){var f=s.baseState;o=0,c=u=a=null,l=i;do{var d=l.lane,m=l.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,g=l;switch(d=t,m=n,g.tag){case 1:if(v=g.payload,typeof v=="function"){f=v.call(m,f,d);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,d=typeof v=="function"?v.call(m,f,d):v,d==null)break e;f=ve({},f,d);break e;case 2:Rn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,d=s.effects,d===null?s.effects=[l]:d.push(l))}else m={eventTime:m,lane:d,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=m,a=f):c=c.next=m,o|=d;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;d=l,l=d.next,d.next=null,s.lastBaseUpdate=d,s.shared.pending=null}}while(!0);if(c===null&&(a=f),s.baseState=a,s.firstBaseUpdate=u,s.lastBaseUpdate=c,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Cr|=o,e.lanes=o,e.memoizedState=f}}function Rh(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(H(191,s));s.call(r)}}}var io={},en=Zn(io),Li=Zn(io),ji=Zn(io);function mr(e){if(e===io)throw Error(H(174));return e}function Mf(e,t){switch(ce(ji,t),ce(Li,e),ce(en,io),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Uu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Uu(t,e)}he(en),ce(en,t)}function ks(){he(en),he(Li),he(ji)}function Ig(e){mr(ji.current);var t=mr(en.current),n=Uu(t,e.type);t!==n&&(ce(Li,e),ce(en,n))}function $f(e){Li.current===e&&(he(en),he(Li))}var ye=Zn(0);function Ol(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ou=[];function If(){for(var e=0;e<ou.length;e++)ou[e]._workInProgressVersionPrimary=null;ou.length=0}var rl=kn.ReactCurrentDispatcher,lu=kn.ReactCurrentBatchConfig,Nr=0,we=null,Pe=null,Me=null,Fl=!1,_i=!1,Bi=0,Kx=0;function We(){throw Error(H(321))}function Of(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Vt(e[n],t[n]))return!1;return!0}function Ff(e,t,n,r,s,i){if(Nr=i,we=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,rl.current=e===null||e.memoizedState===null?Zx:e_,e=n(r,s),_i){i=0;do{if(_i=!1,Bi=0,25<=i)throw Error(H(301));i+=1,Me=Pe=null,t.updateQueue=null,rl.current=t_,e=n(r,s)}while(_i)}if(rl.current=Dl,t=Pe!==null&&Pe.next!==null,Nr=0,Me=Pe=we=null,Fl=!1,t)throw Error(H(300));return e}function Df(){var e=Bi!==0;return Bi=0,e}function Yt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Me===null?we.memoizedState=Me=e:Me=Me.next=e,Me}function At(){if(Pe===null){var e=we.alternate;e=e!==null?e.memoizedState:null}else e=Pe.next;var t=Me===null?we.memoizedState:Me.next;if(t!==null)Me=t,Pe=e;else{if(e===null)throw Error(H(310));Pe=e,e={memoizedState:Pe.memoizedState,baseState:Pe.baseState,baseQueue:Pe.baseQueue,queue:Pe.queue,next:null},Me===null?we.memoizedState=Me=e:Me=Me.next=e}return Me}function Hi(e,t){return typeof t=="function"?t(e):t}function au(e){var t=At(),n=t.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=e;var r=Pe,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,a=null,u=i;do{var c=u.lane;if((Nr&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=f,o=r):a=a.next=f,we.lanes|=c,Cr|=c}u=u.next}while(u!==null&&u!==i);a===null?o=r:a.next=l,Vt(r,t.memoizedState)||(st=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,we.lanes|=i,Cr|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function uu(e){var t=At(),n=t.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Vt(i,t.memoizedState)||(st=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Og(){}function Fg(e,t){var n=we,r=At(),s=t(),i=!Vt(r.memoizedState,s);if(i&&(r.memoizedState=s,st=!0),r=r.queue,zf(Lg.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Me!==null&&Me.memoizedState.tag&1){if(n.flags|=2048,Vi(9,zg.bind(null,n,r,s,t),void 0,null),$e===null)throw Error(H(349));Nr&30||Dg(n,t,s)}return s}function Dg(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=we.updateQueue,t===null?(t={lastEffect:null,stores:null},we.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function zg(e,t,n,r){t.value=n,t.getSnapshot=r,jg(t)&&Bg(e)}function Lg(e,t,n){return n(function(){jg(t)&&Bg(e)})}function jg(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Vt(e,n)}catch{return!0}}function Bg(e){var t=xn(e,1);t!==null&&Bt(t,e,1,-1)}function Mh(e){var t=Yt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:e},t.queue=e,e=e.dispatch=Jx.bind(null,we,e),[t.memoizedState,e]}function Vi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=we.updateQueue,t===null?(t={lastEffect:null,stores:null},we.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Hg(){return At().memoizedState}function sl(e,t,n,r){var s=Yt();we.flags|=e,s.memoizedState=Vi(1|t,n,void 0,r===void 0?null:r)}function ca(e,t,n,r){var s=At();r=r===void 0?null:r;var i=void 0;if(Pe!==null){var o=Pe.memoizedState;if(i=o.destroy,r!==null&&Of(r,o.deps)){s.memoizedState=Vi(t,n,i,r);return}}we.flags|=e,s.memoizedState=Vi(1|t,n,i,r)}function $h(e,t){return sl(8390656,8,e,t)}function zf(e,t){return ca(2048,8,e,t)}function Vg(e,t){return ca(4,2,e,t)}function Ug(e,t){return ca(4,4,e,t)}function Wg(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Xg(e,t,n){return n=n!=null?n.concat([e]):null,ca(4,4,Wg.bind(null,t,e),n)}function Lf(){}function Gg(e,t){var n=At();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Of(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Yg(e,t){var n=At();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Of(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Kg(e,t,n){return Nr&21?(Vt(n,t)||(n=eg(),we.lanes|=n,Cr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,st=!0),e.memoizedState=n)}function qx(e,t){var n=le;le=n!==0&&4>n?n:4,e(!0);var r=lu.transition;lu.transition={};try{e(!1),t()}finally{le=n,lu.transition=r}}function qg(){return At().memoizedState}function Qx(e,t,n){var r=Xn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qg(e))Jg(t,n);else if(n=Mg(e,t,n,r),n!==null){var s=Ze();Bt(n,e,r,s),Zg(n,t,r)}}function Jx(e,t,n){var r=Xn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qg(e))Jg(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,Vt(l,o)){var a=t.interleaved;a===null?(s.next=s,Tf(t)):(s.next=a.next,a.next=s),t.interleaved=s;return}}catch{}finally{}n=Mg(e,t,s,r),n!==null&&(s=Ze(),Bt(n,e,r,s),Zg(n,t,r))}}function Qg(e){var t=e.alternate;return e===we||t!==null&&t===we}function Jg(e,t){_i=Fl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Zg(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,gf(e,n)}}var Dl={readContext:Pt,useCallback:We,useContext:We,useEffect:We,useImperativeHandle:We,useInsertionEffect:We,useLayoutEffect:We,useMemo:We,useReducer:We,useRef:We,useState:We,useDebugValue:We,useDeferredValue:We,useTransition:We,useMutableSource:We,useSyncExternalStore:We,useId:We,unstable_isNewReconciler:!1},Zx={readContext:Pt,useCallback:function(e,t){return Yt().memoizedState=[e,t===void 0?null:t],e},useContext:Pt,useEffect:$h,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,sl(4194308,4,Wg.bind(null,t,e),n)},useLayoutEffect:function(e,t){return sl(4194308,4,e,t)},useInsertionEffect:function(e,t){return sl(4,2,e,t)},useMemo:function(e,t){var n=Yt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Yt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Qx.bind(null,we,e),[r.memoizedState,e]},useRef:function(e){var t=Yt();return e={current:e},t.memoizedState=e},useState:Mh,useDebugValue:Lf,useDeferredValue:function(e){return Yt().memoizedState=e},useTransition:function(){var e=Mh(!1),t=e[0];return e=qx.bind(null,e[1]),Yt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=we,s=Yt();if(me){if(n===void 0)throw Error(H(407));n=n()}else{if(n=t(),$e===null)throw Error(H(349));Nr&30||Dg(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,$h(Lg.bind(null,r,i,e),[e]),r.flags|=2048,Vi(9,zg.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Yt(),t=$e.identifierPrefix;if(me){var n=pn,r=hn;n=(r&~(1<<32-jt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Bi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Kx++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},e_={readContext:Pt,useCallback:Gg,useContext:Pt,useEffect:zf,useImperativeHandle:Xg,useInsertionEffect:Vg,useLayoutEffect:Ug,useMemo:Yg,useReducer:au,useRef:Hg,useState:function(){return au(Hi)},useDebugValue:Lf,useDeferredValue:function(e){var t=At();return Kg(t,Pe.memoizedState,e)},useTransition:function(){var e=au(Hi)[0],t=At().memoizedState;return[e,t]},useMutableSource:Og,useSyncExternalStore:Fg,useId:qg,unstable_isNewReconciler:!1},t_={readContext:Pt,useCallback:Gg,useContext:Pt,useEffect:zf,useImperativeHandle:Xg,useInsertionEffect:Vg,useLayoutEffect:Ug,useMemo:Yg,useReducer:uu,useRef:Hg,useState:function(){return uu(Hi)},useDebugValue:Lf,useDeferredValue:function(e){var t=At();return Pe===null?t.memoizedState=e:Kg(t,Pe.memoizedState,e)},useTransition:function(){var e=uu(Hi)[0],t=At().memoizedState;return[e,t]},useMutableSource:Og,useSyncExternalStore:Fg,useId:qg,unstable_isNewReconciler:!1};function $t(e,t){if(e&&e.defaultProps){t=ve({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function fc(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ve({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var fa={isMounted:function(e){return(e=e._reactInternals)?Rr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ze(),s=Xn(e),i=gn(r,s);i.payload=t,n!=null&&(i.callback=n),t=Un(e,i,s),t!==null&&(Bt(t,e,s,r),nl(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ze(),s=Xn(e),i=gn(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Un(e,i,s),t!==null&&(Bt(t,e,s,r),nl(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ze(),r=Xn(e),s=gn(n,r);s.tag=2,t!=null&&(s.callback=t),t=Un(e,s,r),t!==null&&(Bt(t,e,r,n),nl(t,e,r))}};function Ih(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Oi(n,r)||!Oi(s,i):!0}function e0(e,t,n){var r=!1,s=Qn,i=t.contextType;return typeof i=="object"&&i!==null?i=Pt(i):(s=lt(t)?Er:Ke.current,r=t.contextTypes,i=(r=r!=null)?_s(e,s):Qn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=fa,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Oh(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&fa.enqueueReplaceState(t,t.state,null)}function dc(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Rf(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Pt(i):(i=lt(t)?Er:Ke.current,s.context=_s(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(fc(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&fa.enqueueReplaceState(s,s.state,null),Il(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Ns(e,t){try{var n="",r=t;do n+=A1(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function cu(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function hc(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var n_=typeof WeakMap=="function"?WeakMap:Map;function t0(e,t,n){n=gn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ll||(Ll=!0,Ec=r),hc(e,t)},n}function n0(e,t,n){n=gn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){hc(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){hc(e,t),typeof r!="function"&&(Wn===null?Wn=new Set([this]):Wn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Fh(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new n_;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=g_.bind(null,e,t,n),t.then(e,e))}function Dh(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function zh(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=gn(-1,1),t.tag=2,Un(n,t,1))),n.lanes|=1),e)}var r_=kn.ReactCurrentOwner,st=!1;function Je(e,t,n,r){t.child=e===null?Rg(t,null,n,r):Es(t,e.child,n,r)}function Lh(e,t,n,r,s){n=n.render;var i=t.ref;return ds(t,s),r=Ff(e,t,n,r,i,s),n=Df(),e!==null&&!st?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,_n(e,t,s)):(me&&n&&kf(t),t.flags|=1,Je(e,t,r,s),t.child)}function jh(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Gf(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,r0(e,t,i,r,s)):(e=al(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Oi,n(o,r)&&e.ref===t.ref)return _n(e,t,s)}return t.flags|=1,e=Gn(i,r),e.ref=t.ref,e.return=t,t.child=e}function r0(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Oi(i,r)&&e.ref===t.ref)if(st=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(st=!0);else return t.lanes=e.lanes,_n(e,t,s)}return pc(e,t,n,r,s)}function s0(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ce(is,pt),pt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ce(is,pt),pt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ce(is,pt),pt|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,ce(is,pt),pt|=r;return Je(e,t,s,n),t.child}function i0(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function pc(e,t,n,r,s){var i=lt(n)?Er:Ke.current;return i=_s(t,i),ds(t,s),n=Ff(e,t,n,r,i,s),r=Df(),e!==null&&!st?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,_n(e,t,s)):(me&&r&&kf(t),t.flags|=1,Je(e,t,n,s),t.child)}function Bh(e,t,n,r,s){if(lt(n)){var i=!0;Al(t)}else i=!1;if(ds(t,s),t.stateNode===null)il(e,t),e0(t,n,r),dc(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Pt(u):(u=lt(n)?Er:Ke.current,u=_s(t,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&Oh(t,o,r,u),Rn=!1;var d=t.memoizedState;o.state=d,Il(t,r,o,s),a=t.memoizedState,l!==r||d!==a||ot.current||Rn?(typeof c=="function"&&(fc(t,n,c,r),a=t.memoizedState),(l=Rn||Ih(t,n,l,r,d,a,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,$g(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:$t(t.type,l),o.props=u,f=t.pendingProps,d=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=Pt(a):(a=lt(n)?Er:Ke.current,a=_s(t,a));var m=n.getDerivedStateFromProps;(c=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||d!==a)&&Oh(t,o,r,a),Rn=!1,d=t.memoizedState,o.state=d,Il(t,r,o,s);var v=t.memoizedState;l!==f||d!==v||ot.current||Rn?(typeof m=="function"&&(fc(t,n,m,r),v=t.memoizedState),(u=Rn||Ih(t,n,u,r,d,v,a)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,a)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),o.props=r,o.state=v,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return mc(e,t,n,r,i,s)}function mc(e,t,n,r,s,i){i0(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&Ch(t,n,!1),_n(e,t,i);r=t.stateNode,r_.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Es(t,e.child,null,i),t.child=Es(t,null,l,i)):Je(e,t,l,i),t.memoizedState=r.state,s&&Ch(t,n,!0),t.child}function o0(e){var t=e.stateNode;t.pendingContext?Nh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Nh(e,t.context,!1),Mf(e,t.containerInfo)}function Hh(e,t,n,r,s){return Ss(),Cf(s),t.flags|=256,Je(e,t,n,r),t.child}var gc={dehydrated:null,treeContext:null,retryLane:0};function yc(e){return{baseLanes:e,cachePool:null,transitions:null}}function l0(e,t,n){var r=t.pendingProps,s=ye.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ce(ye,s&1),e===null)return uc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=pa(o,r,0,null),e=xr(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=yc(n),t.memoizedState=gc,e):jf(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return s_(e,t,o,r,l,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,l=s.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=Gn(s,a),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Gn(l,i):(i=xr(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?yc(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=gc,r}return i=e.child,e=i.sibling,r=Gn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function jf(e,t){return t=pa({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ao(e,t,n,r){return r!==null&&Cf(r),Es(t,e.child,null,n),e=jf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function s_(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=cu(Error(H(422))),Ao(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=pa({mode:"visible",children:r.children},s,0,null),i=xr(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Es(t,e.child,null,o),t.child.memoizedState=yc(o),t.memoizedState=gc,i);if(!(t.mode&1))return Ao(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(H(419)),r=cu(i,r,void 0),Ao(e,t,o,r)}if(l=(o&e.childLanes)!==0,st||l){if(r=$e,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,xn(e,s),Bt(r,e,s,-1))}return Xf(),r=cu(Error(H(421))),Ao(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=y_.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,mt=Vn(s.nextSibling),gt=t,me=!0,Dt=null,e!==null&&(_t[St++]=hn,_t[St++]=pn,_t[St++]=kr,hn=e.id,pn=e.overflow,kr=t),t=jf(t,r.children),t.flags|=4096,t)}function Vh(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),cc(e.return,t,n)}function fu(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function a0(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Je(e,t,r.children,n),r=ye.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Vh(e,n,t);else if(e.tag===19)Vh(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ce(ye,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Ol(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),fu(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ol(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}fu(t,!0,n,null,i);break;case"together":fu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function il(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function _n(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Cr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(H(153));if(t.child!==null){for(e=t.child,n=Gn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Gn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function i_(e,t,n){switch(t.tag){case 3:o0(t),Ss();break;case 5:Ig(t);break;case 1:lt(t.type)&&Al(t);break;case 4:Mf(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;ce(Ml,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ce(ye,ye.current&1),t.flags|=128,null):n&t.child.childLanes?l0(e,t,n):(ce(ye,ye.current&1),e=_n(e,t,n),e!==null?e.sibling:null);ce(ye,ye.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return a0(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ce(ye,ye.current),r)break;return null;case 22:case 23:return t.lanes=0,s0(e,t,n)}return _n(e,t,n)}var u0,wc,c0,f0;u0=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};wc=function(){};c0=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,mr(en.current);var i=null;switch(n){case"input":s=ju(e,s),r=ju(e,r),i=[];break;case"select":s=ve({},s,{value:void 0}),r=ve({},r,{value:void 0}),i=[];break;case"textarea":s=Vu(e,s),r=Vu(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=bl)}Wu(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Pi.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var a=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(i||(i=[]),i.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(i=i||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Pi.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&de("scroll",e),i||l===a||(i=[])):(i=i||[]).push(u,a))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};f0=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ks(e,t){if(!me)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Xe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function o_(e,t,n){var r=t.pendingProps;switch(Nf(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xe(t),null;case 1:return lt(t.type)&&Pl(),Xe(t),null;case 3:return r=t.stateNode,ks(),he(ot),he(Ke),If(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(bo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Dt!==null&&(Cc(Dt),Dt=null))),wc(e,t),Xe(t),null;case 5:$f(t);var s=mr(ji.current);if(n=t.type,e!==null&&t.stateNode!=null)c0(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(H(166));return Xe(t),null}if(e=mr(en.current),bo(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Qt]=t,r[zi]=i,e=(t.mode&1)!==0,n){case"dialog":de("cancel",r),de("close",r);break;case"iframe":case"object":case"embed":de("load",r);break;case"video":case"audio":for(s=0;s<oi.length;s++)de(oi[s],r);break;case"source":de("error",r);break;case"img":case"image":case"link":de("error",r),de("load",r);break;case"details":de("toggle",r);break;case"input":Jd(r,i),de("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},de("invalid",r);break;case"textarea":eh(r,i),de("invalid",r)}Wu(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Co(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Co(r.textContent,l,e),s=["children",""+l]):Pi.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&de("scroll",r)}switch(n){case"input":wo(r),Zd(r,i,!0);break;case"textarea":wo(r),th(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=bl)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Lm(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Qt]=t,e[zi]=r,u0(e,t,!1,!1),t.stateNode=e;e:{switch(o=Xu(n,r),n){case"dialog":de("cancel",e),de("close",e),s=r;break;case"iframe":case"object":case"embed":de("load",e),s=r;break;case"video":case"audio":for(s=0;s<oi.length;s++)de(oi[s],e);s=r;break;case"source":de("error",e),s=r;break;case"img":case"image":case"link":de("error",e),de("load",e),s=r;break;case"details":de("toggle",e),s=r;break;case"input":Jd(e,r),s=ju(e,r),de("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=ve({},r,{value:void 0}),de("invalid",e);break;case"textarea":eh(e,r),s=Vu(e,r),de("invalid",e);break;default:s=r}Wu(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="style"?Hm(e,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&jm(e,a)):i==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Ai(e,a):typeof a=="number"&&Ai(e,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Pi.hasOwnProperty(i)?a!=null&&i==="onScroll"&&de("scroll",e):a!=null&&cf(e,i,a,o))}switch(n){case"input":wo(e),Zd(e,r,!1);break;case"textarea":wo(e),th(e);break;case"option":r.value!=null&&e.setAttribute("value",""+qn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?as(e,!!r.multiple,i,!1):r.defaultValue!=null&&as(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=bl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Xe(t),null;case 6:if(e&&t.stateNode!=null)f0(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(H(166));if(n=mr(ji.current),mr(en.current),bo(t)){if(r=t.stateNode,n=t.memoizedProps,r[Qt]=t,(i=r.nodeValue!==n)&&(e=gt,e!==null))switch(e.tag){case 3:Co(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Co(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Qt]=t,t.stateNode=r}return Xe(t),null;case 13:if(he(ye),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(me&&mt!==null&&t.mode&1&&!(t.flags&128))Ag(),Ss(),t.flags|=98560,i=!1;else if(i=bo(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(H(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(H(317));i[Qt]=t}else Ss(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Xe(t),i=!1}else Dt!==null&&(Cc(Dt),Dt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ye.current&1?Ae===0&&(Ae=3):Xf())),t.updateQueue!==null&&(t.flags|=4),Xe(t),null);case 4:return ks(),wc(e,t),e===null&&Fi(t.stateNode.containerInfo),Xe(t),null;case 10:return Af(t.type._context),Xe(t),null;case 17:return lt(t.type)&&Pl(),Xe(t),null;case 19:if(he(ye),i=t.memoizedState,i===null)return Xe(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)Ks(i,!1);else{if(Ae!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ol(e),o!==null){for(t.flags|=128,Ks(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ce(ye,ye.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ee()>Cs&&(t.flags|=128,r=!0,Ks(i,!1),t.lanes=4194304)}else{if(!r)if(e=Ol(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ks(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!me)return Xe(t),null}else 2*Ee()-i.renderingStartTime>Cs&&n!==1073741824&&(t.flags|=128,r=!0,Ks(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ee(),t.sibling=null,n=ye.current,ce(ye,r?n&1|2:n&1),t):(Xe(t),null);case 22:case 23:return Wf(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?pt&1073741824&&(Xe(t),t.subtreeFlags&6&&(t.flags|=8192)):Xe(t),null;case 24:return null;case 25:return null}throw Error(H(156,t.tag))}function l_(e,t){switch(Nf(t),t.tag){case 1:return lt(t.type)&&Pl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ks(),he(ot),he(Ke),If(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return $f(t),null;case 13:if(he(ye),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(H(340));Ss()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return he(ye),null;case 4:return ks(),null;case 10:return Af(t.type._context),null;case 22:case 23:return Wf(),null;case 24:return null;default:return null}}var To=!1,Ye=!1,a_=typeof WeakSet=="function"?WeakSet:Set,W=null;function ss(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){xe(e,t,r)}else n.current=null}function vc(e,t,n){try{n()}catch(r){xe(e,t,r)}}var Uh=!1;function u_(e,t){if(nc=kl,e=gg(),Ef(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,c=0,f=e,d=null;t:for(;;){for(var m;f!==n||s!==0&&f.nodeType!==3||(l=o+s),f!==i||r!==0&&f.nodeType!==3||(a=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)d=f,f=m;for(;;){if(f===e)break t;if(d===n&&++u===s&&(l=o),d===i&&++c===r&&(a=o),(m=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=m}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(rc={focusedElem:e,selectionRange:n},kl=!1,W=t;W!==null;)if(t=W,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,W=e;else for(;W!==null;){t=W;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,_=v.memoizedState,p=t.stateNode,h=p.getSnapshotBeforeUpdate(t.elementType===t.type?g:$t(t.type,g),_);p.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(w){xe(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,W=e;break}W=t.return}return v=Uh,Uh=!1,v}function Si(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&vc(t,n,i)}s=s.next}while(s!==r)}}function da(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function xc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function d0(e){var t=e.alternate;t!==null&&(e.alternate=null,d0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Qt],delete t[zi],delete t[oc],delete t[Wx],delete t[Xx])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function h0(e){return e.tag===5||e.tag===3||e.tag===4}function Wh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||h0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function _c(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=bl));else if(r!==4&&(e=e.child,e!==null))for(_c(e,t,n),e=e.sibling;e!==null;)_c(e,t,n),e=e.sibling}function Sc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Sc(e,t,n),e=e.sibling;e!==null;)Sc(e,t,n),e=e.sibling}var De=null,Ot=!1;function Nn(e,t,n){for(n=n.child;n!==null;)p0(e,t,n),n=n.sibling}function p0(e,t,n){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(sa,n)}catch{}switch(n.tag){case 5:Ye||ss(n,t);case 6:var r=De,s=Ot;De=null,Nn(e,t,n),De=r,Ot=s,De!==null&&(Ot?(e=De,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):De.removeChild(n.stateNode));break;case 18:De!==null&&(Ot?(e=De,n=n.stateNode,e.nodeType===8?su(e.parentNode,n):e.nodeType===1&&su(e,n),$i(e)):su(De,n.stateNode));break;case 4:r=De,s=Ot,De=n.stateNode.containerInfo,Ot=!0,Nn(e,t,n),De=r,Ot=s;break;case 0:case 11:case 14:case 15:if(!Ye&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&vc(n,t,o),s=s.next}while(s!==r)}Nn(e,t,n);break;case 1:if(!Ye&&(ss(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){xe(n,t,l)}Nn(e,t,n);break;case 21:Nn(e,t,n);break;case 22:n.mode&1?(Ye=(r=Ye)||n.memoizedState!==null,Nn(e,t,n),Ye=r):Nn(e,t,n);break;default:Nn(e,t,n)}}function Xh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new a_),t.forEach(function(r){var s=w_.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Rt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:De=l.stateNode,Ot=!1;break e;case 3:De=l.stateNode.containerInfo,Ot=!0;break e;case 4:De=l.stateNode.containerInfo,Ot=!0;break e}l=l.return}if(De===null)throw Error(H(160));p0(i,o,s),De=null,Ot=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(u){xe(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)m0(t,e),t=t.sibling}function m0(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Rt(t,e),Xt(e),r&4){try{Si(3,e,e.return),da(3,e)}catch(g){xe(e,e.return,g)}try{Si(5,e,e.return)}catch(g){xe(e,e.return,g)}}break;case 1:Rt(t,e),Xt(e),r&512&&n!==null&&ss(n,n.return);break;case 5:if(Rt(t,e),Xt(e),r&512&&n!==null&&ss(n,n.return),e.flags&32){var s=e.stateNode;try{Ai(s,"")}catch(g){xe(e,e.return,g)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Dm(s,i),Xu(l,o);var u=Xu(l,i);for(o=0;o<a.length;o+=2){var c=a[o],f=a[o+1];c==="style"?Hm(s,f):c==="dangerouslySetInnerHTML"?jm(s,f):c==="children"?Ai(s,f):cf(s,c,f,u)}switch(l){case"input":Bu(s,i);break;case"textarea":zm(s,i);break;case"select":var d=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?as(s,!!i.multiple,m,!1):d!==!!i.multiple&&(i.defaultValue!=null?as(s,!!i.multiple,i.defaultValue,!0):as(s,!!i.multiple,i.multiple?[]:"",!1))}s[zi]=i}catch(g){xe(e,e.return,g)}}break;case 6:if(Rt(t,e),Xt(e),r&4){if(e.stateNode===null)throw Error(H(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(g){xe(e,e.return,g)}}break;case 3:if(Rt(t,e),Xt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{$i(t.containerInfo)}catch(g){xe(e,e.return,g)}break;case 4:Rt(t,e),Xt(e);break;case 13:Rt(t,e),Xt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Vf=Ee())),r&4&&Xh(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Ye=(u=Ye)||c,Rt(t,e),Ye=u):Rt(t,e),Xt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(W=e,c=e.child;c!==null;){for(f=W=c;W!==null;){switch(d=W,m=d.child,d.tag){case 0:case 11:case 14:case 15:Si(4,d,d.return);break;case 1:ss(d,d.return);var v=d.stateNode;if(typeof v.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(g){xe(r,n,g)}}break;case 5:ss(d,d.return);break;case 22:if(d.memoizedState!==null){Yh(f);continue}}m!==null?(m.return=d,W=m):Yh(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,a=f.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Bm("display",o))}catch(g){xe(e,e.return,g)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){xe(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Rt(t,e),Xt(e),r&4&&Xh(e);break;case 21:break;default:Rt(t,e),Xt(e)}}function Xt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(h0(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ai(s,""),r.flags&=-33);var i=Wh(e);Sc(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Wh(e);_c(e,l,o);break;default:throw Error(H(161))}}catch(a){xe(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function c_(e,t,n){W=e,g0(e)}function g0(e,t,n){for(var r=(e.mode&1)!==0;W!==null;){var s=W,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||To;if(!o){var l=s.alternate,a=l!==null&&l.memoizedState!==null||Ye;l=To;var u=Ye;if(To=o,(Ye=a)&&!u)for(W=s;W!==null;)o=W,a=o.child,o.tag===22&&o.memoizedState!==null?Kh(s):a!==null?(a.return=o,W=a):Kh(s);for(;i!==null;)W=i,g0(i),i=i.sibling;W=s,To=l,Ye=u}Gh(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,W=i):Gh(e)}}function Gh(e){for(;W!==null;){var t=W;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ye||da(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ye)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:$t(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Rh(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Rh(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&$i(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}Ye||t.flags&512&&xc(t)}catch(d){xe(t,t.return,d)}}if(t===e){W=null;break}if(n=t.sibling,n!==null){n.return=t.return,W=n;break}W=t.return}}function Yh(e){for(;W!==null;){var t=W;if(t===e){W=null;break}var n=t.sibling;if(n!==null){n.return=t.return,W=n;break}W=t.return}}function Kh(e){for(;W!==null;){var t=W;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{da(4,t)}catch(a){xe(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(a){xe(t,s,a)}}var i=t.return;try{xc(t)}catch(a){xe(t,i,a)}break;case 5:var o=t.return;try{xc(t)}catch(a){xe(t,o,a)}}}catch(a){xe(t,t.return,a)}if(t===e){W=null;break}var l=t.sibling;if(l!==null){l.return=t.return,W=l;break}W=t.return}}var f_=Math.ceil,zl=kn.ReactCurrentDispatcher,Bf=kn.ReactCurrentOwner,bt=kn.ReactCurrentBatchConfig,re=0,$e=null,ke=null,Le=0,pt=0,is=Zn(0),Ae=0,Ui=null,Cr=0,ha=0,Hf=0,Ei=null,rt=null,Vf=0,Cs=1/0,fn=null,Ll=!1,Ec=null,Wn=null,Ro=!1,zn=null,jl=0,ki=0,kc=null,ol=-1,ll=0;function Ze(){return re&6?Ee():ol!==-1?ol:ol=Ee()}function Xn(e){return e.mode&1?re&2&&Le!==0?Le&-Le:Yx.transition!==null?(ll===0&&(ll=eg()),ll):(e=le,e!==0||(e=window.event,e=e===void 0?16:lg(e.type)),e):1}function Bt(e,t,n,r){if(50<ki)throw ki=0,kc=null,Error(H(185));no(e,n,r),(!(re&2)||e!==$e)&&(e===$e&&(!(re&2)&&(ha|=n),Ae===4&&On(e,Le)),at(e,r),n===1&&re===0&&!(t.mode&1)&&(Cs=Ee()+500,ua&&er()))}function at(e,t){var n=e.callbackNode;Y1(e,t);var r=El(e,e===$e?Le:0);if(r===0)n!==null&&sh(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&sh(n),t===1)e.tag===0?Gx(qh.bind(null,e)):Cg(qh.bind(null,e)),Vx(function(){!(re&6)&&er()}),n=null;else{switch(tg(r)){case 1:n=mf;break;case 4:n=Jm;break;case 16:n=Sl;break;case 536870912:n=Zm;break;default:n=Sl}n=k0(n,y0.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function y0(e,t){if(ol=-1,ll=0,re&6)throw Error(H(327));var n=e.callbackNode;if(hs()&&e.callbackNode!==n)return null;var r=El(e,e===$e?Le:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Bl(e,r);else{t=r;var s=re;re|=2;var i=v0();($e!==e||Le!==t)&&(fn=null,Cs=Ee()+500,vr(e,t));do try{p_();break}catch(l){w0(e,l)}while(!0);Pf(),zl.current=i,re=s,ke!==null?t=0:($e=null,Le=0,t=Ae)}if(t!==0){if(t===2&&(s=Qu(e),s!==0&&(r=s,t=Nc(e,s))),t===1)throw n=Ui,vr(e,0),On(e,r),at(e,Ee()),n;if(t===6)On(e,r);else{if(s=e.current.alternate,!(r&30)&&!d_(s)&&(t=Bl(e,r),t===2&&(i=Qu(e),i!==0&&(r=i,t=Nc(e,i))),t===1))throw n=Ui,vr(e,0),On(e,r),at(e,Ee()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(H(345));case 2:cr(e,rt,fn);break;case 3:if(On(e,r),(r&130023424)===r&&(t=Vf+500-Ee(),10<t)){if(El(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Ze(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=ic(cr.bind(null,e,rt,fn),t);break}cr(e,rt,fn);break;case 4:if(On(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-jt(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=Ee()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*f_(r/1960))-r,10<r){e.timeoutHandle=ic(cr.bind(null,e,rt,fn),r);break}cr(e,rt,fn);break;case 5:cr(e,rt,fn);break;default:throw Error(H(329))}}}return at(e,Ee()),e.callbackNode===n?y0.bind(null,e):null}function Nc(e,t){var n=Ei;return e.current.memoizedState.isDehydrated&&(vr(e,t).flags|=256),e=Bl(e,t),e!==2&&(t=rt,rt=n,t!==null&&Cc(t)),e}function Cc(e){rt===null?rt=e:rt.push.apply(rt,e)}function d_(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Vt(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function On(e,t){for(t&=~Hf,t&=~ha,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-jt(t),r=1<<n;e[n]=-1,t&=~r}}function qh(e){if(re&6)throw Error(H(327));hs();var t=El(e,0);if(!(t&1))return at(e,Ee()),null;var n=Bl(e,t);if(e.tag!==0&&n===2){var r=Qu(e);r!==0&&(t=r,n=Nc(e,r))}if(n===1)throw n=Ui,vr(e,0),On(e,t),at(e,Ee()),n;if(n===6)throw Error(H(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,cr(e,rt,fn),at(e,Ee()),null}function Uf(e,t){var n=re;re|=1;try{return e(t)}finally{re=n,re===0&&(Cs=Ee()+500,ua&&er())}}function br(e){zn!==null&&zn.tag===0&&!(re&6)&&hs();var t=re;re|=1;var n=bt.transition,r=le;try{if(bt.transition=null,le=1,e)return e()}finally{le=r,bt.transition=n,re=t,!(re&6)&&er()}}function Wf(){pt=is.current,he(is)}function vr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Hx(n)),ke!==null)for(n=ke.return;n!==null;){var r=n;switch(Nf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Pl();break;case 3:ks(),he(ot),he(Ke),If();break;case 5:$f(r);break;case 4:ks();break;case 13:he(ye);break;case 19:he(ye);break;case 10:Af(r.type._context);break;case 22:case 23:Wf()}n=n.return}if($e=e,ke=e=Gn(e.current,null),Le=pt=t,Ae=0,Ui=null,Hf=ha=Cr=0,rt=Ei=null,pr!==null){for(t=0;t<pr.length;t++)if(n=pr[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}pr=null}return e}function w0(e,t){do{var n=ke;try{if(Pf(),rl.current=Dl,Fl){for(var r=we.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Fl=!1}if(Nr=0,Me=Pe=we=null,_i=!1,Bi=0,Bf.current=null,n===null||n.return===null){Ae=1,Ui=t,ke=null;break}e:{var i=e,o=n.return,l=n,a=t;if(t=Le,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,c=l,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=Dh(o);if(m!==null){m.flags&=-257,zh(m,o,l,i,t),m.mode&1&&Fh(i,u,t),t=m,a=u;var v=t.updateQueue;if(v===null){var g=new Set;g.add(a),t.updateQueue=g}else v.add(a);break e}else{if(!(t&1)){Fh(i,u,t),Xf();break e}a=Error(H(426))}}else if(me&&l.mode&1){var _=Dh(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),zh(_,o,l,i,t),Cf(Ns(a,l));break e}}i=a=Ns(a,l),Ae!==4&&(Ae=2),Ei===null?Ei=[i]:Ei.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var p=t0(i,a,t);Th(i,p);break e;case 1:l=a;var h=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof h.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Wn===null||!Wn.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t;var w=n0(i,l,t);Th(i,w);break e}}i=i.return}while(i!==null)}_0(n)}catch(E){t=E,ke===n&&n!==null&&(ke=n=n.return);continue}break}while(!0)}function v0(){var e=zl.current;return zl.current=Dl,e===null?Dl:e}function Xf(){(Ae===0||Ae===3||Ae===2)&&(Ae=4),$e===null||!(Cr&268435455)&&!(ha&268435455)||On($e,Le)}function Bl(e,t){var n=re;re|=2;var r=v0();($e!==e||Le!==t)&&(fn=null,vr(e,t));do try{h_();break}catch(s){w0(e,s)}while(!0);if(Pf(),re=n,zl.current=r,ke!==null)throw Error(H(261));return $e=null,Le=0,Ae}function h_(){for(;ke!==null;)x0(ke)}function p_(){for(;ke!==null&&!L1();)x0(ke)}function x0(e){var t=E0(e.alternate,e,pt);e.memoizedProps=e.pendingProps,t===null?_0(e):ke=t,Bf.current=null}function _0(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=l_(n,t),n!==null){n.flags&=32767,ke=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ae=6,ke=null;return}}else if(n=o_(n,t,pt),n!==null){ke=n;return}if(t=t.sibling,t!==null){ke=t;return}ke=t=e}while(t!==null);Ae===0&&(Ae=5)}function cr(e,t,n){var r=le,s=bt.transition;try{bt.transition=null,le=1,m_(e,t,n,r)}finally{bt.transition=s,le=r}return null}function m_(e,t,n,r){do hs();while(zn!==null);if(re&6)throw Error(H(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(H(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(K1(e,i),e===$e&&(ke=$e=null,Le=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ro||(Ro=!0,k0(Sl,function(){return hs(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=bt.transition,bt.transition=null;var o=le;le=1;var l=re;re|=4,Bf.current=null,u_(e,n),m0(n,e),Ox(rc),kl=!!nc,rc=nc=null,e.current=n,c_(n),j1(),re=l,le=o,bt.transition=i}else e.current=n;if(Ro&&(Ro=!1,zn=e,jl=s),i=e.pendingLanes,i===0&&(Wn=null),V1(n.stateNode),at(e,Ee()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ll)throw Ll=!1,e=Ec,Ec=null,e;return jl&1&&e.tag!==0&&hs(),i=e.pendingLanes,i&1?e===kc?ki++:(ki=0,kc=e):ki=0,er(),null}function hs(){if(zn!==null){var e=tg(jl),t=bt.transition,n=le;try{if(bt.transition=null,le=16>e?16:e,zn===null)var r=!1;else{if(e=zn,zn=null,jl=0,re&6)throw Error(H(331));var s=re;for(re|=4,W=e.current;W!==null;){var i=W,o=i.child;if(W.flags&16){var l=i.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(W=u;W!==null;){var c=W;switch(c.tag){case 0:case 11:case 15:Si(8,c,i)}var f=c.child;if(f!==null)f.return=c,W=f;else for(;W!==null;){c=W;var d=c.sibling,m=c.return;if(d0(c),c===u){W=null;break}if(d!==null){d.return=m,W=d;break}W=m}}}var v=i.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var _=g.sibling;g.sibling=null,g=_}while(g!==null)}}W=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,W=o;else e:for(;W!==null;){if(i=W,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Si(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,W=p;break e}W=i.return}}var h=e.current;for(W=h;W!==null;){o=W;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,W=y;else e:for(o=h;W!==null;){if(l=W,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:da(9,l)}}catch(E){xe(l,l.return,E)}if(l===o){W=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,W=w;break e}W=l.return}}if(re=s,er(),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(sa,e)}catch{}r=!0}return r}finally{le=n,bt.transition=t}}return!1}function Qh(e,t,n){t=Ns(n,t),t=t0(e,t,1),e=Un(e,t,1),t=Ze(),e!==null&&(no(e,1,t),at(e,t))}function xe(e,t,n){if(e.tag===3)Qh(e,e,n);else for(;t!==null;){if(t.tag===3){Qh(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Wn===null||!Wn.has(r))){e=Ns(n,e),e=n0(t,e,1),t=Un(t,e,1),e=Ze(),t!==null&&(no(t,1,e),at(t,e));break}}t=t.return}}function g_(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ze(),e.pingedLanes|=e.suspendedLanes&n,$e===e&&(Le&n)===n&&(Ae===4||Ae===3&&(Le&130023424)===Le&&500>Ee()-Vf?vr(e,0):Hf|=n),at(e,t)}function S0(e,t){t===0&&(e.mode&1?(t=_o,_o<<=1,!(_o&130023424)&&(_o=4194304)):t=1);var n=Ze();e=xn(e,t),e!==null&&(no(e,t,n),at(e,n))}function y_(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),S0(e,n)}function w_(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(t),S0(e,n)}var E0;E0=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ot.current)st=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return st=!1,i_(e,t,n);st=!!(e.flags&131072)}else st=!1,me&&t.flags&1048576&&bg(t,Rl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;il(e,t),e=t.pendingProps;var s=_s(t,Ke.current);ds(t,n),s=Ff(null,t,r,e,s,n);var i=Df();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,lt(r)?(i=!0,Al(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Rf(t),s.updater=fa,t.stateNode=s,s._reactInternals=t,dc(t,r,e,n),t=mc(null,t,r,!0,i,n)):(t.tag=0,me&&i&&kf(t),Je(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(il(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=x_(r),e=$t(r,e),s){case 0:t=pc(null,t,r,e,n);break e;case 1:t=Bh(null,t,r,e,n);break e;case 11:t=Lh(null,t,r,e,n);break e;case 14:t=jh(null,t,r,$t(r.type,e),n);break e}throw Error(H(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:$t(r,s),pc(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:$t(r,s),Bh(e,t,r,s,n);case 3:e:{if(o0(t),e===null)throw Error(H(387));r=t.pendingProps,i=t.memoizedState,s=i.element,$g(e,t),Il(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Ns(Error(H(423)),t),t=Hh(e,t,r,n,s);break e}else if(r!==s){s=Ns(Error(H(424)),t),t=Hh(e,t,r,n,s);break e}else for(mt=Vn(t.stateNode.containerInfo.firstChild),gt=t,me=!0,Dt=null,n=Rg(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ss(),r===s){t=_n(e,t,n);break e}Je(e,t,r,n)}t=t.child}return t;case 5:return Ig(t),e===null&&uc(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,sc(r,s)?o=null:i!==null&&sc(r,i)&&(t.flags|=32),i0(e,t),Je(e,t,o,n),t.child;case 6:return e===null&&uc(t),null;case 13:return l0(e,t,n);case 4:return Mf(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Es(t,null,r,n):Je(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:$t(r,s),Lh(e,t,r,s,n);case 7:return Je(e,t,t.pendingProps,n),t.child;case 8:return Je(e,t,t.pendingProps.children,n),t.child;case 12:return Je(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,ce(Ml,r._currentValue),r._currentValue=o,i!==null)if(Vt(i.value,o)){if(i.children===s.children&&!ot.current){t=_n(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(i.tag===1){a=gn(-1,n&-n),a.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?a.next=a:(a.next=c.next,c.next=a),u.pending=a}}i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),cc(i.return,n,t),l.lanes|=n;break}a=a.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(H(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),cc(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Je(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,ds(t,n),s=Pt(s),r=r(s),t.flags|=1,Je(e,t,r,n),t.child;case 14:return r=t.type,s=$t(r,t.pendingProps),s=$t(r.type,s),jh(e,t,r,s,n);case 15:return r0(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:$t(r,s),il(e,t),t.tag=1,lt(r)?(e=!0,Al(t)):e=!1,ds(t,n),e0(t,r,s),dc(t,r,s,n),mc(null,t,r,!0,e,n);case 19:return a0(e,t,n);case 22:return s0(e,t,n)}throw Error(H(156,t.tag))};function k0(e,t){return Qm(e,t)}function v_(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kt(e,t,n,r){return new v_(e,t,n,r)}function Gf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function x_(e){if(typeof e=="function")return Gf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===df)return 11;if(e===hf)return 14}return 2}function Gn(e,t){var n=e.alternate;return n===null?(n=kt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function al(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")Gf(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Kr:return xr(n.children,s,i,t);case ff:o=8,s|=8;break;case Fu:return e=kt(12,n,t,s|2),e.elementType=Fu,e.lanes=i,e;case Du:return e=kt(13,n,t,s),e.elementType=Du,e.lanes=i,e;case zu:return e=kt(19,n,t,s),e.elementType=zu,e.lanes=i,e;case Im:return pa(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Mm:o=10;break e;case $m:o=9;break e;case df:o=11;break e;case hf:o=14;break e;case Tn:o=16,r=null;break e}throw Error(H(130,e==null?e:typeof e,""))}return t=kt(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function xr(e,t,n,r){return e=kt(7,e,r,t),e.lanes=n,e}function pa(e,t,n,r){return e=kt(22,e,r,t),e.elementType=Im,e.lanes=n,e.stateNode={isHidden:!1},e}function du(e,t,n){return e=kt(6,e,null,t),e.lanes=n,e}function hu(e,t,n){return t=kt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function __(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ga(0),this.expirationTimes=Ga(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ga(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Yf(e,t,n,r,s,i,o,l,a){return e=new __(e,t,n,l,a),t===1?(t=1,i===!0&&(t|=8)):t=0,i=kt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rf(i),e}function S_(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Yr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function N0(e){if(!e)return Qn;e=e._reactInternals;e:{if(Rr(e)!==e||e.tag!==1)throw Error(H(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(lt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(H(171))}if(e.tag===1){var n=e.type;if(lt(n))return Ng(e,n,t)}return t}function C0(e,t,n,r,s,i,o,l,a){return e=Yf(n,r,!0,e,s,i,o,l,a),e.context=N0(null),n=e.current,r=Ze(),s=Xn(n),i=gn(r,s),i.callback=t??null,Un(n,i,s),e.current.lanes=s,no(e,s,r),at(e,r),e}function ma(e,t,n,r){var s=t.current,i=Ze(),o=Xn(s);return n=N0(n),t.context===null?t.context=n:t.pendingContext=n,t=gn(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Un(s,t,o),e!==null&&(Bt(e,s,o,i),nl(e,s,o)),o}function Hl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Jh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Kf(e,t){Jh(e,t),(e=e.alternate)&&Jh(e,t)}function E_(){return null}var b0=typeof reportError=="function"?reportError:function(e){console.error(e)};function qf(e){this._internalRoot=e}ga.prototype.render=qf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(H(409));ma(e,t,null,null)};ga.prototype.unmount=qf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;br(function(){ma(null,e,null,null)}),t[vn]=null}};function ga(e){this._internalRoot=e}ga.prototype.unstable_scheduleHydration=function(e){if(e){var t=sg();e={blockedOn:null,target:e,priority:t};for(var n=0;n<In.length&&t!==0&&t<In[n].priority;n++);In.splice(n,0,e),n===0&&og(e)}};function Qf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ya(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Zh(){}function k_(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Hl(o);i.call(u)}}var o=C0(t,r,e,0,null,!1,!1,"",Zh);return e._reactRootContainer=o,e[vn]=o.current,Fi(e.nodeType===8?e.parentNode:e),br(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=Hl(a);l.call(u)}}var a=Yf(e,0,!1,null,null,!1,!1,"",Zh);return e._reactRootContainer=a,e[vn]=a.current,Fi(e.nodeType===8?e.parentNode:e),br(function(){ma(t,a,n,r)}),a}function wa(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var a=Hl(o);l.call(a)}}ma(t,o,e,s)}else o=k_(n,t,e,s,r);return Hl(o)}ng=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ii(t.pendingLanes);n!==0&&(gf(t,n|1),at(t,Ee()),!(re&6)&&(Cs=Ee()+500,er()))}break;case 13:br(function(){var r=xn(e,1);if(r!==null){var s=Ze();Bt(r,e,1,s)}}),Kf(e,1)}};yf=function(e){if(e.tag===13){var t=xn(e,134217728);if(t!==null){var n=Ze();Bt(t,e,134217728,n)}Kf(e,134217728)}};rg=function(e){if(e.tag===13){var t=Xn(e),n=xn(e,t);if(n!==null){var r=Ze();Bt(n,e,t,r)}Kf(e,t)}};sg=function(){return le};ig=function(e,t){var n=le;try{return le=e,t()}finally{le=n}};Yu=function(e,t,n){switch(t){case"input":if(Bu(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=aa(r);if(!s)throw Error(H(90));Fm(r),Bu(r,s)}}}break;case"textarea":zm(e,n);break;case"select":t=n.value,t!=null&&as(e,!!n.multiple,t,!1)}};Wm=Uf;Xm=br;var N_={usingClientEntryPoint:!1,Events:[so,Zr,aa,Vm,Um,Uf]},qs={findFiberByHostInstance:hr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},C_={bundleType:qs.bundleType,version:qs.version,rendererPackageName:qs.rendererPackageName,rendererConfig:qs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:kn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Km(e),e===null?null:e.stateNode},findFiberByHostInstance:qs.findFiberByHostInstance||E_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mo.isDisabled&&Mo.supportsFiber)try{sa=Mo.inject(C_),Zt=Mo}catch{}}vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N_;vt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qf(t))throw Error(H(200));return S_(e,t,null,n)};vt.createRoot=function(e,t){if(!Qf(e))throw Error(H(299));var n=!1,r="",s=b0;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Yf(e,1,!1,null,null,n,!1,r,s),e[vn]=t.current,Fi(e.nodeType===8?e.parentNode:e),new qf(t)};vt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(H(188)):(e=Object.keys(e).join(","),Error(H(268,e)));return e=Km(t),e=e===null?null:e.stateNode,e};vt.flushSync=function(e){return br(e)};vt.hydrate=function(e,t,n){if(!ya(t))throw Error(H(200));return wa(null,e,t,!0,n)};vt.hydrateRoot=function(e,t,n){if(!Qf(e))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=b0;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=C0(t,null,e,1,n??null,s,!1,i,o),e[vn]=t.current,Fi(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new ga(t)};vt.render=function(e,t,n){if(!ya(t))throw Error(H(200));return wa(null,e,t,!1,n)};vt.unmountComponentAtNode=function(e){if(!ya(e))throw Error(H(40));return e._reactRootContainer?(br(function(){wa(null,null,e,!1,function(){e._reactRootContainer=null,e[vn]=null})}),!0):!1};vt.unstable_batchedUpdates=Uf;vt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ya(n))throw Error(H(200));if(e==null||e._reactInternals===void 0)throw Error(H(38));return wa(e,t,n,!1,r)};vt.version="18.3.1-next-f1338f8080-20240426";function P0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(P0)}catch(e){console.error(e)}}P0(),Pm.exports=vt;var b_=Pm.exports,A0,ep=b_;A0=ep.createRoot,ep.hydrateRoot;function He(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=He(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var T0={exports:{}},R0={},M0={exports:{}},$0={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bs=A;function P_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var A_=typeof Object.is=="function"?Object.is:P_,T_=bs.useState,R_=bs.useEffect,M_=bs.useLayoutEffect,$_=bs.useDebugValue;function I_(e,t){var n=t(),r=T_({inst:{value:n,getSnapshot:t}}),s=r[0].inst,i=r[1];return M_(function(){s.value=n,s.getSnapshot=t,pu(s)&&i({inst:s})},[e,n,t]),R_(function(){return pu(s)&&i({inst:s}),e(function(){pu(s)&&i({inst:s})})},[e]),$_(n),n}function pu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!A_(e,n)}catch{return!0}}function O_(e,t){return t()}var F_=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?O_:I_;$0.useSyncExternalStore=bs.useSyncExternalStore!==void 0?bs.useSyncExternalStore:F_;M0.exports=$0;var D_=M0.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var va=A,z_=D_;function L_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var j_=typeof Object.is=="function"?Object.is:L_,B_=z_.useSyncExternalStore,H_=va.useRef,V_=va.useEffect,U_=va.useMemo,W_=va.useDebugValue;R0.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var i=H_(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=U_(function(){function a(m){if(!u){if(u=!0,c=m,m=r(m),s!==void 0&&o.hasValue){var v=o.value;if(s(v,m))return f=v}return f=m}if(v=f,j_(c,m))return v;var g=r(m);return s!==void 0&&s(v,g)?(c=m,v):(c=m,f=g)}var u=!1,c,f,d=n===void 0?null:n;return[function(){return a(t())},d===null?void 0:function(){return a(d())}]},[t,n,r,s]);var l=B_(e,i[0],i[1]);return V_(function(){o.hasValue=!0,o.value=l},[l]),W_(l),l};T0.exports=R0;var X_=T0.exports;const I0=gm(X_),G_={BASE_URL:"/agentica-os/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},tp=e=>{let t;const n=new Set,r=(c,f)=>{const d=typeof c=="function"?c(t):c;if(!Object.is(d,t)){const m=t;t=f??(typeof d!="object"||d===null)?d:Object.assign({},t,d),n.forEach(v=>v(t,m))}},s=()=>t,a={setState:r,getState:s,getInitialState:()=>u,subscribe:c=>(n.add(c),()=>n.delete(c)),destroy:()=>{(G_?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,s,a);return a},O0=e=>e?tp(e):tp,{useDebugValue:Y_}=O,{useSyncExternalStoreWithSelector:K_}=I0,q_=e=>e;function F0(e,t=q_,n){const r=K_(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return Y_(r),r}const np=(e,t)=>{const n=O0(e),r=(s,i=t)=>F0(n,s,i);return Object.assign(r,n),r},Q_=(e,t)=>e?np(e,t):np;function Ie(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,s]of e)if(!Object.is(s,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var J_={value:()=>{}};function xa(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new ul(n)}function ul(e){this._=e}function Z_(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",s=n.indexOf(".");if(s>=0&&(r=n.slice(s+1),n=n.slice(0,s)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}ul.prototype=xa.prototype={constructor:ul,on:function(e,t){var n=this._,r=Z_(e+"",n),s,i=-1,o=r.length;if(arguments.length<2){for(;++i<o;)if((s=(e=r[i]).type)&&(s=eS(n[s],e.name)))return s;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<o;)if(s=(e=r[i]).type)n[s]=rp(n[s],e.name,t);else if(t==null)for(s in n)n[s]=rp(n[s],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new ul(e)},call:function(e,t){if((s=arguments.length-2)>0)for(var n=new Array(s),r=0,s,i;r<s;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],r=0,s=i.length;r<s;++r)i[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],s=0,i=r.length;s<i;++s)r[s].value.apply(t,n)}};function eS(e,t){for(var n=0,r=e.length,s;n<r;++n)if((s=e[n]).name===t)return s.value}function rp(e,t,n){for(var r=0,s=e.length;r<s;++r)if(e[r].name===t){e[r]=J_,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var bc="http://www.w3.org/1999/xhtml";const sp={svg:"http://www.w3.org/2000/svg",xhtml:bc,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function _a(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),sp.hasOwnProperty(t)?{space:sp[t],local:e}:e}function tS(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===bc&&t.documentElement.namespaceURI===bc?t.createElement(e):t.createElementNS(n,e)}}function nS(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function D0(e){var t=_a(e);return(t.local?nS:tS)(t)}function rS(){}function Jf(e){return e==null?rS:function(){return this.querySelector(e)}}function sS(e){typeof e!="function"&&(e=Jf(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var i=t[s],o=i.length,l=r[s]=new Array(o),a,u,c=0;c<o;++c)(a=i[c])&&(u=e.call(a,a.__data__,c,i))&&("__data__"in a&&(u.__data__=a.__data__),l[c]=u);return new wt(r,this._parents)}function iS(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function oS(){return[]}function z0(e){return e==null?oS:function(){return this.querySelectorAll(e)}}function lS(e){return function(){return iS(e.apply(this,arguments))}}function aS(e){typeof e=="function"?e=lS(e):e=z0(e);for(var t=this._groups,n=t.length,r=[],s=[],i=0;i<n;++i)for(var o=t[i],l=o.length,a,u=0;u<l;++u)(a=o[u])&&(r.push(e.call(a,a.__data__,u,o)),s.push(a));return new wt(r,s)}function L0(e){return function(){return this.matches(e)}}function j0(e){return function(t){return t.matches(e)}}var uS=Array.prototype.find;function cS(e){return function(){return uS.call(this.children,e)}}function fS(){return this.firstElementChild}function dS(e){return this.select(e==null?fS:cS(typeof e=="function"?e:j0(e)))}var hS=Array.prototype.filter;function pS(){return Array.from(this.children)}function mS(e){return function(){return hS.call(this.children,e)}}function gS(e){return this.selectAll(e==null?pS:mS(typeof e=="function"?e:j0(e)))}function yS(e){typeof e!="function"&&(e=L0(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var i=t[s],o=i.length,l=r[s]=[],a,u=0;u<o;++u)(a=i[u])&&e.call(a,a.__data__,u,i)&&l.push(a);return new wt(r,this._parents)}function B0(e){return new Array(e.length)}function wS(){return new wt(this._enter||this._groups.map(B0),this._parents)}function Vl(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Vl.prototype={constructor:Vl,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function vS(e){return function(){return e}}function xS(e,t,n,r,s,i){for(var o=0,l,a=t.length,u=i.length;o<u;++o)(l=t[o])?(l.__data__=i[o],r[o]=l):n[o]=new Vl(e,i[o]);for(;o<a;++o)(l=t[o])&&(s[o]=l)}function _S(e,t,n,r,s,i,o){var l,a,u=new Map,c=t.length,f=i.length,d=new Array(c),m;for(l=0;l<c;++l)(a=t[l])&&(d[l]=m=o.call(a,a.__data__,l,t)+"",u.has(m)?s[l]=a:u.set(m,a));for(l=0;l<f;++l)m=o.call(e,i[l],l,i)+"",(a=u.get(m))?(r[l]=a,a.__data__=i[l],u.delete(m)):n[l]=new Vl(e,i[l]);for(l=0;l<c;++l)(a=t[l])&&u.get(d[l])===a&&(s[l]=a)}function SS(e){return e.__data__}function ES(e,t){if(!arguments.length)return Array.from(this,SS);var n=t?_S:xS,r=this._parents,s=this._groups;typeof e!="function"&&(e=vS(e));for(var i=s.length,o=new Array(i),l=new Array(i),a=new Array(i),u=0;u<i;++u){var c=r[u],f=s[u],d=f.length,m=kS(e.call(c,c&&c.__data__,u,r)),v=m.length,g=l[u]=new Array(v),_=o[u]=new Array(v),p=a[u]=new Array(d);n(c,f,g,_,p,m,t);for(var h=0,y=0,w,E;h<v;++h)if(w=g[h]){for(h>=y&&(y=h+1);!(E=_[y])&&++y<v;);w._next=E||null}}return o=new wt(o,r),o._enter=l,o._exit=a,o}function kS(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function NS(){return new wt(this._exit||this._groups.map(B0),this._parents)}function CS(e,t,n){var r=this.enter(),s=this,i=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(s=t(s),s&&(s=s.selection())),n==null?i.remove():n(i),r&&s?r.merge(s).order():s}function bS(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,s=n.length,i=r.length,o=Math.min(s,i),l=new Array(s),a=0;a<o;++a)for(var u=n[a],c=r[a],f=u.length,d=l[a]=new Array(f),m,v=0;v<f;++v)(m=u[v]||c[v])&&(d[v]=m);for(;a<s;++a)l[a]=n[a];return new wt(l,this._parents)}function PS(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],s=r.length-1,i=r[s],o;--s>=0;)(o=r[s])&&(i&&o.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(o,i),i=o);return this}function AS(e){e||(e=TS);function t(f,d){return f&&d?e(f.__data__,d.__data__):!f-!d}for(var n=this._groups,r=n.length,s=new Array(r),i=0;i<r;++i){for(var o=n[i],l=o.length,a=s[i]=new Array(l),u,c=0;c<l;++c)(u=o[c])&&(a[c]=u);a.sort(t)}return new wt(s,this._parents).order()}function TS(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function RS(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function MS(){return Array.from(this)}function $S(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],s=0,i=r.length;s<i;++s){var o=r[s];if(o)return o}return null}function IS(){let e=0;for(const t of this)++e;return e}function OS(){return!this.node()}function FS(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var s=t[n],i=0,o=s.length,l;i<o;++i)(l=s[i])&&e.call(l,l.__data__,i,s);return this}function DS(e){return function(){this.removeAttribute(e)}}function zS(e){return function(){this.removeAttributeNS(e.space,e.local)}}function LS(e,t){return function(){this.setAttribute(e,t)}}function jS(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function BS(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function HS(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function VS(e,t){var n=_a(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?zS:DS:typeof t=="function"?n.local?HS:BS:n.local?jS:LS)(n,t))}function H0(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function US(e){return function(){this.style.removeProperty(e)}}function WS(e,t,n){return function(){this.style.setProperty(e,t,n)}}function XS(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function GS(e,t,n){return arguments.length>1?this.each((t==null?US:typeof t=="function"?XS:WS)(e,t,n??"")):Ps(this.node(),e)}function Ps(e,t){return e.style.getPropertyValue(t)||H0(e).getComputedStyle(e,null).getPropertyValue(t)}function YS(e){return function(){delete this[e]}}function KS(e,t){return function(){this[e]=t}}function qS(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function QS(e,t){return arguments.length>1?this.each((t==null?YS:typeof t=="function"?qS:KS)(e,t)):this.node()[e]}function V0(e){return e.trim().split(/^|\s+/)}function Zf(e){return e.classList||new U0(e)}function U0(e){this._node=e,this._names=V0(e.getAttribute("class")||"")}U0.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function W0(e,t){for(var n=Zf(e),r=-1,s=t.length;++r<s;)n.add(t[r])}function X0(e,t){for(var n=Zf(e),r=-1,s=t.length;++r<s;)n.remove(t[r])}function JS(e){return function(){W0(this,e)}}function ZS(e){return function(){X0(this,e)}}function e2(e,t){return function(){(t.apply(this,arguments)?W0:X0)(this,e)}}function t2(e,t){var n=V0(e+"");if(arguments.length<2){for(var r=Zf(this.node()),s=-1,i=n.length;++s<i;)if(!r.contains(n[s]))return!1;return!0}return this.each((typeof t=="function"?e2:t?JS:ZS)(n,t))}function n2(){this.textContent=""}function r2(e){return function(){this.textContent=e}}function s2(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function i2(e){return arguments.length?this.each(e==null?n2:(typeof e=="function"?s2:r2)(e)):this.node().textContent}function o2(){this.innerHTML=""}function l2(e){return function(){this.innerHTML=e}}function a2(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function u2(e){return arguments.length?this.each(e==null?o2:(typeof e=="function"?a2:l2)(e)):this.node().innerHTML}function c2(){this.nextSibling&&this.parentNode.appendChild(this)}function f2(){return this.each(c2)}function d2(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function h2(){return this.each(d2)}function p2(e){var t=typeof e=="function"?e:D0(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function m2(){return null}function g2(e,t){var n=typeof e=="function"?e:D0(e),r=t==null?m2:typeof t=="function"?t:Jf(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function y2(){var e=this.parentNode;e&&e.removeChild(this)}function w2(){return this.each(y2)}function v2(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function x2(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function _2(e){return this.select(e?x2:v2)}function S2(e){return arguments.length?this.property("__data__",e):this.node().__data__}function E2(e){return function(t){e.call(this,t,this.__data__)}}function k2(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function N2(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,s=t.length,i;n<s;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++r]=i;++r?t.length=r:delete this.__on}}}function C2(e,t,n){return function(){var r=this.__on,s,i=E2(t);if(r){for(var o=0,l=r.length;o<l;++o)if((s=r[o]).type===e.type&&s.name===e.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=i,s.options=n),s.value=t;return}}this.addEventListener(e.type,i,n),s={type:e.type,name:e.name,value:t,listener:i,options:n},r?r.push(s):this.__on=[s]}}function b2(e,t,n){var r=k2(e+""),s,i=r.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var a=0,u=l.length,c;a<u;++a)for(s=0,c=l[a];s<i;++s)if((o=r[s]).type===c.type&&o.name===c.name)return c.value}return}for(l=t?C2:N2,s=0;s<i;++s)this.each(l(r[s],t,n));return this}function G0(e,t,n){var r=H0(e),s=r.CustomEvent;typeof s=="function"?s=new s(t,n):(s=r.document.createEvent("Event"),n?(s.initEvent(t,n.bubbles,n.cancelable),s.detail=n.detail):s.initEvent(t,!1,!1)),e.dispatchEvent(s)}function P2(e,t){return function(){return G0(this,e,t)}}function A2(e,t){return function(){return G0(this,e,t.apply(this,arguments))}}function T2(e,t){return this.each((typeof t=="function"?A2:P2)(e,t))}function*R2(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],s=0,i=r.length,o;s<i;++s)(o=r[s])&&(yield o)}var Y0=[null];function wt(e,t){this._groups=e,this._parents=t}function oo(){return new wt([[document.documentElement]],Y0)}function M2(){return this}wt.prototype=oo.prototype={constructor:wt,select:sS,selectAll:aS,selectChild:dS,selectChildren:gS,filter:yS,data:ES,enter:wS,exit:NS,join:CS,merge:bS,selection:M2,order:PS,sort:AS,call:RS,nodes:MS,node:$S,size:IS,empty:OS,each:FS,attr:VS,style:GS,property:QS,classed:t2,text:i2,html:u2,raise:f2,lower:h2,append:p2,insert:g2,remove:w2,clone:_2,datum:S2,on:b2,dispatch:T2,[Symbol.iterator]:R2};function Et(e){return typeof e=="string"?new wt([[document.querySelector(e)]],[document.documentElement]):new wt([[e]],Y0)}function $2(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Ft(e,t){if(e=$2(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var s=t.getBoundingClientRect();return[e.clientX-s.left-t.clientLeft,e.clientY-s.top-t.clientTop]}}return[e.pageX,e.pageY]}const I2={passive:!1},Wi={capture:!0,passive:!1};function mu(e){e.stopImmediatePropagation()}function ps(e){e.preventDefault(),e.stopImmediatePropagation()}function K0(e){var t=e.document.documentElement,n=Et(e).on("dragstart.drag",ps,Wi);"onselectstart"in t?n.on("selectstart.drag",ps,Wi):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function q0(e,t){var n=e.document.documentElement,r=Et(e).on("dragstart.drag",null);t&&(r.on("click.drag",ps,Wi),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const $o=e=>()=>e;function Pc(e,{sourceEvent:t,subject:n,target:r,identifier:s,active:i,x:o,y:l,dx:a,dy:u,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:a,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:c}})}Pc.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function O2(e){return!e.ctrlKey&&!e.button}function F2(){return this.parentNode}function D2(e,t){return t??{x:e.x,y:e.y}}function z2(){return navigator.maxTouchPoints||"ontouchstart"in this}function L2(){var e=O2,t=F2,n=D2,r=z2,s={},i=xa("start","drag","end"),o=0,l,a,u,c,f=0;function d(w){w.on("mousedown.drag",m).filter(r).on("touchstart.drag",_).on("touchmove.drag",p,I2).on("touchend.drag touchcancel.drag",h).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function m(w,E){if(!(c||!e.call(this,w,E))){var k=y(this,t.call(this,w,E),w,E,"mouse");k&&(Et(w.view).on("mousemove.drag",v,Wi).on("mouseup.drag",g,Wi),K0(w.view),mu(w),u=!1,l=w.clientX,a=w.clientY,k("start",w))}}function v(w){if(ps(w),!u){var E=w.clientX-l,k=w.clientY-a;u=E*E+k*k>f}s.mouse("drag",w)}function g(w){Et(w.view).on("mousemove.drag mouseup.drag",null),q0(w.view,u),ps(w),s.mouse("end",w)}function _(w,E){if(e.call(this,w,E)){var k=w.changedTouches,N=t.call(this,w,E),R=k.length,M,I;for(M=0;M<R;++M)(I=y(this,N,w,E,k[M].identifier,k[M]))&&(mu(w),I("start",w,k[M]))}}function p(w){var E=w.changedTouches,k=E.length,N,R;for(N=0;N<k;++N)(R=s[E[N].identifier])&&(ps(w),R("drag",w,E[N]))}function h(w){var E=w.changedTouches,k=E.length,N,R;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),N=0;N<k;++N)(R=s[E[N].identifier])&&(mu(w),R("end",w,E[N]))}function y(w,E,k,N,R,M){var I=i.copy(),F=Ft(M||k,E),D,B,x;if((x=n.call(w,new Pc("beforestart",{sourceEvent:k,target:d,identifier:R,active:o,x:F[0],y:F[1],dx:0,dy:0,dispatch:I}),N))!=null)return D=x.x-F[0]||0,B=x.y-F[1]||0,function $(b,L,P){var S=F,T;switch(b){case"start":s[R]=$,T=o++;break;case"end":delete s[R],--o;case"drag":F=Ft(P||L,E),T=o;break}I.call(b,w,new Pc(b,{sourceEvent:L,subject:x,target:d,identifier:R,active:T,x:F[0]+D,y:F[1]+B,dx:F[0]-S[0],dy:F[1]-S[1],dispatch:I}),N)}}return d.filter=function(w){return arguments.length?(e=typeof w=="function"?w:$o(!!w),d):e},d.container=function(w){return arguments.length?(t=typeof w=="function"?w:$o(w),d):t},d.subject=function(w){return arguments.length?(n=typeof w=="function"?w:$o(w),d):n},d.touchable=function(w){return arguments.length?(r=typeof w=="function"?w:$o(!!w),d):r},d.on=function(){var w=i.on.apply(i,arguments);return w===i?d:w},d.clickDistance=function(w){return arguments.length?(f=(w=+w)*w,d):Math.sqrt(f)},d}function ed(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Q0(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function lo(){}var Xi=.7,Ul=1/Xi,ms="\\s*([+-]?\\d+)\\s*",Gi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",tn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",j2=/^#([0-9a-f]{3,8})$/,B2=new RegExp(`^rgb\\(${ms},${ms},${ms}\\)$`),H2=new RegExp(`^rgb\\(${tn},${tn},${tn}\\)$`),V2=new RegExp(`^rgba\\(${ms},${ms},${ms},${Gi}\\)$`),U2=new RegExp(`^rgba\\(${tn},${tn},${tn},${Gi}\\)$`),W2=new RegExp(`^hsl\\(${Gi},${tn},${tn}\\)$`),X2=new RegExp(`^hsla\\(${Gi},${tn},${tn},${Gi}\\)$`),ip={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ed(lo,Yi,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:op,formatHex:op,formatHex8:G2,formatHsl:Y2,formatRgb:lp,toString:lp});function op(){return this.rgb().formatHex()}function G2(){return this.rgb().formatHex8()}function Y2(){return J0(this).formatHsl()}function lp(){return this.rgb().formatRgb()}function Yi(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=j2.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?ap(t):n===3?new it(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Io(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Io(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=B2.exec(e))?new it(t[1],t[2],t[3],1):(t=H2.exec(e))?new it(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=V2.exec(e))?Io(t[1],t[2],t[3],t[4]):(t=U2.exec(e))?Io(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=W2.exec(e))?fp(t[1],t[2]/100,t[3]/100,1):(t=X2.exec(e))?fp(t[1],t[2]/100,t[3]/100,t[4]):ip.hasOwnProperty(e)?ap(ip[e]):e==="transparent"?new it(NaN,NaN,NaN,0):null}function ap(e){return new it(e>>16&255,e>>8&255,e&255,1)}function Io(e,t,n,r){return r<=0&&(e=t=n=NaN),new it(e,t,n,r)}function K2(e){return e instanceof lo||(e=Yi(e)),e?(e=e.rgb(),new it(e.r,e.g,e.b,e.opacity)):new it}function Ac(e,t,n,r){return arguments.length===1?K2(e):new it(e,t,n,r??1)}function it(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}ed(it,Ac,Q0(lo,{brighter(e){return e=e==null?Ul:Math.pow(Ul,e),new it(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Xi:Math.pow(Xi,e),new it(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new it(_r(this.r),_r(this.g),_r(this.b),Wl(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:up,formatHex:up,formatHex8:q2,formatRgb:cp,toString:cp}));function up(){return`#${gr(this.r)}${gr(this.g)}${gr(this.b)}`}function q2(){return`#${gr(this.r)}${gr(this.g)}${gr(this.b)}${gr((isNaN(this.opacity)?1:this.opacity)*255)}`}function cp(){const e=Wl(this.opacity);return`${e===1?"rgb(":"rgba("}${_r(this.r)}, ${_r(this.g)}, ${_r(this.b)}${e===1?")":`, ${e})`}`}function Wl(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function _r(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function gr(e){return e=_r(e),(e<16?"0":"")+e.toString(16)}function fp(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new zt(e,t,n,r)}function J0(e){if(e instanceof zt)return new zt(e.h,e.s,e.l,e.opacity);if(e instanceof lo||(e=Yi(e)),!e)return new zt;if(e instanceof zt)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,s=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,l=i-s,a=(i+s)/2;return l?(t===i?o=(n-r)/l+(n<r)*6:n===i?o=(r-t)/l+2:o=(t-n)/l+4,l/=a<.5?i+s:2-i-s,o*=60):l=a>0&&a<1?0:o,new zt(o,l,a,e.opacity)}function Q2(e,t,n,r){return arguments.length===1?J0(e):new zt(e,t,n,r??1)}function zt(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}ed(zt,Q2,Q0(lo,{brighter(e){return e=e==null?Ul:Math.pow(Ul,e),new zt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Xi:Math.pow(Xi,e),new zt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,s=2*n-r;return new it(gu(e>=240?e-240:e+120,s,r),gu(e,s,r),gu(e<120?e+240:e-120,s,r),this.opacity)},clamp(){return new zt(dp(this.h),Oo(this.s),Oo(this.l),Wl(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Wl(this.opacity);return`${e===1?"hsl(":"hsla("}${dp(this.h)}, ${Oo(this.s)*100}%, ${Oo(this.l)*100}%${e===1?")":`, ${e})`}`}}));function dp(e){return e=(e||0)%360,e<0?e+360:e}function Oo(e){return Math.max(0,Math.min(1,e||0))}function gu(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Z0=e=>()=>e;function J2(e,t){return function(n){return e+n*t}}function Z2(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function eE(e){return(e=+e)==1?ey:function(t,n){return n-t?Z2(t,n,e):Z0(isNaN(t)?n:t)}}function ey(e,t){var n=t-e;return n?J2(e,n):Z0(isNaN(e)?t:e)}const hp=function e(t){var n=eE(t);function r(s,i){var o=n((s=Ac(s)).r,(i=Ac(i)).r),l=n(s.g,i.g),a=n(s.b,i.b),u=ey(s.opacity,i.opacity);return function(c){return s.r=o(c),s.g=l(c),s.b=a(c),s.opacity=u(c),s+""}}return r.gamma=e,r}(1);function Mn(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Tc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,yu=new RegExp(Tc.source,"g");function tE(e){return function(){return e}}function nE(e){return function(t){return e(t)+""}}function rE(e,t){var n=Tc.lastIndex=yu.lastIndex=0,r,s,i,o=-1,l=[],a=[];for(e=e+"",t=t+"";(r=Tc.exec(e))&&(s=yu.exec(t));)(i=s.index)>n&&(i=t.slice(n,i),l[o]?l[o]+=i:l[++o]=i),(r=r[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,a.push({i:o,x:Mn(r,s)})),n=yu.lastIndex;return n<t.length&&(i=t.slice(n),l[o]?l[o]+=i:l[++o]=i),l.length<2?a[0]?nE(a[0].x):tE(t):(t=a.length,function(u){for(var c=0,f;c<t;++c)l[(f=a[c]).i]=f.x(u);return l.join("")})}var pp=180/Math.PI,Rc={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ty(e,t,n,r,s,i){var o,l,a;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(a=e*n+t*r)&&(n-=e*a,r-=t*a),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,a/=l),e*r<t*n&&(e=-e,t=-t,a=-a,o=-o),{translateX:s,translateY:i,rotate:Math.atan2(t,e)*pp,skewX:Math.atan(a)*pp,scaleX:o,scaleY:l}}var Fo;function sE(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Rc:ty(t.a,t.b,t.c,t.d,t.e,t.f)}function iE(e){return e==null||(Fo||(Fo=document.createElementNS("http://www.w3.org/2000/svg","g")),Fo.setAttribute("transform",e),!(e=Fo.transform.baseVal.consolidate()))?Rc:(e=e.matrix,ty(e.a,e.b,e.c,e.d,e.e,e.f))}function ny(e,t,n,r){function s(u){return u.length?u.pop()+" ":""}function i(u,c,f,d,m,v){if(u!==f||c!==d){var g=m.push("translate(",null,t,null,n);v.push({i:g-4,x:Mn(u,f)},{i:g-2,x:Mn(c,d)})}else(f||d)&&m.push("translate("+f+t+d+n)}function o(u,c,f,d){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),d.push({i:f.push(s(f)+"rotate(",null,r)-2,x:Mn(u,c)})):c&&f.push(s(f)+"rotate("+c+r)}function l(u,c,f,d){u!==c?d.push({i:f.push(s(f)+"skewX(",null,r)-2,x:Mn(u,c)}):c&&f.push(s(f)+"skewX("+c+r)}function a(u,c,f,d,m,v){if(u!==f||c!==d){var g=m.push(s(m)+"scale(",null,",",null,")");v.push({i:g-4,x:Mn(u,f)},{i:g-2,x:Mn(c,d)})}else(f!==1||d!==1)&&m.push(s(m)+"scale("+f+","+d+")")}return function(u,c){var f=[],d=[];return u=e(u),c=e(c),i(u.translateX,u.translateY,c.translateX,c.translateY,f,d),o(u.rotate,c.rotate,f,d),l(u.skewX,c.skewX,f,d),a(u.scaleX,u.scaleY,c.scaleX,c.scaleY,f,d),u=c=null,function(m){for(var v=-1,g=d.length,_;++v<g;)f[(_=d[v]).i]=_.x(m);return f.join("")}}}var oE=ny(sE,"px, ","px)","deg)"),lE=ny(iE,", ",")",")"),aE=1e-12;function mp(e){return((e=Math.exp(e))+1/e)/2}function uE(e){return((e=Math.exp(e))-1/e)/2}function cE(e){return((e=Math.exp(2*e))-1)/(e+1)}const fE=function e(t,n,r){function s(i,o){var l=i[0],a=i[1],u=i[2],c=o[0],f=o[1],d=o[2],m=c-l,v=f-a,g=m*m+v*v,_,p;if(g<aE)p=Math.log(d/u)/t,_=function(N){return[l+N*m,a+N*v,u*Math.exp(t*N*p)]};else{var h=Math.sqrt(g),y=(d*d-u*u+r*g)/(2*u*n*h),w=(d*d-u*u-r*g)/(2*d*n*h),E=Math.log(Math.sqrt(y*y+1)-y),k=Math.log(Math.sqrt(w*w+1)-w);p=(k-E)/t,_=function(N){var R=N*p,M=mp(E),I=u/(n*h)*(M*cE(t*R+E)-uE(E));return[l+I*m,a+I*v,u*M/mp(t*R+E)]}}return _.duration=p*1e3*t/Math.SQRT2,_}return s.rho=function(i){var o=Math.max(.001,+i),l=o*o,a=l*l;return e(o,l,a)},s}(Math.SQRT2,2,4);var As=0,li=0,Qs=0,ry=1e3,Xl,ai,Gl=0,Pr=0,Sa=0,Ki=typeof performance=="object"&&performance.now?performance:Date,sy=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function td(){return Pr||(sy(dE),Pr=Ki.now()+Sa)}function dE(){Pr=0}function Yl(){this._call=this._time=this._next=null}Yl.prototype=iy.prototype={constructor:Yl,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?td():+n)+(t==null?0:+t),!this._next&&ai!==this&&(ai?ai._next=this:Xl=this,ai=this),this._call=e,this._time=n,Mc()},stop:function(){this._call&&(this._call=null,this._time=1/0,Mc())}};function iy(e,t,n){var r=new Yl;return r.restart(e,t,n),r}function hE(){td(),++As;for(var e=Xl,t;e;)(t=Pr-e._time)>=0&&e._call.call(void 0,t),e=e._next;--As}function gp(){Pr=(Gl=Ki.now())+Sa,As=li=0;try{hE()}finally{As=0,mE(),Pr=0}}function pE(){var e=Ki.now(),t=e-Gl;t>ry&&(Sa-=t,Gl=e)}function mE(){for(var e,t=Xl,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Xl=n);ai=e,Mc(r)}function Mc(e){if(!As){li&&(li=clearTimeout(li));var t=e-Pr;t>24?(e<1/0&&(li=setTimeout(gp,e-Ki.now()-Sa)),Qs&&(Qs=clearInterval(Qs))):(Qs||(Gl=Ki.now(),Qs=setInterval(pE,ry)),As=1,sy(gp))}}function yp(e,t,n){var r=new Yl;return t=t==null?0:+t,r.restart(s=>{r.stop(),e(s+t)},t,n),r}var gE=xa("start","end","cancel","interrupt"),yE=[],oy=0,wp=1,$c=2,cl=3,vp=4,Ic=5,fl=6;function Ea(e,t,n,r,s,i){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;wE(e,n,{name:t,index:r,group:s,on:gE,tween:yE,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:oy})}function nd(e,t){var n=Ut(e,t);if(n.state>oy)throw new Error("too late; already scheduled");return n}function nn(e,t){var n=Ut(e,t);if(n.state>cl)throw new Error("too late; already running");return n}function Ut(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function wE(e,t,n){var r=e.__transition,s;r[t]=n,n.timer=iy(i,0,n.time);function i(u){n.state=wp,n.timer.restart(o,n.delay,n.time),n.delay<=u&&o(u-n.delay)}function o(u){var c,f,d,m;if(n.state!==wp)return a();for(c in r)if(m=r[c],m.name===n.name){if(m.state===cl)return yp(o);m.state===vp?(m.state=fl,m.timer.stop(),m.on.call("interrupt",e,e.__data__,m.index,m.group),delete r[c]):+c<t&&(m.state=fl,m.timer.stop(),m.on.call("cancel",e,e.__data__,m.index,m.group),delete r[c])}if(yp(function(){n.state===cl&&(n.state=vp,n.timer.restart(l,n.delay,n.time),l(u))}),n.state=$c,n.on.call("start",e,e.__data__,n.index,n.group),n.state===$c){for(n.state=cl,s=new Array(d=n.tween.length),c=0,f=-1;c<d;++c)(m=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(s[++f]=m);s.length=f+1}}function l(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(a),n.state=Ic,1),f=-1,d=s.length;++f<d;)s[f].call(e,c);n.state===Ic&&(n.on.call("end",e,e.__data__,n.index,n.group),a())}function a(){n.state=fl,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function dl(e,t){var n=e.__transition,r,s,i=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){i=!1;continue}s=r.state>$c&&r.state<Ic,r.state=fl,r.timer.stop(),r.on.call(s?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}i&&delete e.__transition}}function vE(e){return this.each(function(){dl(this,e)})}function xE(e,t){var n,r;return function(){var s=nn(this,e),i=s.tween;if(i!==n){r=n=i;for(var o=0,l=r.length;o<l;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}s.tween=r}}function _E(e,t,n){var r,s;if(typeof n!="function")throw new Error;return function(){var i=nn(this,e),o=i.tween;if(o!==r){s=(r=o).slice();for(var l={name:t,value:n},a=0,u=s.length;a<u;++a)if(s[a].name===t){s[a]=l;break}a===u&&s.push(l)}i.tween=s}}function SE(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Ut(this.node(),n).tween,s=0,i=r.length,o;s<i;++s)if((o=r[s]).name===e)return o.value;return null}return this.each((t==null?xE:_E)(n,e,t))}function rd(e,t,n){var r=e._id;return e.each(function(){var s=nn(this,r);(s.value||(s.value={}))[t]=n.apply(this,arguments)}),function(s){return Ut(s,r).value[t]}}function ly(e,t){var n;return(typeof t=="number"?Mn:t instanceof Yi?hp:(n=Yi(t))?(t=n,hp):rE)(e,t)}function EE(e){return function(){this.removeAttribute(e)}}function kE(e){return function(){this.removeAttributeNS(e.space,e.local)}}function NE(e,t,n){var r,s=n+"",i;return function(){var o=this.getAttribute(e);return o===s?null:o===r?i:i=t(r=o,n)}}function CE(e,t,n){var r,s=n+"",i;return function(){var o=this.getAttributeNS(e.space,e.local);return o===s?null:o===r?i:i=t(r=o,n)}}function bE(e,t,n){var r,s,i;return function(){var o,l=n(this),a;return l==null?void this.removeAttribute(e):(o=this.getAttribute(e),a=l+"",o===a?null:o===r&&a===s?i:(s=a,i=t(r=o,l)))}}function PE(e,t,n){var r,s,i;return function(){var o,l=n(this),a;return l==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),a=l+"",o===a?null:o===r&&a===s?i:(s=a,i=t(r=o,l)))}}function AE(e,t){var n=_a(e),r=n==="transform"?lE:ly;return this.attrTween(e,typeof t=="function"?(n.local?PE:bE)(n,r,rd(this,"attr."+e,t)):t==null?(n.local?kE:EE)(n):(n.local?CE:NE)(n,r,t))}function TE(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function RE(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function ME(e,t){var n,r;function s(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&RE(e,i)),n}return s._value=t,s}function $E(e,t){var n,r;function s(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&TE(e,i)),n}return s._value=t,s}function IE(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=_a(e);return this.tween(n,(r.local?ME:$E)(r,t))}function OE(e,t){return function(){nd(this,e).delay=+t.apply(this,arguments)}}function FE(e,t){return t=+t,function(){nd(this,e).delay=t}}function DE(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?OE:FE)(t,e)):Ut(this.node(),t).delay}function zE(e,t){return function(){nn(this,e).duration=+t.apply(this,arguments)}}function LE(e,t){return t=+t,function(){nn(this,e).duration=t}}function jE(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?zE:LE)(t,e)):Ut(this.node(),t).duration}function BE(e,t){if(typeof t!="function")throw new Error;return function(){nn(this,e).ease=t}}function HE(e){var t=this._id;return arguments.length?this.each(BE(t,e)):Ut(this.node(),t).ease}function VE(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;nn(this,e).ease=n}}function UE(e){if(typeof e!="function")throw new Error;return this.each(VE(this._id,e))}function WE(e){typeof e!="function"&&(e=L0(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var i=t[s],o=i.length,l=r[s]=[],a,u=0;u<o;++u)(a=i[u])&&e.call(a,a.__data__,u,i)&&l.push(a);return new Sn(r,this._parents,this._name,this._id)}function XE(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,s=n.length,i=Math.min(r,s),o=new Array(r),l=0;l<i;++l)for(var a=t[l],u=n[l],c=a.length,f=o[l]=new Array(c),d,m=0;m<c;++m)(d=a[m]||u[m])&&(f[m]=d);for(;l<r;++l)o[l]=t[l];return new Sn(o,this._parents,this._name,this._id)}function GE(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function YE(e,t,n){var r,s,i=GE(t)?nd:nn;return function(){var o=i(this,e),l=o.on;l!==r&&(s=(r=l).copy()).on(t,n),o.on=s}}function KE(e,t){var n=this._id;return arguments.length<2?Ut(this.node(),n).on.on(e):this.each(YE(n,e,t))}function qE(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function QE(){return this.on("end.remove",qE(this._id))}function JE(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Jf(e));for(var r=this._groups,s=r.length,i=new Array(s),o=0;o<s;++o)for(var l=r[o],a=l.length,u=i[o]=new Array(a),c,f,d=0;d<a;++d)(c=l[d])&&(f=e.call(c,c.__data__,d,l))&&("__data__"in c&&(f.__data__=c.__data__),u[d]=f,Ea(u[d],t,n,d,u,Ut(c,n)));return new Sn(i,this._parents,t,n)}function ZE(e){var t=this._name,n=this._id;typeof e!="function"&&(e=z0(e));for(var r=this._groups,s=r.length,i=[],o=[],l=0;l<s;++l)for(var a=r[l],u=a.length,c,f=0;f<u;++f)if(c=a[f]){for(var d=e.call(c,c.__data__,f,a),m,v=Ut(c,n),g=0,_=d.length;g<_;++g)(m=d[g])&&Ea(m,t,n,g,d,v);i.push(d),o.push(c)}return new Sn(i,o,t,n)}var ek=oo.prototype.constructor;function tk(){return new ek(this._groups,this._parents)}function nk(e,t){var n,r,s;return function(){var i=Ps(this,e),o=(this.style.removeProperty(e),Ps(this,e));return i===o?null:i===n&&o===r?s:s=t(n=i,r=o)}}function ay(e){return function(){this.style.removeProperty(e)}}function rk(e,t,n){var r,s=n+"",i;return function(){var o=Ps(this,e);return o===s?null:o===r?i:i=t(r=o,n)}}function sk(e,t,n){var r,s,i;return function(){var o=Ps(this,e),l=n(this),a=l+"";return l==null&&(a=l=(this.style.removeProperty(e),Ps(this,e))),o===a?null:o===r&&a===s?i:(s=a,i=t(r=o,l))}}function ik(e,t){var n,r,s,i="style."+t,o="end."+i,l;return function(){var a=nn(this,e),u=a.on,c=a.value[i]==null?l||(l=ay(t)):void 0;(u!==n||s!==c)&&(r=(n=u).copy()).on(o,s=c),a.on=r}}function ok(e,t,n){var r=(e+="")=="transform"?oE:ly;return t==null?this.styleTween(e,nk(e,r)).on("end.style."+e,ay(e)):typeof t=="function"?this.styleTween(e,sk(e,r,rd(this,"style."+e,t))).each(ik(this._id,e)):this.styleTween(e,rk(e,r,t),n).on("end.style."+e,null)}function lk(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function ak(e,t,n){var r,s;function i(){var o=t.apply(this,arguments);return o!==s&&(r=(s=o)&&lk(e,o,n)),r}return i._value=t,i}function uk(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,ak(e,t,n??""))}function ck(e){return function(){this.textContent=e}}function fk(e){return function(){var t=e(this);this.textContent=t??""}}function dk(e){return this.tween("text",typeof e=="function"?fk(rd(this,"text",e)):ck(e==null?"":e+""))}function hk(e){return function(t){this.textContent=e.call(this,t)}}function pk(e){var t,n;function r(){var s=e.apply(this,arguments);return s!==n&&(t=(n=s)&&hk(s)),t}return r._value=e,r}function mk(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,pk(e))}function gk(){for(var e=this._name,t=this._id,n=uy(),r=this._groups,s=r.length,i=0;i<s;++i)for(var o=r[i],l=o.length,a,u=0;u<l;++u)if(a=o[u]){var c=Ut(a,t);Ea(a,e,n,u,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Sn(r,this._parents,e,n)}function yk(){var e,t,n=this,r=n._id,s=n.size();return new Promise(function(i,o){var l={value:o},a={value:function(){--s===0&&i()}};n.each(function(){var u=nn(this,r),c=u.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(a)),u.on=t}),s===0&&i()})}var wk=0;function Sn(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function uy(){return++wk}var an=oo.prototype;Sn.prototype={constructor:Sn,select:JE,selectAll:ZE,selectChild:an.selectChild,selectChildren:an.selectChildren,filter:WE,merge:XE,selection:tk,transition:gk,call:an.call,nodes:an.nodes,node:an.node,size:an.size,empty:an.empty,each:an.each,on:KE,attr:AE,attrTween:IE,style:ok,styleTween:uk,text:dk,textTween:mk,remove:QE,tween:SE,delay:DE,duration:jE,ease:HE,easeVarying:UE,end:yk,[Symbol.iterator]:an[Symbol.iterator]};function vk(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var xk={time:null,delay:0,duration:250,ease:vk};function _k(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function Sk(e){var t,n;e instanceof Sn?(t=e._id,e=e._name):(t=uy(),(n=xk).time=td(),e=e==null?null:e+"");for(var r=this._groups,s=r.length,i=0;i<s;++i)for(var o=r[i],l=o.length,a,u=0;u<l;++u)(a=o[u])&&Ea(a,e,t,u,o,n||_k(a,t));return new Sn(r,this._parents,e,t)}oo.prototype.interrupt=vE;oo.prototype.transition=Sk;const Do=e=>()=>e;function Ek(e,{sourceEvent:t,target:n,transform:r,dispatch:s}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:s}})}function mn(e,t,n){this.k=e,this.x=t,this.y=n}mn.prototype={constructor:mn,scale:function(e){return e===1?this:new mn(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new mn(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var yn=new mn(1,0,0);mn.prototype;function wu(e){e.stopImmediatePropagation()}function Js(e){e.preventDefault(),e.stopImmediatePropagation()}function kk(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function Nk(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function xp(){return this.__zoom||yn}function Ck(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function bk(){return navigator.maxTouchPoints||"ontouchstart"in this}function Pk(e,t,n){var r=e.invertX(t[0][0])-n[0][0],s=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],o=e.invertY(t[1][1])-n[1][1];return e.translate(s>r?(r+s)/2:Math.min(0,r)||Math.max(0,s),o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o))}function cy(){var e=kk,t=Nk,n=Pk,r=Ck,s=bk,i=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],l=250,a=fE,u=xa("start","zoom","end"),c,f,d,m=500,v=150,g=0,_=10;function p(x){x.property("__zoom",xp).on("wheel.zoom",R,{passive:!1}).on("mousedown.zoom",M).on("dblclick.zoom",I).filter(s).on("touchstart.zoom",F).on("touchmove.zoom",D).on("touchend.zoom touchcancel.zoom",B).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}p.transform=function(x,$,b,L){var P=x.selection?x.selection():x;P.property("__zoom",xp),x!==P?E(x,$,b,L):P.interrupt().each(function(){k(this,arguments).event(L).start().zoom(null,typeof $=="function"?$.apply(this,arguments):$).end()})},p.scaleBy=function(x,$,b,L){p.scaleTo(x,function(){var P=this.__zoom.k,S=typeof $=="function"?$.apply(this,arguments):$;return P*S},b,L)},p.scaleTo=function(x,$,b,L){p.transform(x,function(){var P=t.apply(this,arguments),S=this.__zoom,T=b==null?w(P):typeof b=="function"?b.apply(this,arguments):b,z=S.invert(T),j=typeof $=="function"?$.apply(this,arguments):$;return n(y(h(S,j),T,z),P,o)},b,L)},p.translateBy=function(x,$,b,L){p.transform(x,function(){return n(this.__zoom.translate(typeof $=="function"?$.apply(this,arguments):$,typeof b=="function"?b.apply(this,arguments):b),t.apply(this,arguments),o)},null,L)},p.translateTo=function(x,$,b,L,P){p.transform(x,function(){var S=t.apply(this,arguments),T=this.__zoom,z=L==null?w(S):typeof L=="function"?L.apply(this,arguments):L;return n(yn.translate(z[0],z[1]).scale(T.k).translate(typeof $=="function"?-$.apply(this,arguments):-$,typeof b=="function"?-b.apply(this,arguments):-b),S,o)},L,P)};function h(x,$){return $=Math.max(i[0],Math.min(i[1],$)),$===x.k?x:new mn($,x.x,x.y)}function y(x,$,b){var L=$[0]-b[0]*x.k,P=$[1]-b[1]*x.k;return L===x.x&&P===x.y?x:new mn(x.k,L,P)}function w(x){return[(+x[0][0]+ +x[1][0])/2,(+x[0][1]+ +x[1][1])/2]}function E(x,$,b,L){x.on("start.zoom",function(){k(this,arguments).event(L).start()}).on("interrupt.zoom end.zoom",function(){k(this,arguments).event(L).end()}).tween("zoom",function(){var P=this,S=arguments,T=k(P,S).event(L),z=t.apply(P,S),j=b==null?w(z):typeof b=="function"?b.apply(P,S):b,U=Math.max(z[1][0]-z[0][0],z[1][1]-z[0][1]),V=P.__zoom,X=typeof $=="function"?$.apply(P,S):$,Q=a(V.invert(j).concat(U/V.k),X.invert(j).concat(U/X.k));return function(J){if(J===1)J=X;else{var oe=Q(J),ie=U/oe[2];J=new mn(ie,j[0]-oe[0]*ie,j[1]-oe[1]*ie)}T.zoom(null,J)}})}function k(x,$,b){return!b&&x.__zooming||new N(x,$)}function N(x,$){this.that=x,this.args=$,this.active=0,this.sourceEvent=null,this.extent=t.apply(x,$),this.taps=0}N.prototype={event:function(x){return x&&(this.sourceEvent=x),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(x,$){return this.mouse&&x!=="mouse"&&(this.mouse[1]=$.invert(this.mouse[0])),this.touch0&&x!=="touch"&&(this.touch0[1]=$.invert(this.touch0[0])),this.touch1&&x!=="touch"&&(this.touch1[1]=$.invert(this.touch1[0])),this.that.__zoom=$,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(x){var $=Et(this.that).datum();u.call(x,this.that,new Ek(x,{sourceEvent:this.sourceEvent,target:p,type:x,transform:this.that.__zoom,dispatch:u}),$)}};function R(x,...$){if(!e.apply(this,arguments))return;var b=k(this,$).event(x),L=this.__zoom,P=Math.max(i[0],Math.min(i[1],L.k*Math.pow(2,r.apply(this,arguments)))),S=Ft(x);if(b.wheel)(b.mouse[0][0]!==S[0]||b.mouse[0][1]!==S[1])&&(b.mouse[1]=L.invert(b.mouse[0]=S)),clearTimeout(b.wheel);else{if(L.k===P)return;b.mouse=[S,L.invert(S)],dl(this),b.start()}Js(x),b.wheel=setTimeout(T,v),b.zoom("mouse",n(y(h(L,P),b.mouse[0],b.mouse[1]),b.extent,o));function T(){b.wheel=null,b.end()}}function M(x,...$){if(d||!e.apply(this,arguments))return;var b=x.currentTarget,L=k(this,$,!0).event(x),P=Et(x.view).on("mousemove.zoom",j,!0).on("mouseup.zoom",U,!0),S=Ft(x,b),T=x.clientX,z=x.clientY;K0(x.view),wu(x),L.mouse=[S,this.__zoom.invert(S)],dl(this),L.start();function j(V){if(Js(V),!L.moved){var X=V.clientX-T,Q=V.clientY-z;L.moved=X*X+Q*Q>g}L.event(V).zoom("mouse",n(y(L.that.__zoom,L.mouse[0]=Ft(V,b),L.mouse[1]),L.extent,o))}function U(V){P.on("mousemove.zoom mouseup.zoom",null),q0(V.view,L.moved),Js(V),L.event(V).end()}}function I(x,...$){if(e.apply(this,arguments)){var b=this.__zoom,L=Ft(x.changedTouches?x.changedTouches[0]:x,this),P=b.invert(L),S=b.k*(x.shiftKey?.5:2),T=n(y(h(b,S),L,P),t.apply(this,$),o);Js(x),l>0?Et(this).transition().duration(l).call(E,T,L,x):Et(this).call(p.transform,T,L,x)}}function F(x,...$){if(e.apply(this,arguments)){var b=x.touches,L=b.length,P=k(this,$,x.changedTouches.length===L).event(x),S,T,z,j;for(wu(x),T=0;T<L;++T)z=b[T],j=Ft(z,this),j=[j,this.__zoom.invert(j),z.identifier],P.touch0?!P.touch1&&P.touch0[2]!==j[2]&&(P.touch1=j,P.taps=0):(P.touch0=j,S=!0,P.taps=1+!!c);c&&(c=clearTimeout(c)),S&&(P.taps<2&&(f=j[0],c=setTimeout(function(){c=null},m)),dl(this),P.start())}}function D(x,...$){if(this.__zooming){var b=k(this,$).event(x),L=x.changedTouches,P=L.length,S,T,z,j;for(Js(x),S=0;S<P;++S)T=L[S],z=Ft(T,this),b.touch0&&b.touch0[2]===T.identifier?b.touch0[0]=z:b.touch1&&b.touch1[2]===T.identifier&&(b.touch1[0]=z);if(T=b.that.__zoom,b.touch1){var U=b.touch0[0],V=b.touch0[1],X=b.touch1[0],Q=b.touch1[1],J=(J=X[0]-U[0])*J+(J=X[1]-U[1])*J,oe=(oe=Q[0]-V[0])*oe+(oe=Q[1]-V[1])*oe;T=h(T,Math.sqrt(J/oe)),z=[(U[0]+X[0])/2,(U[1]+X[1])/2],j=[(V[0]+Q[0])/2,(V[1]+Q[1])/2]}else if(b.touch0)z=b.touch0[0],j=b.touch0[1];else return;b.zoom("touch",n(y(T,z,j),b.extent,o))}}function B(x,...$){if(this.__zooming){var b=k(this,$).event(x),L=x.changedTouches,P=L.length,S,T;for(wu(x),d&&clearTimeout(d),d=setTimeout(function(){d=null},m),S=0;S<P;++S)T=L[S],b.touch0&&b.touch0[2]===T.identifier?delete b.touch0:b.touch1&&b.touch1[2]===T.identifier&&delete b.touch1;if(b.touch1&&!b.touch0&&(b.touch0=b.touch1,delete b.touch1),b.touch0)b.touch0[1]=this.__zoom.invert(b.touch0[0]);else if(b.end(),b.taps===2&&(T=Ft(T,this),Math.hypot(f[0]-T[0],f[1]-T[1])<_)){var z=Et(this).on("dblclick.zoom");z&&z.apply(this,arguments)}}}return p.wheelDelta=function(x){return arguments.length?(r=typeof x=="function"?x:Do(+x),p):r},p.filter=function(x){return arguments.length?(e=typeof x=="function"?x:Do(!!x),p):e},p.touchable=function(x){return arguments.length?(s=typeof x=="function"?x:Do(!!x),p):s},p.extent=function(x){return arguments.length?(t=typeof x=="function"?x:Do([[+x[0][0],+x[0][1]],[+x[1][0],+x[1][1]]]),p):t},p.scaleExtent=function(x){return arguments.length?(i[0]=+x[0],i[1]=+x[1],p):[i[0],i[1]]},p.translateExtent=function(x){return arguments.length?(o[0][0]=+x[0][0],o[1][0]=+x[1][0],o[0][1]=+x[0][1],o[1][1]=+x[1][1],p):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},p.constrain=function(x){return arguments.length?(n=x,p):n},p.duration=function(x){return arguments.length?(l=+x,p):l},p.interpolate=function(x){return arguments.length?(a=x,p):a},p.on=function(){var x=u.on.apply(u,arguments);return x===u?p:x},p.clickDistance=function(x){return arguments.length?(g=(x=+x)*x,p):Math.sqrt(g)},p.tapDistance=function(x){return arguments.length?(_=+x,p):_},p}const ka=A.createContext(null),Ak=ka.Provider,En={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},fy=En.error001();function fe(e,t){const n=A.useContext(ka);if(n===null)throw new Error(fy);return F0(n,e,t)}const Te=()=>{const e=A.useContext(ka);if(e===null)throw new Error(fy);return A.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},Tk=e=>e.userSelectionActive?"none":"all";function Na({position:e,children:t,className:n,style:r,...s}){const i=fe(Tk),o=`${e}`.split("-");return O.createElement("div",{className:He(["react-flow__panel",n,...o]),style:{...r,pointerEvents:i},...s},t)}function Rk({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:O.createElement(Na,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},O.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const Mk=({x:e,y:t,label:n,labelStyle:r={},labelShowBg:s=!0,labelBgStyle:i={},labelBgPadding:o=[2,4],labelBgBorderRadius:l=2,children:a,className:u,...c})=>{const f=A.useRef(null),[d,m]=A.useState({x:0,y:0,width:0,height:0}),v=He(["react-flow__edge-textwrapper",u]);return A.useEffect(()=>{if(f.current){const g=f.current.getBBox();m({x:g.x,y:g.y,width:g.width,height:g.height})}},[n]),typeof n>"u"||!n?null:O.createElement("g",{transform:`translate(${e-d.width/2} ${t-d.height/2})`,className:v,visibility:d.width?"visible":"hidden",...c},s&&O.createElement("rect",{width:d.width+2*o[0],x:-o[0],y:-o[1],height:d.height+2*o[1],className:"react-flow__edge-textbg",style:i,rx:l,ry:l}),O.createElement("text",{className:"react-flow__edge-text",y:d.height/2,dy:"0.3em",ref:f,style:r},n),a)};var $k=A.memo(Mk);const sd=e=>({width:e.offsetWidth,height:e.offsetHeight}),Ts=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),id=(e={x:0,y:0},t)=>({x:Ts(e.x,t[0][0],t[1][0]),y:Ts(e.y,t[0][1],t[1][1])}),_p=(e,t,n)=>e<t?Ts(Math.abs(e-t),1,50)/50:e>n?-Ts(Math.abs(e-n),1,50)/50:0,dy=(e,t)=>{const n=_p(e.x,35,t.width-35)*20,r=_p(e.y,35,t.height-35)*20;return[n,r]},hy=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},py=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),qi=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),my=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),Sp=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),Ik=(e,t)=>my(py(qi(e),qi(t))),Oc=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},Ok=e=>Nt(e.width)&&Nt(e.height)&&Nt(e.x)&&Nt(e.y),Nt=e=>!isNaN(e)&&isFinite(e),_e=Symbol.for("internals"),gy=["Enter"," ","Escape"],Fk=(e,t)=>{},Dk=e=>"nativeEvent"in e;function Fc(e){var s,i;const t=Dk(e)?e.nativeEvent:e,n=((i=(s=t.composedPath)==null?void 0:s.call(t))==null?void 0:i[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const yy=e=>"clientX"in e,Yn=(e,t)=>{var i,o;const n=yy(e),r=n?e.clientX:(i=e.touches)==null?void 0:i[0].clientX,s=n?e.clientY:(o=e.touches)==null?void 0:o[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:s-((t==null?void 0:t.top)??0)}},Kl=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0},ao=({id:e,path:t,labelX:n,labelY:r,label:s,labelStyle:i,labelShowBg:o,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u,style:c,markerEnd:f,markerStart:d,interactionWidth:m=20})=>O.createElement(O.Fragment,null,O.createElement("path",{id:e,style:c,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:f,markerStart:d}),m&&O.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:m,className:"react-flow__edge-interaction"}),s&&Nt(n)&&Nt(r)?O.createElement($k,{x:n,y:r,label:s,labelStyle:i,labelShowBg:o,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u}):null);ao.displayName="BaseEdge";function Zs(e,t,n){return n===void 0?n:r=>{const s=t().edges.find(i=>i.id===e);s&&n(r,{...s})}}function wy({sourceX:e,sourceY:t,targetX:n,targetY:r}){const s=Math.abs(n-e)/2,i=n<e?n+s:n-s,o=Math.abs(r-t)/2,l=r<t?r+o:r-o;return[i,l,s,o]}function vy({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:s,sourceControlY:i,targetControlX:o,targetControlY:l}){const a=e*.125+s*.375+o*.375+n*.125,u=t*.125+i*.375+l*.375+r*.125,c=Math.abs(a-e),f=Math.abs(u-t);return[a,u,c,f]}var Ar;(function(e){e.Strict="strict",e.Loose="loose"})(Ar||(Ar={}));var yr;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(yr||(yr={}));var Qi;(function(e){e.Partial="partial",e.Full="full"})(Qi||(Qi={}));var Fn;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Fn||(Fn={}));var ql;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(ql||(ql={}));var Y;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(Y||(Y={}));function Ep({pos:e,x1:t,y1:n,x2:r,y2:s}){return e===Y.Left||e===Y.Right?[.5*(t+r),n]:[t,.5*(n+s)]}function xy({sourceX:e,sourceY:t,sourcePosition:n=Y.Bottom,targetX:r,targetY:s,targetPosition:i=Y.Top}){const[o,l]=Ep({pos:n,x1:e,y1:t,x2:r,y2:s}),[a,u]=Ep({pos:i,x1:r,y1:s,x2:e,y2:t}),[c,f,d,m]=vy({sourceX:e,sourceY:t,targetX:r,targetY:s,sourceControlX:o,sourceControlY:l,targetControlX:a,targetControlY:u});return[`M${e},${t} C${o},${l} ${a},${u} ${r},${s}`,c,f,d,m]}const od=A.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:s=Y.Bottom,targetPosition:i=Y.Top,label:o,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:d,markerEnd:m,markerStart:v,interactionWidth:g})=>{const[_,p,h]=xy({sourceX:e,sourceY:t,sourcePosition:s,targetX:n,targetY:r,targetPosition:i});return O.createElement(ao,{path:_,labelX:p,labelY:h,label:o,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:d,markerEnd:m,markerStart:v,interactionWidth:g})});od.displayName="SimpleBezierEdge";const kp={[Y.Left]:{x:-1,y:0},[Y.Right]:{x:1,y:0},[Y.Top]:{x:0,y:-1},[Y.Bottom]:{x:0,y:1}},zk=({source:e,sourcePosition:t=Y.Bottom,target:n})=>t===Y.Left||t===Y.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},Np=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function Lk({source:e,sourcePosition:t=Y.Bottom,target:n,targetPosition:r=Y.Top,center:s,offset:i}){const o=kp[t],l=kp[r],a={x:e.x+o.x*i,y:e.y+o.y*i},u={x:n.x+l.x*i,y:n.y+l.y*i},c=zk({source:a,sourcePosition:t,target:u}),f=c.x!==0?"x":"y",d=c[f];let m=[],v,g;const _={x:0,y:0},p={x:0,y:0},[h,y,w,E]=wy({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(o[f]*l[f]===-1){v=s.x??h,g=s.y??y;const N=[{x:v,y:a.y},{x:v,y:u.y}],R=[{x:a.x,y:g},{x:u.x,y:g}];o[f]===d?m=f==="x"?N:R:m=f==="x"?R:N}else{const N=[{x:a.x,y:u.y}],R=[{x:u.x,y:a.y}];if(f==="x"?m=o.x===d?R:N:m=o.y===d?N:R,t===r){const B=Math.abs(e[f]-n[f]);if(B<=i){const x=Math.min(i-1,i-B);o[f]===d?_[f]=(a[f]>e[f]?-1:1)*x:p[f]=(u[f]>n[f]?-1:1)*x}}if(t!==r){const B=f==="x"?"y":"x",x=o[f]===l[B],$=a[B]>u[B],b=a[B]<u[B];(o[f]===1&&(!x&&$||x&&b)||o[f]!==1&&(!x&&b||x&&$))&&(m=f==="x"?N:R)}const M={x:a.x+_.x,y:a.y+_.y},I={x:u.x+p.x,y:u.y+p.y},F=Math.max(Math.abs(M.x-m[0].x),Math.abs(I.x-m[0].x)),D=Math.max(Math.abs(M.y-m[0].y),Math.abs(I.y-m[0].y));F>=D?(v=(M.x+I.x)/2,g=m[0].y):(v=m[0].x,g=(M.y+I.y)/2)}return[[e,{x:a.x+_.x,y:a.y+_.y},...m,{x:u.x+p.x,y:u.y+p.y},n],v,g,w,E]}function jk(e,t,n,r){const s=Math.min(Np(e,t)/2,Np(t,n)/2,r),{x:i,y:o}=t;if(e.x===i&&i===n.x||e.y===o&&o===n.y)return`L${i} ${o}`;if(e.y===o){const u=e.x<n.x?-1:1,c=e.y<n.y?1:-1;return`L ${i+s*u},${o}Q ${i},${o} ${i},${o+s*c}`}const l=e.x<n.x?1:-1,a=e.y<n.y?-1:1;return`L ${i},${o+s*a}Q ${i},${o} ${i+s*l},${o}`}function Dc({sourceX:e,sourceY:t,sourcePosition:n=Y.Bottom,targetX:r,targetY:s,targetPosition:i=Y.Top,borderRadius:o=5,centerX:l,centerY:a,offset:u=20}){const[c,f,d,m,v]=Lk({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:s},targetPosition:i,center:{x:l,y:a},offset:u});return[c.reduce((_,p,h)=>{let y="";return h>0&&h<c.length-1?y=jk(c[h-1],p,c[h+1],o):y=`${h===0?"M":"L"}${p.x} ${p.y}`,_+=y,_},""),f,d,m,v]}const Ca=A.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:s,labelStyle:i,labelShowBg:o,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u,style:c,sourcePosition:f=Y.Bottom,targetPosition:d=Y.Top,markerEnd:m,markerStart:v,pathOptions:g,interactionWidth:_})=>{const[p,h,y]=Dc({sourceX:e,sourceY:t,sourcePosition:f,targetX:n,targetY:r,targetPosition:d,borderRadius:g==null?void 0:g.borderRadius,offset:g==null?void 0:g.offset});return O.createElement(ao,{path:p,labelX:h,labelY:y,label:s,labelStyle:i,labelShowBg:o,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u,style:c,markerEnd:m,markerStart:v,interactionWidth:_})});Ca.displayName="SmoothStepEdge";const ld=A.memo(e=>{var t;return O.createElement(Ca,{...e,pathOptions:A.useMemo(()=>{var n;return{borderRadius:0,offset:(n=e.pathOptions)==null?void 0:n.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});ld.displayName="StepEdge";function Bk({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[s,i,o,l]=wy({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,s,i,o,l]}const ad=A.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:s,labelStyle:i,labelShowBg:o,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u,style:c,markerEnd:f,markerStart:d,interactionWidth:m})=>{const[v,g,_]=Bk({sourceX:e,sourceY:t,targetX:n,targetY:r});return O.createElement(ao,{path:v,labelX:g,labelY:_,label:s,labelStyle:i,labelShowBg:o,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u,style:c,markerEnd:f,markerStart:d,interactionWidth:m})});ad.displayName="StraightEdge";function zo(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Cp({pos:e,x1:t,y1:n,x2:r,y2:s,c:i}){switch(e){case Y.Left:return[t-zo(t-r,i),n];case Y.Right:return[t+zo(r-t,i),n];case Y.Top:return[t,n-zo(n-s,i)];case Y.Bottom:return[t,n+zo(s-n,i)]}}function _y({sourceX:e,sourceY:t,sourcePosition:n=Y.Bottom,targetX:r,targetY:s,targetPosition:i=Y.Top,curvature:o=.25}){const[l,a]=Cp({pos:n,x1:e,y1:t,x2:r,y2:s,c:o}),[u,c]=Cp({pos:i,x1:r,y1:s,x2:e,y2:t,c:o}),[f,d,m,v]=vy({sourceX:e,sourceY:t,targetX:r,targetY:s,sourceControlX:l,sourceControlY:a,targetControlX:u,targetControlY:c});return[`M${e},${t} C${l},${a} ${u},${c} ${r},${s}`,f,d,m,v]}const Ql=A.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:s=Y.Bottom,targetPosition:i=Y.Top,label:o,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:d,markerEnd:m,markerStart:v,pathOptions:g,interactionWidth:_})=>{const[p,h,y]=_y({sourceX:e,sourceY:t,sourcePosition:s,targetX:n,targetY:r,targetPosition:i,curvature:g==null?void 0:g.curvature});return O.createElement(ao,{path:p,labelX:h,labelY:y,label:o,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:d,markerEnd:m,markerStart:v,interactionWidth:_})});Ql.displayName="BezierEdge";const ud=A.createContext(null),Hk=ud.Provider;ud.Consumer;const Vk=()=>A.useContext(ud),Uk=e=>"id"in e&&"source"in e&&"target"in e,Wk=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`reactflow__edge-${e}${t||""}-${n}${r||""}`,zc=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`,Xk=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),Gk=(e,t)=>{if(!e.source||!e.target)return t;let n;return Uk(e)?n={...e}:n={...e,id:Wk(e)},Xk(n,t)?t:t.concat(n)},Lc=({x:e,y:t},[n,r,s],i,[o,l])=>{const a={x:(e-n)/s,y:(t-r)/s};return i?{x:o*Math.round(a.x/o),y:l*Math.round(a.y/l)}:a},Sy=({x:e,y:t},[n,r,s])=>({x:e*s+n,y:t*s+r}),Sr=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],r=(e.height??0)*t[1],s={x:e.position.x-n,y:e.position.y-r};return{...s,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-r}:s}},ba=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,s)=>{const{x:i,y:o}=Sr(s,t).positionAbsolute;return py(r,qi({x:i,y:o,width:s.width||0,height:s.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return my(n)},Ey=(e,t,[n,r,s]=[0,0,1],i=!1,o=!1,l=[0,0])=>{const a={x:(t.x-n)/s,y:(t.y-r)/s,width:t.width/s,height:t.height/s},u=[];return e.forEach(c=>{const{width:f,height:d,selectable:m=!0,hidden:v=!1}=c;if(o&&!m||v)return!1;const{positionAbsolute:g}=Sr(c,l),_={x:g.x,y:g.y,width:f||0,height:d||0},p=Oc(a,_),h=typeof f>"u"||typeof d>"u"||f===null||d===null,y=i&&p>0,w=(f||0)*(d||0);(h||y||p>=w||c.dragging)&&u.push(c)}),u},ky=(e,t)=>{const n=e.map(r=>r.id);return t.filter(r=>n.includes(r.source)||n.includes(r.target))},Ny=(e,t,n,r,s,i=.1)=>{const o=t/(e.width*(1+i)),l=n/(e.height*(1+i)),a=Math.min(o,l),u=Ts(a,r,s),c=e.x+e.width/2,f=e.y+e.height/2,d=t/2-c*u,m=n/2-f*u;return{x:d,y:m,zoom:u}},fr=(e,t=0)=>e.transition().duration(t);function bp(e,t,n,r){return(t[n]||[]).reduce((s,i)=>{var o,l;return`${e.id}-${i.id}-${n}`!==r&&s.push({id:i.id||null,type:n,nodeId:e.id,x:(((o=e.positionAbsolute)==null?void 0:o.x)??0)+i.x+i.width/2,y:(((l=e.positionAbsolute)==null?void 0:l.y)??0)+i.y+i.height/2}),s},[])}function Yk(e,t,n,r,s,i){const{x:o,y:l}=Yn(e),u=t.elementsFromPoint(o,l).find(v=>v.classList.contains("react-flow__handle"));if(u){const v=u.getAttribute("data-nodeid");if(v){const g=cd(void 0,u),_=u.getAttribute("data-handleid"),p=i({nodeId:v,id:_,type:g});if(p){const h=s.find(y=>y.nodeId===v&&y.type===g&&y.id===_);return{handle:{id:_,type:g,nodeId:v,x:(h==null?void 0:h.x)||n.x,y:(h==null?void 0:h.y)||n.y},validHandleResult:p}}}}let c=[],f=1/0;if(s.forEach(v=>{const g=Math.sqrt((v.x-n.x)**2+(v.y-n.y)**2);if(g<=r){const _=i(v);g<=f&&(g<f?c=[{handle:v,validHandleResult:_}]:g===f&&c.push({handle:v,validHandleResult:_}),f=g)}}),!c.length)return{handle:null,validHandleResult:Cy()};if(c.length===1)return c[0];const d=c.some(({validHandleResult:v})=>v.isValid),m=c.some(({handle:v})=>v.type==="target");return c.find(({handle:v,validHandleResult:g})=>m?v.type==="target":d?g.isValid:!0)||c[0]}const Kk={source:null,target:null,sourceHandle:null,targetHandle:null},Cy=()=>({handleDomNode:null,isValid:!1,connection:Kk,endHandle:null});function by(e,t,n,r,s,i,o){const l=s==="target",a=o.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),u={...Cy(),handleDomNode:a};if(a){const c=cd(void 0,a),f=a.getAttribute("data-nodeid"),d=a.getAttribute("data-handleid"),m=a.classList.contains("connectable"),v=a.classList.contains("connectableend"),g={source:l?f:n,sourceHandle:l?d:r,target:l?n:f,targetHandle:l?r:d};u.connection=g,m&&v&&(t===Ar.Strict?l&&c==="source"||!l&&c==="target":f!==n||d!==r)&&(u.endHandle={nodeId:f,handleId:d,type:c},u.isValid=i(g))}return u}function qk({nodes:e,nodeId:t,handleId:n,handleType:r}){return e.reduce((s,i)=>{if(i[_e]){const{handleBounds:o}=i[_e];let l=[],a=[];o&&(l=bp(i,o,"source",`${t}-${n}-${r}`),a=bp(i,o,"target",`${t}-${n}-${r}`)),s.push(...l,...a)}return s},[])}function cd(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function vu(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function Qk(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function Py({event:e,handleId:t,nodeId:n,onConnect:r,isTarget:s,getState:i,setState:o,isValidConnection:l,edgeUpdaterType:a,onReconnectEnd:u}){const c=hy(e.target),{connectionMode:f,domNode:d,autoPanOnConnect:m,connectionRadius:v,onConnectStart:g,panBy:_,getNodes:p,cancelConnection:h}=i();let y=0,w;const{x:E,y:k}=Yn(e),N=c==null?void 0:c.elementFromPoint(E,k),R=cd(a,N),M=d==null?void 0:d.getBoundingClientRect();if(!M||!R)return;let I,F=Yn(e,M),D=!1,B=null,x=!1,$=null;const b=qk({nodes:p(),nodeId:n,handleId:t,handleType:R}),L=()=>{if(!m)return;const[T,z]=dy(F,M);_({x:T,y:z}),y=requestAnimationFrame(L)};o({connectionPosition:F,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:R,connectionStartHandle:{nodeId:n,handleId:t,type:R},connectionEndHandle:null}),g==null||g(e,{nodeId:n,handleId:t,handleType:R});function P(T){const{transform:z}=i();F=Yn(T,M);const{handle:j,validHandleResult:U}=Yk(T,c,Lc(F,z,!1,[1,1]),v,b,V=>by(V,f,n,t,s?"target":"source",l,c));if(w=j,D||(L(),D=!0),$=U.handleDomNode,B=U.connection,x=U.isValid,o({connectionPosition:w&&x?Sy({x:w.x,y:w.y},z):F,connectionStatus:Qk(!!w,x),connectionEndHandle:U.endHandle}),!w&&!x&&!$)return vu(I);B.source!==B.target&&$&&(vu(I),I=$,$.classList.add("connecting","react-flow__handle-connecting"),$.classList.toggle("valid",x),$.classList.toggle("react-flow__handle-valid",x))}function S(T){var z,j;(w||$)&&B&&x&&(r==null||r(B)),(j=(z=i()).onConnectEnd)==null||j.call(z,T),a&&(u==null||u(T)),vu(I),h(),cancelAnimationFrame(y),D=!1,x=!1,B=null,$=null,c.removeEventListener("mousemove",P),c.removeEventListener("mouseup",S),c.removeEventListener("touchmove",P),c.removeEventListener("touchend",S)}c.addEventListener("mousemove",P),c.addEventListener("mouseup",S),c.addEventListener("touchmove",P),c.addEventListener("touchend",S)}const Pp=()=>!0,Jk=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),Zk=(e,t,n)=>r=>{const{connectionStartHandle:s,connectionEndHandle:i,connectionClickStartHandle:o}=r;return{connecting:(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.handleId)===t&&(s==null?void 0:s.type)===n||(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.handleId)===t&&(i==null?void 0:i.type)===n,clickConnecting:(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.handleId)===t&&(o==null?void 0:o.type)===n}},Ay=A.forwardRef(({type:e="source",position:t=Y.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:s=!0,isConnectableEnd:i=!0,id:o,onConnect:l,children:a,className:u,onMouseDown:c,onTouchStart:f,...d},m)=>{var M,I;const v=o||null,g=e==="target",_=Te(),p=Vk(),{connectOnClick:h,noPanClassName:y}=fe(Jk,Ie),{connecting:w,clickConnecting:E}=fe(Zk(p,v,e),Ie);p||(I=(M=_.getState()).onError)==null||I.call(M,"010",En.error010());const k=F=>{const{defaultEdgeOptions:D,onConnect:B,hasDefaultEdges:x}=_.getState(),$={...D,...F};if(x){const{edges:b,setEdges:L}=_.getState();L(Gk($,b))}B==null||B($),l==null||l($)},N=F=>{if(!p)return;const D=yy(F);s&&(D&&F.button===0||!D)&&Py({event:F,handleId:v,nodeId:p,onConnect:k,isTarget:g,getState:_.getState,setState:_.setState,isValidConnection:n||_.getState().isValidConnection||Pp}),D?c==null||c(F):f==null||f(F)},R=F=>{const{onClickConnectStart:D,onClickConnectEnd:B,connectionClickStartHandle:x,connectionMode:$,isValidConnection:b}=_.getState();if(!p||!x&&!s)return;if(!x){D==null||D(F,{nodeId:p,handleId:v,handleType:e}),_.setState({connectionClickStartHandle:{nodeId:p,type:e,handleId:v}});return}const L=hy(F.target),P=n||b||Pp,{connection:S,isValid:T}=by({nodeId:p,id:v,type:e},$,x.nodeId,x.handleId||null,x.type,P,L);T&&k(S),B==null||B(F),_.setState({connectionClickStartHandle:null})};return O.createElement("div",{"data-handleid":v,"data-nodeid":p,"data-handlepos":t,"data-id":`${p}-${v}-${e}`,className:He(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",y,u,{source:!g,target:g,connectable:r,connectablestart:s,connectableend:i,connecting:E,connectionindicator:r&&(s&&!w||i&&w)}]),onMouseDown:N,onTouchStart:N,onClick:h?R:void 0,ref:m,...d},a)});Ay.displayName="Handle";var Rs=A.memo(Ay);const Ty=({data:e,isConnectable:t,targetPosition:n=Y.Top,sourcePosition:r=Y.Bottom})=>O.createElement(O.Fragment,null,O.createElement(Rs,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,O.createElement(Rs,{type:"source",position:r,isConnectable:t}));Ty.displayName="DefaultNode";var jc=A.memo(Ty);const Ry=({data:e,isConnectable:t,sourcePosition:n=Y.Bottom})=>O.createElement(O.Fragment,null,e==null?void 0:e.label,O.createElement(Rs,{type:"source",position:n,isConnectable:t}));Ry.displayName="InputNode";var My=A.memo(Ry);const $y=({data:e,isConnectable:t,targetPosition:n=Y.Top})=>O.createElement(O.Fragment,null,O.createElement(Rs,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label);$y.displayName="OutputNode";var Iy=A.memo($y);const fd=()=>null;fd.displayName="GroupNode";const eN=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>({...t}))}),Lo=e=>e.id;function tN(e,t){return Ie(e.selectedNodes.map(Lo),t.selectedNodes.map(Lo))&&Ie(e.selectedEdges.map(Lo),t.selectedEdges.map(Lo))}const Oy=A.memo(({onSelectionChange:e})=>{const t=Te(),{selectedNodes:n,selectedEdges:r}=fe(eN,tN);return A.useEffect(()=>{const s={nodes:n,edges:r};e==null||e(s),t.getState().onSelectionChange.forEach(i=>i(s))},[n,r,e]),null});Oy.displayName="SelectionListener";const nN=e=>!!e.onSelectionChange;function rN({onSelectionChange:e}){const t=fe(nN);return e||t?O.createElement(Oy,{onSelectionChange:e}):null}const sN=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function zr(e,t){A.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function ee(e,t,n){A.useEffect(()=>{typeof t<"u"&&n({[e]:t})},[t])}const iN=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:s,onConnectStart:i,onConnectEnd:o,onClickConnectStart:l,onClickConnectEnd:a,nodesDraggable:u,nodesConnectable:c,nodesFocusable:f,edgesFocusable:d,edgesUpdatable:m,elevateNodesOnSelect:v,minZoom:g,maxZoom:_,nodeExtent:p,onNodesChange:h,onEdgesChange:y,elementsSelectable:w,connectionMode:E,snapGrid:k,snapToGrid:N,translateExtent:R,connectOnClick:M,defaultEdgeOptions:I,fitView:F,fitViewOptions:D,onNodesDelete:B,onEdgesDelete:x,onNodeDrag:$,onNodeDragStart:b,onNodeDragStop:L,onSelectionDrag:P,onSelectionDragStart:S,onSelectionDragStop:T,noPanClassName:z,nodeOrigin:j,rfId:U,autoPanOnConnect:V,autoPanOnNodeDrag:X,onError:Q,connectionRadius:J,isValidConnection:oe,nodeDragThreshold:ie})=>{const{setNodes:se,setEdges:Fe,setDefaultNodesAndEdges:Ne,setMinZoom:qe,setMaxZoom:Ve,setTranslateExtent:Se,setNodeExtent:ct,reset:ae}=fe(sN,Ie),K=Te();return A.useEffect(()=>{const Qe=r==null?void 0:r.map(sn=>({...sn,...I}));return Ne(n,Qe),()=>{ae()}},[]),ee("defaultEdgeOptions",I,K.setState),ee("connectionMode",E,K.setState),ee("onConnect",s,K.setState),ee("onConnectStart",i,K.setState),ee("onConnectEnd",o,K.setState),ee("onClickConnectStart",l,K.setState),ee("onClickConnectEnd",a,K.setState),ee("nodesDraggable",u,K.setState),ee("nodesConnectable",c,K.setState),ee("nodesFocusable",f,K.setState),ee("edgesFocusable",d,K.setState),ee("edgesUpdatable",m,K.setState),ee("elementsSelectable",w,K.setState),ee("elevateNodesOnSelect",v,K.setState),ee("snapToGrid",N,K.setState),ee("snapGrid",k,K.setState),ee("onNodesChange",h,K.setState),ee("onEdgesChange",y,K.setState),ee("connectOnClick",M,K.setState),ee("fitViewOnInit",F,K.setState),ee("fitViewOnInitOptions",D,K.setState),ee("onNodesDelete",B,K.setState),ee("onEdgesDelete",x,K.setState),ee("onNodeDrag",$,K.setState),ee("onNodeDragStart",b,K.setState),ee("onNodeDragStop",L,K.setState),ee("onSelectionDrag",P,K.setState),ee("onSelectionDragStart",S,K.setState),ee("onSelectionDragStop",T,K.setState),ee("noPanClassName",z,K.setState),ee("nodeOrigin",j,K.setState),ee("rfId",U,K.setState),ee("autoPanOnConnect",V,K.setState),ee("autoPanOnNodeDrag",X,K.setState),ee("onError",Q,K.setState),ee("connectionRadius",J,K.setState),ee("isValidConnection",oe,K.setState),ee("nodeDragThreshold",ie,K.setState),zr(e,se),zr(t,Fe),zr(g,qe),zr(_,Ve),zr(R,Se),zr(p,ct),null},Ap={display:"none"},oN={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},Fy="react-flow__node-desc",Dy="react-flow__edge-desc",lN="react-flow__aria-live",aN=e=>e.ariaLiveMessage;function uN({rfId:e}){const t=fe(aN);return O.createElement("div",{id:`${lN}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:oN},t)}function cN({rfId:e,disableKeyboardA11y:t}){return O.createElement(O.Fragment,null,O.createElement("div",{id:`${Fy}-${e}`,style:Ap},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),O.createElement("div",{id:`${Dy}-${e}`,style:Ap},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&O.createElement(uN,{rfId:e}))}var Ji=(e=null,t={actInsideInputWithModifier:!0})=>{const[n,r]=A.useState(!1),s=A.useRef(!1),i=A.useRef(new Set([])),[o,l]=A.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(f=>typeof f=="string").map(f=>f.split("+")),c=u.reduce((f,d)=>f.concat(...d),[]);return[u,c]}return[[],[]]},[e]);return A.useEffect(()=>{const a=typeof document<"u"?document:null,u=(t==null?void 0:t.target)||a;if(e!==null){const c=m=>{if(s.current=m.ctrlKey||m.metaKey||m.shiftKey,(!s.current||s.current&&!t.actInsideInputWithModifier)&&Fc(m))return!1;const g=Rp(m.code,l);i.current.add(m[g]),Tp(o,i.current,!1)&&(m.preventDefault(),r(!0))},f=m=>{if((!s.current||s.current&&!t.actInsideInputWithModifier)&&Fc(m))return!1;const g=Rp(m.code,l);Tp(o,i.current,!0)?(r(!1),i.current.clear()):i.current.delete(m[g]),m.key==="Meta"&&i.current.clear(),s.current=!1},d=()=>{i.current.clear(),r(!1)};return u==null||u.addEventListener("keydown",c),u==null||u.addEventListener("keyup",f),window.addEventListener("blur",d),()=>{u==null||u.removeEventListener("keydown",c),u==null||u.removeEventListener("keyup",f),window.removeEventListener("blur",d)}}},[e,r]),n};function Tp(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(s=>t.has(s)))}function Rp(e,t){return t.includes(e)?"code":"key"}function zy(e,t,n,r){var l,a;const s=e.parentNode||e.parentId;if(!s)return n;const i=t.get(s),o=Sr(i,r);return zy(i,t,{x:(n.x??0)+o.x,y:(n.y??0)+o.y,z:(((l=i[_e])==null?void 0:l.z)??0)>(n.z??0)?((a=i[_e])==null?void 0:a.z)??0:n.z??0},r)}function Ly(e,t,n){e.forEach(r=>{var i;const s=r.parentNode||r.parentId;if(s&&!e.has(s))throw new Error(`Parent node ${s} not found`);if(s||n!=null&&n[r.id]){const{x:o,y:l,z:a}=zy(r,e,{...r.position,z:((i=r[_e])==null?void 0:i.z)??0},t);r.positionAbsolute={x:o,y:l},r[_e].z=a,n!=null&&n[r.id]&&(r[_e].isParent=!0)}})}function xu(e,t,n,r){const s=new Map,i={},o=r?1e3:0;return e.forEach(l=>{var m;const a=(Nt(l.zIndex)?l.zIndex:0)+(l.selected?o:0),u=t.get(l.id),c={...l,positionAbsolute:{x:l.position.x,y:l.position.y}},f=l.parentNode||l.parentId;f&&(i[f]=!0);const d=(u==null?void 0:u.type)&&(u==null?void 0:u.type)!==l.type;Object.defineProperty(c,_e,{enumerable:!1,value:{handleBounds:d||(m=u==null?void 0:u[_e])==null?void 0:m.handleBounds,z:a}}),s.set(l.id,c)}),Ly(s,n,i),s}function jy(e,t={}){const{getNodes:n,width:r,height:s,minZoom:i,maxZoom:o,d3Zoom:l,d3Selection:a,fitViewOnInitDone:u,fitViewOnInit:c,nodeOrigin:f}=e(),d=t.initial&&!u&&c;if(l&&a&&(d||!t.initial)){const v=n().filter(_=>{var h;const p=t.includeHiddenNodes?_.width&&_.height:!_.hidden;return(h=t.nodes)!=null&&h.length?p&&t.nodes.some(y=>y.id===_.id):p}),g=v.every(_=>_.width&&_.height);if(v.length>0&&g){const _=ba(v,f),{x:p,y:h,zoom:y}=Ny(_,r,s,t.minZoom??i,t.maxZoom??o,t.padding??.1),w=yn.translate(p,h).scale(y);return typeof t.duration=="number"&&t.duration>0?l.transform(fr(a,t.duration),w):l.transform(a,w),!0}}return!1}function fN(e,t){return e.forEach(n=>{const r=t.get(n.id);r&&t.set(r.id,{...r,[_e]:r[_e],selected:n.selected})}),new Map(t)}function dN(e,t){return t.map(n=>{const r=e.find(s=>s.id===n.id);return r&&(n.selected=r.selected),n})}function jo({changedNodes:e,changedEdges:t,get:n,set:r}){const{nodeInternals:s,edges:i,onNodesChange:o,onEdgesChange:l,hasDefaultNodes:a,hasDefaultEdges:u}=n();e!=null&&e.length&&(a&&r({nodeInternals:fN(e,s)}),o==null||o(e)),t!=null&&t.length&&(u&&r({edges:dN(t,i)}),l==null||l(t))}const Lr=()=>{},hN={zoomIn:Lr,zoomOut:Lr,zoomTo:Lr,getZoom:()=>1,setViewport:Lr,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:Lr,fitBounds:Lr,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},pN=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),mN=()=>{const e=Te(),{d3Zoom:t,d3Selection:n}=fe(pN,Ie);return A.useMemo(()=>n&&t?{zoomIn:s=>t.scaleBy(fr(n,s==null?void 0:s.duration),1.2),zoomOut:s=>t.scaleBy(fr(n,s==null?void 0:s.duration),1/1.2),zoomTo:(s,i)=>t.scaleTo(fr(n,i==null?void 0:i.duration),s),getZoom:()=>e.getState().transform[2],setViewport:(s,i)=>{const[o,l,a]=e.getState().transform,u=yn.translate(s.x??o,s.y??l).scale(s.zoom??a);t.transform(fr(n,i==null?void 0:i.duration),u)},getViewport:()=>{const[s,i,o]=e.getState().transform;return{x:s,y:i,zoom:o}},fitView:s=>jy(e.getState,s),setCenter:(s,i,o)=>{const{width:l,height:a,maxZoom:u}=e.getState(),c=typeof(o==null?void 0:o.zoom)<"u"?o.zoom:u,f=l/2-s*c,d=a/2-i*c,m=yn.translate(f,d).scale(c);t.transform(fr(n,o==null?void 0:o.duration),m)},fitBounds:(s,i)=>{const{width:o,height:l,minZoom:a,maxZoom:u}=e.getState(),{x:c,y:f,zoom:d}=Ny(s,o,l,a,u,(i==null?void 0:i.padding)??.1),m=yn.translate(c,f).scale(d);t.transform(fr(n,i==null?void 0:i.duration),m)},project:s=>{const{transform:i,snapToGrid:o,snapGrid:l}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),Lc(s,i,o,l)},screenToFlowPosition:s=>{const{transform:i,snapToGrid:o,snapGrid:l,domNode:a}=e.getState();if(!a)return s;const{x:u,y:c}=a.getBoundingClientRect(),f={x:s.x-u,y:s.y-c};return Lc(f,i,o,l)},flowToScreenPosition:s=>{const{transform:i,domNode:o}=e.getState();if(!o)return s;const{x:l,y:a}=o.getBoundingClientRect(),u=Sy(s,i);return{x:u.x+l,y:u.y+a}},viewportInitialized:!0}:hN,[t,n])};function Pa(){const e=mN(),t=Te(),n=A.useCallback(()=>t.getState().getNodes().map(g=>({...g})),[]),r=A.useCallback(g=>t.getState().nodeInternals.get(g),[]),s=A.useCallback(()=>{const{edges:g=[]}=t.getState();return g.map(_=>({..._}))},[]),i=A.useCallback(g=>{const{edges:_=[]}=t.getState();return _.find(p=>p.id===g)},[]),o=A.useCallback(g=>{const{getNodes:_,setNodes:p,hasDefaultNodes:h,onNodesChange:y}=t.getState(),w=_(),E=typeof g=="function"?g(w):g;if(h)p(E);else if(y){const k=E.length===0?w.map(N=>({type:"remove",id:N.id})):E.map(N=>({item:N,type:"reset"}));y(k)}},[]),l=A.useCallback(g=>{const{edges:_=[],setEdges:p,hasDefaultEdges:h,onEdgesChange:y}=t.getState(),w=typeof g=="function"?g(_):g;if(h)p(w);else if(y){const E=w.length===0?_.map(k=>({type:"remove",id:k.id})):w.map(k=>({item:k,type:"reset"}));y(E)}},[]),a=A.useCallback(g=>{const _=Array.isArray(g)?g:[g],{getNodes:p,setNodes:h,hasDefaultNodes:y,onNodesChange:w}=t.getState();if(y){const k=[...p(),..._];h(k)}else if(w){const E=_.map(k=>({item:k,type:"add"}));w(E)}},[]),u=A.useCallback(g=>{const _=Array.isArray(g)?g:[g],{edges:p=[],setEdges:h,hasDefaultEdges:y,onEdgesChange:w}=t.getState();if(y)h([...p,..._]);else if(w){const E=_.map(k=>({item:k,type:"add"}));w(E)}},[]),c=A.useCallback(()=>{const{getNodes:g,edges:_=[],transform:p}=t.getState(),[h,y,w]=p;return{nodes:g().map(E=>({...E})),edges:_.map(E=>({...E})),viewport:{x:h,y,zoom:w}}},[]),f=A.useCallback(({nodes:g,edges:_})=>{const{nodeInternals:p,getNodes:h,edges:y,hasDefaultNodes:w,hasDefaultEdges:E,onNodesDelete:k,onEdgesDelete:N,onNodesChange:R,onEdgesChange:M}=t.getState(),I=(g||[]).map($=>$.id),F=(_||[]).map($=>$.id),D=h().reduce(($,b)=>{const L=b.parentNode||b.parentId,P=!I.includes(b.id)&&L&&$.find(T=>T.id===L);return(typeof b.deletable=="boolean"?b.deletable:!0)&&(I.includes(b.id)||P)&&$.push(b),$},[]),B=y.filter($=>typeof $.deletable=="boolean"?$.deletable:!0),x=B.filter($=>F.includes($.id));if(D||x){const $=ky(D,B),b=[...x,...$],L=b.reduce((P,S)=>(P.includes(S.id)||P.push(S.id),P),[]);if((E||w)&&(E&&t.setState({edges:y.filter(P=>!L.includes(P.id))}),w&&(D.forEach(P=>{p.delete(P.id)}),t.setState({nodeInternals:new Map(p)}))),L.length>0&&(N==null||N(b),M&&M(L.map(P=>({id:P,type:"remove"})))),D.length>0&&(k==null||k(D),R)){const P=D.map(S=>({id:S.id,type:"remove"}));R(P)}}},[]),d=A.useCallback(g=>{const _=Ok(g),p=_?null:t.getState().nodeInternals.get(g.id);return!_&&!p?[null,null,_]:[_?g:Sp(p),p,_]},[]),m=A.useCallback((g,_=!0,p)=>{const[h,y,w]=d(g);return h?(p||t.getState().getNodes()).filter(E=>{if(!w&&(E.id===y.id||!E.positionAbsolute))return!1;const k=Sp(E),N=Oc(k,h);return _&&N>0||N>=h.width*h.height}):[]},[]),v=A.useCallback((g,_,p=!0)=>{const[h]=d(g);if(!h)return!1;const y=Oc(h,_);return p&&y>0||y>=h.width*h.height},[]);return A.useMemo(()=>({...e,getNodes:n,getNode:r,getEdges:s,getEdge:i,setNodes:o,setEdges:l,addNodes:a,addEdges:u,toObject:c,deleteElements:f,getIntersectingNodes:m,isNodeIntersecting:v}),[e,n,r,s,i,o,l,a,u,c,f,m,v])}const gN={actInsideInputWithModifier:!1};var yN=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=Te(),{deleteElements:r}=Pa(),s=Ji(e,gN),i=Ji(t);A.useEffect(()=>{if(s){const{edges:o,getNodes:l}=n.getState(),a=l().filter(c=>c.selected),u=o.filter(c=>c.selected);r({nodes:a,edges:u}),n.setState({nodesSelectionActive:!1})}},[s]),A.useEffect(()=>{n.setState({multiSelectionActive:i})},[i])};function wN(e){const t=Te();A.useEffect(()=>{let n;const r=()=>{var i,o;if(!e.current)return;const s=sd(e.current);(s.height===0||s.width===0)&&((o=(i=t.getState()).onError)==null||o.call(i,"004",En.error004())),t.setState({width:s.width||500,height:s.height||500})};return r(),window.addEventListener("resize",r),e.current&&(n=new ResizeObserver(()=>r()),n.observe(e.current)),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}},[])}const dd={position:"absolute",width:"100%",height:"100%",top:0,left:0},vN=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,Bo=e=>({x:e.x,y:e.y,zoom:e.k}),jr=(e,t)=>e.target.closest(`.${t}`),Mp=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),$p=e=>{const t=e.ctrlKey&&Kl()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},xN=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),_N=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:s=!0,zoomOnPinch:i=!0,panOnScroll:o=!1,panOnScrollSpeed:l=.5,panOnScrollMode:a=yr.Free,zoomOnDoubleClick:u=!0,elementsSelectable:c,panOnDrag:f=!0,defaultViewport:d,translateExtent:m,minZoom:v,maxZoom:g,zoomActivationKeyCode:_,preventScrolling:p=!0,children:h,noWheelClassName:y,noPanClassName:w})=>{const E=A.useRef(),k=Te(),N=A.useRef(!1),R=A.useRef(!1),M=A.useRef(null),I=A.useRef({x:0,y:0,zoom:0}),{d3Zoom:F,d3Selection:D,d3ZoomHandler:B,userSelectionActive:x}=fe(xN,Ie),$=Ji(_),b=A.useRef(0),L=A.useRef(!1),P=A.useRef();return wN(M),A.useEffect(()=>{if(M.current){const S=M.current.getBoundingClientRect(),T=cy().scaleExtent([v,g]).translateExtent(m),z=Et(M.current).call(T),j=yn.translate(d.x,d.y).scale(Ts(d.zoom,v,g)),U=[[0,0],[S.width,S.height]],V=T.constrain()(j,U,m);T.transform(z,V),T.wheelDelta($p),k.setState({d3Zoom:T,d3Selection:z,d3ZoomHandler:z.on("wheel.zoom"),transform:[V.x,V.y,V.k],domNode:M.current.closest(".react-flow")})}},[]),A.useEffect(()=>{D&&F&&(o&&!$&&!x?D.on("wheel.zoom",S=>{if(jr(S,y))return!1;S.preventDefault(),S.stopImmediatePropagation();const T=D.property("__zoom").k||1;if(S.ctrlKey&&i){const oe=Ft(S),ie=$p(S),se=T*Math.pow(2,ie);F.scaleTo(D,se,oe,S);return}const z=S.deltaMode===1?20:1;let j=a===yr.Vertical?0:S.deltaX*z,U=a===yr.Horizontal?0:S.deltaY*z;!Kl()&&S.shiftKey&&a!==yr.Vertical&&(j=S.deltaY*z,U=0),F.translateBy(D,-(j/T)*l,-(U/T)*l,{internal:!0});const V=Bo(D.property("__zoom")),{onViewportChangeStart:X,onViewportChange:Q,onViewportChangeEnd:J}=k.getState();clearTimeout(P.current),L.current||(L.current=!0,t==null||t(S,V),X==null||X(V)),L.current&&(e==null||e(S,V),Q==null||Q(V),P.current=setTimeout(()=>{n==null||n(S,V),J==null||J(V),L.current=!1},150))},{passive:!1}):typeof B<"u"&&D.on("wheel.zoom",function(S,T){if(!p&&S.type==="wheel"&&!S.ctrlKey||jr(S,y))return null;S.preventDefault(),B.call(this,S,T)},{passive:!1}))},[x,o,a,D,F,B,$,i,p,y,t,e,n]),A.useEffect(()=>{F&&F.on("start",S=>{var j,U;if(!S.sourceEvent||S.sourceEvent.internal)return null;b.current=(j=S.sourceEvent)==null?void 0:j.button;const{onViewportChangeStart:T}=k.getState(),z=Bo(S.transform);N.current=!0,I.current=z,((U=S.sourceEvent)==null?void 0:U.type)==="mousedown"&&k.setState({paneDragging:!0}),T==null||T(z),t==null||t(S.sourceEvent,z)})},[F,t]),A.useEffect(()=>{F&&(x&&!N.current?F.on("zoom",null):x||F.on("zoom",S=>{var z;const{onViewportChange:T}=k.getState();if(k.setState({transform:[S.transform.x,S.transform.y,S.transform.k]}),R.current=!!(r&&Mp(f,b.current??0)),(e||T)&&!((z=S.sourceEvent)!=null&&z.internal)){const j=Bo(S.transform);T==null||T(j),e==null||e(S.sourceEvent,j)}}))},[x,F,e,f,r]),A.useEffect(()=>{F&&F.on("end",S=>{if(!S.sourceEvent||S.sourceEvent.internal)return null;const{onViewportChangeEnd:T}=k.getState();if(N.current=!1,k.setState({paneDragging:!1}),r&&Mp(f,b.current??0)&&!R.current&&r(S.sourceEvent),R.current=!1,(n||T)&&vN(I.current,S.transform)){const z=Bo(S.transform);I.current=z,clearTimeout(E.current),E.current=setTimeout(()=>{T==null||T(z),n==null||n(S.sourceEvent,z)},o?150:0)}})},[F,o,f,n,r]),A.useEffect(()=>{F&&F.filter(S=>{const T=$||s,z=i&&S.ctrlKey;if((f===!0||Array.isArray(f)&&f.includes(1))&&S.button===1&&S.type==="mousedown"&&(jr(S,"react-flow__node")||jr(S,"react-flow__edge")))return!0;if(!f&&!T&&!o&&!u&&!i||x||!u&&S.type==="dblclick"||jr(S,y)&&S.type==="wheel"||jr(S,w)&&(S.type!=="wheel"||o&&S.type==="wheel"&&!$)||!i&&S.ctrlKey&&S.type==="wheel"||!T&&!o&&!z&&S.type==="wheel"||!f&&(S.type==="mousedown"||S.type==="touchstart")||Array.isArray(f)&&!f.includes(S.button)&&S.type==="mousedown")return!1;const j=Array.isArray(f)&&f.includes(S.button)||!S.button||S.button<=1;return(!S.ctrlKey||S.type==="wheel")&&j})},[x,F,s,i,o,u,f,c,$]),O.createElement("div",{className:"react-flow__renderer",ref:M,style:dd},h)},SN=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function EN(){const{userSelectionActive:e,userSelectionRect:t}=fe(SN,Ie);return e&&t?O.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function Ip(e,t){const n=t.parentNode||t.parentId,r=e.find(s=>s.id===n);if(r){const s=t.position.x+t.width-r.width,i=t.position.y+t.height-r.height;if(s>0||i>0||t.position.x<0||t.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,s>0&&(r.style.width+=s),i>0&&(r.style.height+=i),t.position.x<0){const o=Math.abs(t.position.x);r.position.x=r.position.x-o,r.style.width+=o,t.position.x=0}if(t.position.y<0){const o=Math.abs(t.position.y);r.position.y=r.position.y-o,r.style.height+=o,t.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function By(e,t){if(e.some(r=>r.type==="reset"))return e.filter(r=>r.type==="reset").map(r=>r.item);const n=e.filter(r=>r.type==="add").map(r=>r.item);return t.reduce((r,s)=>{const i=e.filter(l=>l.id===s.id);if(i.length===0)return r.push(s),r;const o={...s};for(const l of i)if(l)switch(l.type){case"select":{o.selected=l.selected;break}case"position":{typeof l.position<"u"&&(o.position=l.position),typeof l.positionAbsolute<"u"&&(o.positionAbsolute=l.positionAbsolute),typeof l.dragging<"u"&&(o.dragging=l.dragging),o.expandParent&&Ip(r,o);break}case"dimensions":{typeof l.dimensions<"u"&&(o.width=l.dimensions.width,o.height=l.dimensions.height),typeof l.updateStyle<"u"&&(o.style={...o.style||{},...l.dimensions}),typeof l.resizing=="boolean"&&(o.resizing=l.resizing),o.expandParent&&Ip(r,o);break}case"remove":return r}return r.push(o),r},n)}function Hy(e,t){return By(e,t)}function kN(e,t){return By(e,t)}const $n=(e,t)=>({id:e,type:"select",selected:t});function os(e,t){return e.reduce((n,r)=>{const s=t.includes(r.id);return!r.selected&&s?(r.selected=!0,n.push($n(r.id,!0))):r.selected&&!s&&(r.selected=!1,n.push($n(r.id,!1))),n},[])}const _u=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},NN=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),Vy=A.memo(({isSelecting:e,selectionMode:t=Qi.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:s,onPaneClick:i,onPaneContextMenu:o,onPaneScroll:l,onPaneMouseEnter:a,onPaneMouseMove:u,onPaneMouseLeave:c,children:f})=>{const d=A.useRef(null),m=Te(),v=A.useRef(0),g=A.useRef(0),_=A.useRef(),{userSelectionActive:p,elementsSelectable:h,dragging:y}=fe(NN,Ie),w=()=>{m.setState({userSelectionActive:!1,userSelectionRect:null}),v.current=0,g.current=0},E=B=>{i==null||i(B),m.getState().resetSelectedElements(),m.setState({nodesSelectionActive:!1})},k=B=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){B.preventDefault();return}o==null||o(B)},N=l?B=>l(B):void 0,R=B=>{const{resetSelectedElements:x,domNode:$}=m.getState();if(_.current=$==null?void 0:$.getBoundingClientRect(),!h||!e||B.button!==0||B.target!==d.current||!_.current)return;const{x:b,y:L}=Yn(B,_.current);x(),m.setState({userSelectionRect:{width:0,height:0,startX:b,startY:L,x:b,y:L}}),r==null||r(B)},M=B=>{const{userSelectionRect:x,nodeInternals:$,edges:b,transform:L,onNodesChange:P,onEdgesChange:S,nodeOrigin:T,getNodes:z}=m.getState();if(!e||!_.current||!x)return;m.setState({userSelectionActive:!0,nodesSelectionActive:!1});const j=Yn(B,_.current),U=x.startX??0,V=x.startY??0,X={...x,x:j.x<U?j.x:U,y:j.y<V?j.y:V,width:Math.abs(j.x-U),height:Math.abs(j.y-V)},Q=z(),J=Ey($,X,L,t===Qi.Partial,!0,T),oe=ky(J,b).map(se=>se.id),ie=J.map(se=>se.id);if(v.current!==ie.length){v.current=ie.length;const se=os(Q,ie);se.length&&(P==null||P(se))}if(g.current!==oe.length){g.current=oe.length;const se=os(b,oe);se.length&&(S==null||S(se))}m.setState({userSelectionRect:X})},I=B=>{if(B.button!==0)return;const{userSelectionRect:x}=m.getState();!p&&x&&B.target===d.current&&(E==null||E(B)),m.setState({nodesSelectionActive:v.current>0}),w(),s==null||s(B)},F=B=>{p&&(m.setState({nodesSelectionActive:v.current>0}),s==null||s(B)),w()},D=h&&(e||p);return O.createElement("div",{className:He(["react-flow__pane",{dragging:y,selection:e}]),onClick:D?void 0:_u(E,d),onContextMenu:_u(k,d),onWheel:_u(N,d),onMouseEnter:D?void 0:a,onMouseDown:D?R:void 0,onMouseMove:D?M:u,onMouseUp:D?I:void 0,onMouseLeave:D?F:c,ref:d,style:dd},f,O.createElement(EN,null))});Vy.displayName="Pane";function Uy(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const r=t.get(n);return r?r.selected?!0:Uy(r,t):!1}function Op(e,t,n){let r=e;do{if(r!=null&&r.matches(t))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function CN(e,t,n,r){return Array.from(e.values()).filter(s=>(s.selected||s.id===r)&&(!s.parentNode||s.parentId||!Uy(s,e))&&(s.draggable||t&&typeof s.draggable>"u")).map(s=>{var i,o;return{id:s.id,position:s.position||{x:0,y:0},positionAbsolute:s.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((i=s.positionAbsolute)==null?void 0:i.x)??0),y:n.y-(((o=s.positionAbsolute)==null?void 0:o.y)??0)},delta:{x:0,y:0},extent:s.extent,parentNode:s.parentNode||s.parentId,parentId:s.parentNode||s.parentId,width:s.width,height:s.height,expandParent:s.expandParent}})}function bN(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function Wy(e,t,n,r,s=[0,0],i){const o=bN(e,e.extent||r);let l=o;const a=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(a&&e.width&&e.height){const f=n.get(a),{x:d,y:m}=Sr(f,s).positionAbsolute;l=f&&Nt(d)&&Nt(m)&&Nt(f.width)&&Nt(f.height)?[[d+e.width*s[0],m+e.height*s[1]],[d+f.width-e.width+e.width*s[0],m+f.height-e.height+e.height*s[1]]]:l}else i==null||i("005",En.error005()),l=o;else if(e.extent&&a&&e.extent!=="parent"){const f=n.get(a),{x:d,y:m}=Sr(f,s).positionAbsolute;l=[[e.extent[0][0]+d,e.extent[0][1]+m],[e.extent[1][0]+d,e.extent[1][1]+m]]}let u={x:0,y:0};if(a){const f=n.get(a);u=Sr(f,s).positionAbsolute}const c=l&&l!=="parent"?id(t,l):t;return{position:{x:c.x-u.x,y:c.y-u.y},positionAbsolute:c}}function Su({nodeId:e,dragItems:t,nodeInternals:n}){const r=t.map(s=>({...n.get(s.id),position:s.position,positionAbsolute:s.positionAbsolute}));return[e?r.find(s=>s.id===e):r[0],r]}const Fp=(e,t,n,r)=>{const s=t.querySelectorAll(e);if(!s||!s.length)return null;const i=Array.from(s),o=t.getBoundingClientRect(),l={x:o.width*r[0],y:o.height*r[1]};return i.map(a=>{const u=a.getBoundingClientRect();return{id:a.getAttribute("data-handleid"),position:a.getAttribute("data-handlepos"),x:(u.left-o.left-l.x)/n,y:(u.top-o.top-l.y)/n,...sd(a)}})};function ei(e,t,n){return n===void 0?n:r=>{const s=t().nodeInternals.get(e);s&&n(r,{...s})}}function Bc({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:s,unselectNodesAndEdges:i,multiSelectionActive:o,nodeInternals:l,onError:a}=t.getState(),u=l.get(e);if(!u){a==null||a("012",En.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&o)&&(i({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var c;return(c=r==null?void 0:r.current)==null?void 0:c.blur()})):s([e])}function PN(){const e=Te();return A.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:s,snapToGrid:i}=e.getState(),o=n.touches?n.touches[0].clientX:n.clientX,l=n.touches?n.touches[0].clientY:n.clientY,a={x:(o-r[0])/r[2],y:(l-r[1])/r[2]};return{xSnapped:i?s[0]*Math.round(a.x/s[0]):a.x,ySnapped:i?s[1]*Math.round(a.y/s[1]):a.y,...a}},[])}function Eu(e){return(t,n,r)=>e==null?void 0:e(t,r)}function Xy({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:s,isSelectable:i,selectNodesOnDrag:o}){const l=Te(),[a,u]=A.useState(!1),c=A.useRef([]),f=A.useRef({x:null,y:null}),d=A.useRef(0),m=A.useRef(null),v=A.useRef({x:0,y:0}),g=A.useRef(null),_=A.useRef(!1),p=A.useRef(!1),h=A.useRef(!1),y=PN();return A.useEffect(()=>{if(e!=null&&e.current){const w=Et(e.current),E=({x:R,y:M})=>{const{nodeInternals:I,onNodeDrag:F,onSelectionDrag:D,updateNodePositions:B,nodeExtent:x,snapGrid:$,snapToGrid:b,nodeOrigin:L,onError:P}=l.getState();f.current={x:R,y:M};let S=!1,T={x:0,y:0,x2:0,y2:0};if(c.current.length>1&&x){const j=ba(c.current,L);T=qi(j)}if(c.current=c.current.map(j=>{const U={x:R-j.distance.x,y:M-j.distance.y};b&&(U.x=$[0]*Math.round(U.x/$[0]),U.y=$[1]*Math.round(U.y/$[1]));const V=[[x[0][0],x[0][1]],[x[1][0],x[1][1]]];c.current.length>1&&x&&!j.extent&&(V[0][0]=j.positionAbsolute.x-T.x+x[0][0],V[1][0]=j.positionAbsolute.x+(j.width??0)-T.x2+x[1][0],V[0][1]=j.positionAbsolute.y-T.y+x[0][1],V[1][1]=j.positionAbsolute.y+(j.height??0)-T.y2+x[1][1]);const X=Wy(j,U,I,V,L,P);return S=S||j.position.x!==X.position.x||j.position.y!==X.position.y,j.position=X.position,j.positionAbsolute=X.positionAbsolute,j}),!S)return;B(c.current,!0,!0),u(!0);const z=s?F:Eu(D);if(z&&g.current){const[j,U]=Su({nodeId:s,dragItems:c.current,nodeInternals:I});z(g.current,j,U)}},k=()=>{if(!m.current)return;const[R,M]=dy(v.current,m.current);if(R!==0||M!==0){const{transform:I,panBy:F}=l.getState();f.current.x=(f.current.x??0)-R/I[2],f.current.y=(f.current.y??0)-M/I[2],F({x:R,y:M})&&E(f.current)}d.current=requestAnimationFrame(k)},N=R=>{var L;const{nodeInternals:M,multiSelectionActive:I,nodesDraggable:F,unselectNodesAndEdges:D,onNodeDragStart:B,onSelectionDragStart:x}=l.getState();p.current=!0;const $=s?B:Eu(x);(!o||!i)&&!I&&s&&((L=M.get(s))!=null&&L.selected||D()),s&&i&&o&&Bc({id:s,store:l,nodeRef:e});const b=y(R);if(f.current=b,c.current=CN(M,F,b,s),$&&c.current){const[P,S]=Su({nodeId:s,dragItems:c.current,nodeInternals:M});$(R.sourceEvent,P,S)}};if(t)w.on(".drag",null);else{const R=L2().on("start",M=>{const{domNode:I,nodeDragThreshold:F}=l.getState();F===0&&N(M),h.current=!1;const D=y(M);f.current=D,m.current=(I==null?void 0:I.getBoundingClientRect())||null,v.current=Yn(M.sourceEvent,m.current)}).on("drag",M=>{var B,x;const I=y(M),{autoPanOnNodeDrag:F,nodeDragThreshold:D}=l.getState();if(M.sourceEvent.type==="touchmove"&&M.sourceEvent.touches.length>1&&(h.current=!0),!h.current){if(!_.current&&p.current&&F&&(_.current=!0,k()),!p.current){const $=I.xSnapped-(((B=f==null?void 0:f.current)==null?void 0:B.x)??0),b=I.ySnapped-(((x=f==null?void 0:f.current)==null?void 0:x.y)??0);Math.sqrt($*$+b*b)>D&&N(M)}(f.current.x!==I.xSnapped||f.current.y!==I.ySnapped)&&c.current&&p.current&&(g.current=M.sourceEvent,v.current=Yn(M.sourceEvent,m.current),E(I))}}).on("end",M=>{if(!(!p.current||h.current)&&(u(!1),_.current=!1,p.current=!1,cancelAnimationFrame(d.current),c.current)){const{updateNodePositions:I,nodeInternals:F,onNodeDragStop:D,onSelectionDragStop:B}=l.getState(),x=s?D:Eu(B);if(I(c.current,!1,!1),x){const[$,b]=Su({nodeId:s,dragItems:c.current,nodeInternals:F});x(M.sourceEvent,$,b)}}}).filter(M=>{const I=M.target;return!M.button&&(!n||!Op(I,`.${n}`,e))&&(!r||Op(I,r,e))});return w.call(R),()=>{w.on(".drag",null)}}}},[e,t,n,r,i,l,s,o,y]),a}function Gy(){const e=Te();return A.useCallback(n=>{const{nodeInternals:r,nodeExtent:s,updateNodePositions:i,getNodes:o,snapToGrid:l,snapGrid:a,onError:u,nodesDraggable:c}=e.getState(),f=o().filter(h=>h.selected&&(h.draggable||c&&typeof h.draggable>"u")),d=l?a[0]:5,m=l?a[1]:5,v=n.isShiftPressed?4:1,g=n.x*d*v,_=n.y*m*v,p=f.map(h=>{if(h.positionAbsolute){const y={x:h.positionAbsolute.x+g,y:h.positionAbsolute.y+_};l&&(y.x=a[0]*Math.round(y.x/a[0]),y.y=a[1]*Math.round(y.y/a[1]));const{positionAbsolute:w,position:E}=Wy(h,y,r,s,void 0,u);h.position=E,h.positionAbsolute=w}return h});i(p,!0,!1)},[])}const gs={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var ti=e=>{const t=({id:n,type:r,data:s,xPos:i,yPos:o,xPosOrigin:l,yPosOrigin:a,selected:u,onClick:c,onMouseEnter:f,onMouseMove:d,onMouseLeave:m,onContextMenu:v,onDoubleClick:g,style:_,className:p,isDraggable:h,isSelectable:y,isConnectable:w,isFocusable:E,selectNodesOnDrag:k,sourcePosition:N,targetPosition:R,hidden:M,resizeObserver:I,dragHandle:F,zIndex:D,isParent:B,noDragClassName:x,noPanClassName:$,initialized:b,disableKeyboardA11y:L,ariaLabel:P,rfId:S,hasHandleBounds:T})=>{const z=Te(),j=A.useRef(null),U=A.useRef(null),V=A.useRef(N),X=A.useRef(R),Q=A.useRef(r),J=y||h||c||f||d||m,oe=Gy(),ie=ei(n,z.getState,f),se=ei(n,z.getState,d),Fe=ei(n,z.getState,m),Ne=ei(n,z.getState,v),qe=ei(n,z.getState,g),Ve=ae=>{const{nodeDragThreshold:K}=z.getState();if(y&&(!k||!h||K>0)&&Bc({id:n,store:z,nodeRef:j}),c){const Qe=z.getState().nodeInternals.get(n);Qe&&c(ae,{...Qe})}},Se=ae=>{if(!Fc(ae)&&!L)if(gy.includes(ae.key)&&y){const K=ae.key==="Escape";Bc({id:n,store:z,unselect:K,nodeRef:j})}else h&&u&&Object.prototype.hasOwnProperty.call(gs,ae.key)&&(z.setState({ariaLiveMessage:`Moved selected node ${ae.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~i}, y: ${~~o}`}),oe({x:gs[ae.key].x,y:gs[ae.key].y,isShiftPressed:ae.shiftKey}))};A.useEffect(()=>()=>{U.current&&(I==null||I.unobserve(U.current),U.current=null)},[]),A.useEffect(()=>{if(j.current&&!M){const ae=j.current;(!b||!T||U.current!==ae)&&(U.current&&(I==null||I.unobserve(U.current)),I==null||I.observe(ae),U.current=ae)}},[M,b,T]),A.useEffect(()=>{const ae=Q.current!==r,K=V.current!==N,Qe=X.current!==R;j.current&&(ae||K||Qe)&&(ae&&(Q.current=r),K&&(V.current=N),Qe&&(X.current=R),z.getState().updateNodeDimensions([{id:n,nodeElement:j.current,forceUpdate:!0}]))},[n,r,N,R]);const ct=Xy({nodeRef:j,disabled:M||!h,noDragClassName:x,handleSelector:F,nodeId:n,isSelectable:y,selectNodesOnDrag:k});return M?null:O.createElement("div",{className:He(["react-flow__node",`react-flow__node-${r}`,{[$]:h},p,{selected:u,selectable:y,parent:B,dragging:ct}]),ref:j,style:{zIndex:D,transform:`translate(${l}px,${a}px)`,pointerEvents:J?"all":"none",visibility:b?"visible":"hidden",..._},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:ie,onMouseMove:se,onMouseLeave:Fe,onContextMenu:Ne,onClick:Ve,onDoubleClick:qe,onKeyDown:E?Se:void 0,tabIndex:E?0:void 0,role:E?"button":void 0,"aria-describedby":L?void 0:`${Fy}-${S}`,"aria-label":P},O.createElement(Hk,{value:n},O.createElement(e,{id:n,data:s,type:r,xPos:i,yPos:o,selected:u,isConnectable:w,sourcePosition:N,targetPosition:R,dragging:ct,dragHandle:F,zIndex:D})))};return t.displayName="NodeWrapper",A.memo(t)};const AN=e=>{const t=e.getNodes().filter(n=>n.selected);return{...ba(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function TN({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=Te(),{width:s,height:i,x:o,y:l,transformString:a,userSelectionActive:u}=fe(AN,Ie),c=Gy(),f=A.useRef(null);if(A.useEffect(()=>{var v;n||(v=f.current)==null||v.focus({preventScroll:!0})},[n]),Xy({nodeRef:f}),u||!s||!i)return null;const d=e?v=>{const g=r.getState().getNodes().filter(_=>_.selected);e(v,g)}:void 0,m=v=>{Object.prototype.hasOwnProperty.call(gs,v.key)&&c({x:gs[v.key].x,y:gs[v.key].y,isShiftPressed:v.shiftKey})};return O.createElement("div",{className:He(["react-flow__nodesselection","react-flow__container",t]),style:{transform:a}},O.createElement("div",{ref:f,className:"react-flow__nodesselection-rect",onContextMenu:d,tabIndex:n?void 0:-1,onKeyDown:n?void 0:m,style:{width:s,height:i,top:l,left:o}}))}var RN=A.memo(TN);const MN=e=>e.nodesSelectionActive,Yy=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:i,onPaneScroll:o,deleteKeyCode:l,onMove:a,onMoveStart:u,onMoveEnd:c,selectionKeyCode:f,selectionOnDrag:d,selectionMode:m,onSelectionStart:v,onSelectionEnd:g,multiSelectionKeyCode:_,panActivationKeyCode:p,zoomActivationKeyCode:h,elementsSelectable:y,zoomOnScroll:w,zoomOnPinch:E,panOnScroll:k,panOnScrollSpeed:N,panOnScrollMode:R,zoomOnDoubleClick:M,panOnDrag:I,defaultViewport:F,translateExtent:D,minZoom:B,maxZoom:x,preventScrolling:$,onSelectionContextMenu:b,noWheelClassName:L,noPanClassName:P,disableKeyboardA11y:S})=>{const T=fe(MN),z=Ji(f),j=Ji(p),U=j||I,V=j||k,X=z||d&&U!==!0;return yN({deleteKeyCode:l,multiSelectionKeyCode:_}),O.createElement(_N,{onMove:a,onMoveStart:u,onMoveEnd:c,onPaneContextMenu:i,elementsSelectable:y,zoomOnScroll:w,zoomOnPinch:E,panOnScroll:V,panOnScrollSpeed:N,panOnScrollMode:R,zoomOnDoubleClick:M,panOnDrag:!z&&U,defaultViewport:F,translateExtent:D,minZoom:B,maxZoom:x,zoomActivationKeyCode:h,preventScrolling:$,noWheelClassName:L,noPanClassName:P},O.createElement(Vy,{onSelectionStart:v,onSelectionEnd:g,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:i,onPaneScroll:o,panOnDrag:U,isSelecting:!!X,selectionMode:m},e,T&&O.createElement(RN,{onSelectionContextMenu:b,noPanClassName:P,disableKeyboardA11y:S})))};Yy.displayName="FlowRenderer";var $N=A.memo(Yy);function IN(e){return fe(A.useCallback(n=>e?Ey(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[e]))}function ON(e){const t={input:ti(e.input||My),default:ti(e.default||jc),output:ti(e.output||Iy),group:ti(e.group||fd)},n={},r=Object.keys(e).filter(s=>!["input","default","output","group"].includes(s)).reduce((s,i)=>(s[i]=ti(e[i]||jc),s),n);return{...t,...r}}const FN=({x:e,y:t,width:n,height:r,origin:s})=>!n||!r?{x:e,y:t}:s[0]<0||s[1]<0||s[0]>1||s[1]>1?{x:e,y:t}:{x:e-n*s[0],y:t-r*s[1]},DN=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),Ky=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:s,updateNodeDimensions:i,onError:o}=fe(DN,Ie),l=IN(e.onlyRenderVisibleElements),a=A.useRef(),u=A.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const c=new ResizeObserver(f=>{const d=f.map(m=>({id:m.target.getAttribute("data-id"),nodeElement:m.target,forceUpdate:!0}));i(d)});return a.current=c,c},[]);return A.useEffect(()=>()=>{var c;(c=a==null?void 0:a.current)==null||c.disconnect()},[]),O.createElement("div",{className:"react-flow__nodes",style:dd},l.map(c=>{var E,k,N;let f=c.type||"default";e.nodeTypes[f]||(o==null||o("003",En.error003(f)),f="default");const d=e.nodeTypes[f]||e.nodeTypes.default,m=!!(c.draggable||t&&typeof c.draggable>"u"),v=!!(c.selectable||s&&typeof c.selectable>"u"),g=!!(c.connectable||n&&typeof c.connectable>"u"),_=!!(c.focusable||r&&typeof c.focusable>"u"),p=e.nodeExtent?id(c.positionAbsolute,e.nodeExtent):c.positionAbsolute,h=(p==null?void 0:p.x)??0,y=(p==null?void 0:p.y)??0,w=FN({x:h,y,width:c.width??0,height:c.height??0,origin:e.nodeOrigin});return O.createElement(d,{key:c.id,id:c.id,className:c.className,style:c.style,type:f,data:c.data,sourcePosition:c.sourcePosition||Y.Bottom,targetPosition:c.targetPosition||Y.Top,hidden:c.hidden,xPos:h,yPos:y,xPosOrigin:w.x,yPosOrigin:w.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!c.selected,isDraggable:m,isSelectable:v,isConnectable:g,isFocusable:_,resizeObserver:u,dragHandle:c.dragHandle,zIndex:((E=c[_e])==null?void 0:E.z)??0,isParent:!!((k=c[_e])!=null&&k.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!c.width&&!!c.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:c.ariaLabel,hasHandleBounds:!!((N=c[_e])!=null&&N.handleBounds)})}))};Ky.displayName="NodeRenderer";var zN=A.memo(Ky);const LN=(e,t,n)=>n===Y.Left?e-t:n===Y.Right?e+t:e,jN=(e,t,n)=>n===Y.Top?e-t:n===Y.Bottom?e+t:e,Dp="react-flow__edgeupdater",zp=({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:s,onMouseEnter:i,onMouseOut:o,type:l})=>O.createElement("circle",{onMouseDown:s,onMouseEnter:i,onMouseOut:o,className:He([Dp,`${Dp}-${l}`]),cx:LN(t,r,e),cy:jN(n,r,e),r,stroke:"transparent",fill:"transparent"}),BN=()=>!0;var Br=e=>{const t=({id:n,className:r,type:s,data:i,onClick:o,onEdgeDoubleClick:l,selected:a,animated:u,label:c,labelStyle:f,labelShowBg:d,labelBgStyle:m,labelBgPadding:v,labelBgBorderRadius:g,style:_,source:p,target:h,sourceX:y,sourceY:w,targetX:E,targetY:k,sourcePosition:N,targetPosition:R,elementsSelectable:M,hidden:I,sourceHandleId:F,targetHandleId:D,onContextMenu:B,onMouseEnter:x,onMouseMove:$,onMouseLeave:b,reconnectRadius:L,onReconnect:P,onReconnectStart:S,onReconnectEnd:T,markerEnd:z,markerStart:j,rfId:U,ariaLabel:V,isFocusable:X,isReconnectable:Q,pathOptions:J,interactionWidth:oe,disableKeyboardA11y:ie})=>{const se=A.useRef(null),[Fe,Ne]=A.useState(!1),[qe,Ve]=A.useState(!1),Se=Te(),ct=A.useMemo(()=>`url('#${zc(j,U)}')`,[j,U]),ae=A.useMemo(()=>`url('#${zc(z,U)}')`,[z,U]);if(I)return null;const K=Ue=>{var Wt;const{edges:Tt,addSelectedEdges:sr,unselectNodesAndEdges:ir,multiSelectionActive:or}=Se.getState(),ln=Tt.find(Bs=>Bs.id===n);ln&&(M&&(Se.setState({nodesSelectionActive:!1}),ln.selected&&or?(ir({nodes:[],edges:[ln]}),(Wt=se.current)==null||Wt.blur()):sr([n])),o&&o(Ue,ln))},Qe=Zs(n,Se.getState,l),sn=Zs(n,Se.getState,B),Ls=Zs(n,Se.getState,x),Mr=Zs(n,Se.getState,$),$r=Zs(n,Se.getState,b),on=(Ue,Tt)=>{if(Ue.button!==0)return;const{edges:sr,isValidConnection:ir}=Se.getState(),or=Tt?h:p,ln=(Tt?D:F)||null,Wt=Tt?"target":"source",Bs=ir||BN,La=Tt,Hs=sr.find(lr=>lr.id===n);Ve(!0),S==null||S(Ue,Hs,Wt);const ja=lr=>{Ve(!1),T==null||T(lr,Hs,Wt)};Py({event:Ue,handleId:ln,nodeId:or,onConnect:lr=>P==null?void 0:P(Hs,lr),isTarget:La,getState:Se.getState,setState:Se.setState,isValidConnection:Bs,edgeUpdaterType:Wt,onReconnectEnd:ja})},Ir=Ue=>on(Ue,!0),nr=Ue=>on(Ue,!1),rr=()=>Ne(!0),Or=()=>Ne(!1),Fr=!M&&!o,js=Ue=>{var Tt;if(!ie&&gy.includes(Ue.key)&&M){const{unselectNodesAndEdges:sr,addSelectedEdges:ir,edges:or}=Se.getState();Ue.key==="Escape"?((Tt=se.current)==null||Tt.blur(),sr({edges:[or.find(Wt=>Wt.id===n)]})):ir([n])}};return O.createElement("g",{className:He(["react-flow__edge",`react-flow__edge-${s}`,r,{selected:a,animated:u,inactive:Fr,updating:Fe}]),onClick:K,onDoubleClick:Qe,onContextMenu:sn,onMouseEnter:Ls,onMouseMove:Mr,onMouseLeave:$r,onKeyDown:X?js:void 0,tabIndex:X?0:void 0,role:X?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":V===null?void 0:V||`Edge from ${p} to ${h}`,"aria-describedby":X?`${Dy}-${U}`:void 0,ref:se},!qe&&O.createElement(e,{id:n,source:p,target:h,selected:a,animated:u,label:c,labelStyle:f,labelShowBg:d,labelBgStyle:m,labelBgPadding:v,labelBgBorderRadius:g,data:i,style:_,sourceX:y,sourceY:w,targetX:E,targetY:k,sourcePosition:N,targetPosition:R,sourceHandleId:F,targetHandleId:D,markerStart:ct,markerEnd:ae,pathOptions:J,interactionWidth:oe}),Q&&O.createElement(O.Fragment,null,(Q==="source"||Q===!0)&&O.createElement(zp,{position:N,centerX:y,centerY:w,radius:L,onMouseDown:Ir,onMouseEnter:rr,onMouseOut:Or,type:"source"}),(Q==="target"||Q===!0)&&O.createElement(zp,{position:R,centerX:E,centerY:k,radius:L,onMouseDown:nr,onMouseEnter:rr,onMouseOut:Or,type:"target"})))};return t.displayName="EdgeWrapper",A.memo(t)};function HN(e){const t={default:Br(e.default||Ql),straight:Br(e.bezier||ad),step:Br(e.step||ld),smoothstep:Br(e.step||Ca),simplebezier:Br(e.simplebezier||od)},n={},r=Object.keys(e).filter(s=>!["default","bezier"].includes(s)).reduce((s,i)=>(s[i]=Br(e[i]||Ql),s),n);return{...t,...r}}function Lp(e,t,n=null){const r=((n==null?void 0:n.x)||0)+t.x,s=((n==null?void 0:n.y)||0)+t.y,i=(n==null?void 0:n.width)||t.width,o=(n==null?void 0:n.height)||t.height;switch(e){case Y.Top:return{x:r+i/2,y:s};case Y.Right:return{x:r+i,y:s+o/2};case Y.Bottom:return{x:r+i/2,y:s+o};case Y.Left:return{x:r,y:s+o/2}}}function jp(e,t){return e?e.length===1||!t?e[0]:t&&e.find(n=>n.id===t)||null:null}const VN=(e,t,n,r,s,i)=>{const o=Lp(n,e,t),l=Lp(i,r,s);return{sourceX:o.x,sourceY:o.y,targetX:l.x,targetY:l.y}};function UN({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:r,targetWidth:s,targetHeight:i,width:o,height:l,transform:a}){const u={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+s),y2:Math.max(e.y+r,t.y+i)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const c=qi({x:(0-a[0])/a[2],y:(0-a[1])/a[2],width:o/a[2],height:l/a[2]}),f=Math.max(0,Math.min(c.x2,u.x2)-Math.max(c.x,u.x)),d=Math.max(0,Math.min(c.y2,u.y2)-Math.max(c.y,u.y));return Math.ceil(f*d)>0}function Bp(e){var r,s,i,o,l;const t=((r=e==null?void 0:e[_e])==null?void 0:r.handleBounds)||null,n=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((s=e==null?void 0:e.positionAbsolute)==null?void 0:s.x)<"u"&&typeof((i=e==null?void 0:e.positionAbsolute)==null?void 0:i.y)<"u";return[{x:((o=e==null?void 0:e.positionAbsolute)==null?void 0:o.x)||0,y:((l=e==null?void 0:e.positionAbsolute)==null?void 0:l.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!n]}const WN=[{level:0,isMaxLevel:!0,edges:[]}];function XN(e,t,n=!1){let r=-1;const s=e.reduce((o,l)=>{var c,f;const a=Nt(l.zIndex);let u=a?l.zIndex:0;if(n){const d=t.get(l.target),m=t.get(l.source),v=l.selected||(d==null?void 0:d.selected)||(m==null?void 0:m.selected),g=Math.max(((c=m==null?void 0:m[_e])==null?void 0:c.z)||0,((f=d==null?void 0:d[_e])==null?void 0:f.z)||0,1e3);u=(a?l.zIndex:0)+(v?g:0)}return o[u]?o[u].push(l):o[u]=[l],r=u>r?u:r,o},{}),i=Object.entries(s).map(([o,l])=>{const a=+o;return{edges:l,level:a,isMaxLevel:a===r}});return i.length===0?WN:i}function GN(e,t,n){const r=fe(A.useCallback(s=>e?s.edges.filter(i=>{const o=t.get(i.source),l=t.get(i.target);return(o==null?void 0:o.width)&&(o==null?void 0:o.height)&&(l==null?void 0:l.width)&&(l==null?void 0:l.height)&&UN({sourcePos:o.positionAbsolute||{x:0,y:0},targetPos:l.positionAbsolute||{x:0,y:0},sourceWidth:o.width,sourceHeight:o.height,targetWidth:l.width,targetHeight:l.height,width:s.width,height:s.height,transform:s.transform})}):s.edges,[e,t]));return XN(r,t,n)}const YN=({color:e="none",strokeWidth:t=1})=>O.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),KN=({color:e="none",strokeWidth:t=1})=>O.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),Hp={[ql.Arrow]:YN,[ql.ArrowClosed]:KN};function qN(e){const t=Te();return A.useMemo(()=>{var s,i;return Object.prototype.hasOwnProperty.call(Hp,e)?Hp[e]:((i=(s=t.getState()).onError)==null||i.call(s,"009",En.error009(e)),null)},[e])}const QN=({id:e,type:t,color:n,width:r=12.5,height:s=12.5,markerUnits:i="strokeWidth",strokeWidth:o,orient:l="auto-start-reverse"})=>{const a=qN(t);return a?O.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${s}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:l,refX:"0",refY:"0"},O.createElement(a,{color:n,strokeWidth:o})):null},JN=({defaultColor:e,rfId:t})=>n=>{const r=[];return n.edges.reduce((s,i)=>([i.markerStart,i.markerEnd].forEach(o=>{if(o&&typeof o=="object"){const l=zc(o,t);r.includes(l)||(s.push({id:l,color:o.color||e,...o}),r.push(l))}}),s),[]).sort((s,i)=>s.id.localeCompare(i.id))},qy=({defaultColor:e,rfId:t})=>{const n=fe(A.useCallback(JN({defaultColor:e,rfId:t}),[e,t]),(r,s)=>!(r.length!==s.length||r.some((i,o)=>i.id!==s[o].id)));return O.createElement("defs",null,n.map(r=>O.createElement(QN,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};qy.displayName="MarkerDefinitions";var ZN=A.memo(qy);const eC=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),Qy=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:r,edgeTypes:s,noPanClassName:i,onEdgeContextMenu:o,onEdgeMouseEnter:l,onEdgeMouseMove:a,onEdgeMouseLeave:u,onEdgeClick:c,onEdgeDoubleClick:f,onReconnect:d,onReconnectStart:m,onReconnectEnd:v,reconnectRadius:g,children:_,disableKeyboardA11y:p})=>{const{edgesFocusable:h,edgesUpdatable:y,elementsSelectable:w,width:E,height:k,connectionMode:N,nodeInternals:R,onError:M}=fe(eC,Ie),I=GN(t,R,n);return E?O.createElement(O.Fragment,null,I.map(({level:F,edges:D,isMaxLevel:B})=>O.createElement("svg",{key:F,style:{zIndex:F},width:E,height:k,className:"react-flow__edges react-flow__container"},B&&O.createElement(ZN,{defaultColor:e,rfId:r}),O.createElement("g",null,D.map(x=>{const[$,b,L]=Bp(R.get(x.source)),[P,S,T]=Bp(R.get(x.target));if(!L||!T)return null;let z=x.type||"default";s[z]||(M==null||M("011",En.error011(z)),z="default");const j=s[z]||s.default,U=N===Ar.Strict?S.target:(S.target??[]).concat(S.source??[]),V=jp(b.source,x.sourceHandle),X=jp(U,x.targetHandle),Q=(V==null?void 0:V.position)||Y.Bottom,J=(X==null?void 0:X.position)||Y.Top,oe=!!(x.focusable||h&&typeof x.focusable>"u"),ie=x.reconnectable||x.updatable,se=typeof d<"u"&&(ie||y&&typeof ie>"u");if(!V||!X)return M==null||M("008",En.error008(V,x)),null;const{sourceX:Fe,sourceY:Ne,targetX:qe,targetY:Ve}=VN($,V,Q,P,X,J);return O.createElement(j,{key:x.id,id:x.id,className:He([x.className,i]),type:z,data:x.data,selected:!!x.selected,animated:!!x.animated,hidden:!!x.hidden,label:x.label,labelStyle:x.labelStyle,labelShowBg:x.labelShowBg,labelBgStyle:x.labelBgStyle,labelBgPadding:x.labelBgPadding,labelBgBorderRadius:x.labelBgBorderRadius,style:x.style,source:x.source,target:x.target,sourceHandleId:x.sourceHandle,targetHandleId:x.targetHandle,markerEnd:x.markerEnd,markerStart:x.markerStart,sourceX:Fe,sourceY:Ne,targetX:qe,targetY:Ve,sourcePosition:Q,targetPosition:J,elementsSelectable:w,onContextMenu:o,onMouseEnter:l,onMouseMove:a,onMouseLeave:u,onClick:c,onEdgeDoubleClick:f,onReconnect:d,onReconnectStart:m,onReconnectEnd:v,reconnectRadius:g,rfId:r,ariaLabel:x.ariaLabel,isFocusable:oe,isReconnectable:se,pathOptions:"pathOptions"in x?x.pathOptions:void 0,interactionWidth:x.interactionWidth,disableKeyboardA11y:p})})))),_):null};Qy.displayName="EdgeRenderer";var tC=A.memo(Qy);const nC=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function rC({children:e}){const t=fe(nC);return O.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function sC(e){const t=Pa(),n=A.useRef(!1);A.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const iC={[Y.Left]:Y.Right,[Y.Right]:Y.Left,[Y.Top]:Y.Bottom,[Y.Bottom]:Y.Top},Jy=({nodeId:e,handleType:t,style:n,type:r=Fn.Bezier,CustomComponent:s,connectionStatus:i})=>{var k,N,R;const{fromNode:o,handleId:l,toX:a,toY:u,connectionMode:c}=fe(A.useCallback(M=>({fromNode:M.nodeInternals.get(e),handleId:M.connectionHandleId,toX:(M.connectionPosition.x-M.transform[0])/M.transform[2],toY:(M.connectionPosition.y-M.transform[1])/M.transform[2],connectionMode:M.connectionMode}),[e]),Ie),f=(k=o==null?void 0:o[_e])==null?void 0:k.handleBounds;let d=f==null?void 0:f[t];if(c===Ar.Loose&&(d=d||(f==null?void 0:f[t==="source"?"target":"source"])),!o||!d)return null;const m=l?d.find(M=>M.id===l):d[0],v=m?m.x+m.width/2:(o.width??0)/2,g=m?m.y+m.height/2:o.height??0,_=(((N=o.positionAbsolute)==null?void 0:N.x)??0)+v,p=(((R=o.positionAbsolute)==null?void 0:R.y)??0)+g,h=m==null?void 0:m.position,y=h?iC[h]:null;if(!h||!y)return null;if(s)return O.createElement(s,{connectionLineType:r,connectionLineStyle:n,fromNode:o,fromHandle:m,fromX:_,fromY:p,toX:a,toY:u,fromPosition:h,toPosition:y,connectionStatus:i});let w="";const E={sourceX:_,sourceY:p,sourcePosition:h,targetX:a,targetY:u,targetPosition:y};return r===Fn.Bezier?[w]=_y(E):r===Fn.Step?[w]=Dc({...E,borderRadius:0}):r===Fn.SmoothStep?[w]=Dc(E):r===Fn.SimpleBezier?[w]=xy(E):w=`M${_},${p} ${a},${u}`,O.createElement("path",{d:w,fill:"none",className:"react-flow__connection-path",style:n})};Jy.displayName="ConnectionLine";const oC=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function lC({containerStyle:e,style:t,type:n,component:r}){const{nodeId:s,handleType:i,nodesConnectable:o,width:l,height:a,connectionStatus:u}=fe(oC,Ie);return!(s&&i&&l&&o)?null:O.createElement("svg",{style:e,width:l,height:a,className:"react-flow__edges react-flow__connectionline react-flow__container"},O.createElement("g",{className:He(["react-flow__connection",u])},O.createElement(Jy,{nodeId:s,handleType:i,style:t,type:n,CustomComponent:r,connectionStatus:u})))}function Vp(e,t){return A.useRef(null),Te(),A.useMemo(()=>t(e),[e])}const Zy=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:r,onMoveEnd:s,onInit:i,onNodeClick:o,onEdgeClick:l,onNodeDoubleClick:a,onEdgeDoubleClick:u,onNodeMouseEnter:c,onNodeMouseMove:f,onNodeMouseLeave:d,onNodeContextMenu:m,onSelectionContextMenu:v,onSelectionStart:g,onSelectionEnd:_,connectionLineType:p,connectionLineStyle:h,connectionLineComponent:y,connectionLineContainerStyle:w,selectionKeyCode:E,selectionOnDrag:k,selectionMode:N,multiSelectionKeyCode:R,panActivationKeyCode:M,zoomActivationKeyCode:I,deleteKeyCode:F,onlyRenderVisibleElements:D,elementsSelectable:B,selectNodesOnDrag:x,defaultViewport:$,translateExtent:b,minZoom:L,maxZoom:P,preventScrolling:S,defaultMarkerColor:T,zoomOnScroll:z,zoomOnPinch:j,panOnScroll:U,panOnScrollSpeed:V,panOnScrollMode:X,zoomOnDoubleClick:Q,panOnDrag:J,onPaneClick:oe,onPaneMouseEnter:ie,onPaneMouseMove:se,onPaneMouseLeave:Fe,onPaneScroll:Ne,onPaneContextMenu:qe,onEdgeContextMenu:Ve,onEdgeMouseEnter:Se,onEdgeMouseMove:ct,onEdgeMouseLeave:ae,onReconnect:K,onReconnectStart:Qe,onReconnectEnd:sn,reconnectRadius:Ls,noDragClassName:Mr,noWheelClassName:$r,noPanClassName:on,elevateEdgesOnSelect:Ir,disableKeyboardA11y:nr,nodeOrigin:rr,nodeExtent:Or,rfId:Fr})=>{const js=Vp(e,ON),Ue=Vp(t,HN);return sC(i),O.createElement($N,{onPaneClick:oe,onPaneMouseEnter:ie,onPaneMouseMove:se,onPaneMouseLeave:Fe,onPaneContextMenu:qe,onPaneScroll:Ne,deleteKeyCode:F,selectionKeyCode:E,selectionOnDrag:k,selectionMode:N,onSelectionStart:g,onSelectionEnd:_,multiSelectionKeyCode:R,panActivationKeyCode:M,zoomActivationKeyCode:I,elementsSelectable:B,onMove:n,onMoveStart:r,onMoveEnd:s,zoomOnScroll:z,zoomOnPinch:j,zoomOnDoubleClick:Q,panOnScroll:U,panOnScrollSpeed:V,panOnScrollMode:X,panOnDrag:J,defaultViewport:$,translateExtent:b,minZoom:L,maxZoom:P,onSelectionContextMenu:v,preventScrolling:S,noDragClassName:Mr,noWheelClassName:$r,noPanClassName:on,disableKeyboardA11y:nr},O.createElement(rC,null,O.createElement(tC,{edgeTypes:Ue,onEdgeClick:l,onEdgeDoubleClick:u,onlyRenderVisibleElements:D,onEdgeContextMenu:Ve,onEdgeMouseEnter:Se,onEdgeMouseMove:ct,onEdgeMouseLeave:ae,onReconnect:K,onReconnectStart:Qe,onReconnectEnd:sn,reconnectRadius:Ls,defaultMarkerColor:T,noPanClassName:on,elevateEdgesOnSelect:!!Ir,disableKeyboardA11y:nr,rfId:Fr},O.createElement(lC,{style:h,type:p,component:y,containerStyle:w})),O.createElement("div",{className:"react-flow__edgelabel-renderer"}),O.createElement(zN,{nodeTypes:js,onNodeClick:o,onNodeDoubleClick:a,onNodeMouseEnter:c,onNodeMouseMove:f,onNodeMouseLeave:d,onNodeContextMenu:m,selectNodesOnDrag:x,onlyRenderVisibleElements:D,noPanClassName:on,noDragClassName:Mr,disableKeyboardA11y:nr,nodeOrigin:rr,nodeExtent:Or,rfId:Fr})))};Zy.displayName="GraphView";var aC=A.memo(Zy);const Hc=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Cn={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:Hc,nodeExtent:Hc,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:Ar.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:Fk,isValidConnection:void 0},uC=()=>Q_((e,t)=>({...Cn,setNodes:n=>{const{nodeInternals:r,nodeOrigin:s,elevateNodesOnSelect:i}=t();e({nodeInternals:xu(n,r,s,i)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=t();e({edges:n.map(s=>({...r,...s}))})},setDefaultNodesAndEdges:(n,r)=>{const s=typeof n<"u",i=typeof r<"u",o=s?xu(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:o,edges:i?r:[],hasDefaultNodes:s,hasDefaultEdges:i})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:s,fitViewOnInit:i,fitViewOnInitDone:o,fitViewOnInitOptions:l,domNode:a,nodeOrigin:u}=t(),c=a==null?void 0:a.querySelector(".react-flow__viewport");if(!c)return;const f=window.getComputedStyle(c),{m22:d}=new window.DOMMatrixReadOnly(f.transform),m=n.reduce((g,_)=>{const p=s.get(_.id);if(p!=null&&p.hidden)s.set(p.id,{...p,[_e]:{...p[_e],handleBounds:void 0}});else if(p){const h=sd(_.nodeElement);!!(h.width&&h.height&&(p.width!==h.width||p.height!==h.height||_.forceUpdate))&&(s.set(p.id,{...p,[_e]:{...p[_e],handleBounds:{source:Fp(".source",_.nodeElement,d,u),target:Fp(".target",_.nodeElement,d,u)}},...h}),g.push({id:p.id,type:"dimensions",dimensions:h}))}return g},[]);Ly(s,u);const v=o||i&&!o&&jy(t,{initial:!0,...l});e({nodeInternals:new Map(s),fitViewOnInitDone:v}),(m==null?void 0:m.length)>0&&(r==null||r(m))},updateNodePositions:(n,r=!0,s=!1)=>{const{triggerNodeChanges:i}=t(),o=n.map(l=>{const a={id:l.id,type:"position",dragging:s};return r&&(a.positionAbsolute=l.positionAbsolute,a.position=l.position),a});i(o)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:s,hasDefaultNodes:i,nodeOrigin:o,getNodes:l,elevateNodesOnSelect:a}=t();if(n!=null&&n.length){if(i){const u=Hy(n,l()),c=xu(u,s,o,a);e({nodeInternals:c})}r==null||r(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:s,getNodes:i}=t();let o,l=null;r?o=n.map(a=>$n(a,!0)):(o=os(i(),n),l=os(s,[])),jo({changedNodes:o,changedEdges:l,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:s,getNodes:i}=t();let o,l=null;r?o=n.map(a=>$n(a,!0)):(o=os(s,n),l=os(i(),[])),jo({changedNodes:l,changedEdges:o,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:s,getNodes:i}=t(),o=n||i(),l=r||s,a=o.map(c=>(c.selected=!1,$n(c.id,!1))),u=l.map(c=>$n(c.id,!1));jo({changedNodes:a,changedEdges:u,get:t,set:e})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:s}=t();r==null||r.scaleExtent([n,s]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:s}=t();r==null||r.scaleExtent([s,n]),e({maxZoom:n})},setTranslateExtent:n=>{var r;(r=t().d3Zoom)==null||r.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=t(),i=r().filter(l=>l.selected).map(l=>$n(l.id,!1)),o=n.filter(l=>l.selected).map(l=>$n(l.id,!1));jo({changedNodes:i,changedEdges:o,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:r}=t();r.forEach(s=>{s.positionAbsolute=id(s.position,n)}),e({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:s,height:i,d3Zoom:o,d3Selection:l,translateExtent:a}=t();if(!o||!l||!n.x&&!n.y)return!1;const u=yn.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),c=[[0,0],[s,i]],f=o==null?void 0:o.constrain()(u,c,a);return o.transform(l,f),r[0]!==f.x||r[1]!==f.y||r[2]!==f.k},cancelConnection:()=>e({connectionNodeId:Cn.connectionNodeId,connectionHandleId:Cn.connectionHandleId,connectionHandleType:Cn.connectionHandleType,connectionStatus:Cn.connectionStatus,connectionStartHandle:Cn.connectionStartHandle,connectionEndHandle:Cn.connectionEndHandle}),reset:()=>e({...Cn})}),Object.is),hd=({children:e})=>{const t=A.useRef(null);return t.current||(t.current=uC()),O.createElement(Ak,{value:t.current},e)};hd.displayName="ReactFlowProvider";const ew=({children:e})=>A.useContext(ka)?O.createElement(O.Fragment,null,e):O.createElement(hd,null,e);ew.displayName="ReactFlowWrapper";const cC={input:My,default:jc,output:Iy,group:fd},fC={default:Ql,straight:ad,step:ld,smoothstep:Ca,simplebezier:od},dC=[0,0],hC=[15,15],pC={x:0,y:0,zoom:1},mC={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},tw=A.forwardRef(({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:s,nodeTypes:i=cC,edgeTypes:o=fC,onNodeClick:l,onEdgeClick:a,onInit:u,onMove:c,onMoveStart:f,onMoveEnd:d,onConnect:m,onConnectStart:v,onConnectEnd:g,onClickConnectStart:_,onClickConnectEnd:p,onNodeMouseEnter:h,onNodeMouseMove:y,onNodeMouseLeave:w,onNodeContextMenu:E,onNodeDoubleClick:k,onNodeDragStart:N,onNodeDrag:R,onNodeDragStop:M,onNodesDelete:I,onEdgesDelete:F,onSelectionChange:D,onSelectionDragStart:B,onSelectionDrag:x,onSelectionDragStop:$,onSelectionContextMenu:b,onSelectionStart:L,onSelectionEnd:P,connectionMode:S=Ar.Strict,connectionLineType:T=Fn.Bezier,connectionLineStyle:z,connectionLineComponent:j,connectionLineContainerStyle:U,deleteKeyCode:V="Backspace",selectionKeyCode:X="Shift",selectionOnDrag:Q=!1,selectionMode:J=Qi.Full,panActivationKeyCode:oe="Space",multiSelectionKeyCode:ie=Kl()?"Meta":"Control",zoomActivationKeyCode:se=Kl()?"Meta":"Control",snapToGrid:Fe=!1,snapGrid:Ne=hC,onlyRenderVisibleElements:qe=!1,selectNodesOnDrag:Ve=!0,nodesDraggable:Se,nodesConnectable:ct,nodesFocusable:ae,nodeOrigin:K=dC,edgesFocusable:Qe,edgesUpdatable:sn,elementsSelectable:Ls,defaultViewport:Mr=pC,minZoom:$r=.5,maxZoom:on=2,translateExtent:Ir=Hc,preventScrolling:nr=!0,nodeExtent:rr,defaultMarkerColor:Or="#b1b1b7",zoomOnScroll:Fr=!0,zoomOnPinch:js=!0,panOnScroll:Ue=!1,panOnScrollSpeed:Tt=.5,panOnScrollMode:sr=yr.Free,zoomOnDoubleClick:ir=!0,panOnDrag:or=!0,onPaneClick:ln,onPaneMouseEnter:Wt,onPaneMouseMove:Bs,onPaneMouseLeave:La,onPaneScroll:Hs,onPaneContextMenu:ja,children:Hd,onEdgeContextMenu:lr,onEdgeDoubleClick:Ev,onEdgeMouseEnter:kv,onEdgeMouseMove:Nv,onEdgeMouseLeave:Cv,onEdgeUpdate:bv,onEdgeUpdateStart:Pv,onEdgeUpdateEnd:Av,onReconnect:Tv,onReconnectStart:Rv,onReconnectEnd:Mv,reconnectRadius:$v=10,edgeUpdaterRadius:Iv=10,onNodesChange:Ov,onEdgesChange:Fv,noDragClassName:Dv="nodrag",noWheelClassName:zv="nowheel",noPanClassName:Vd="nopan",fitView:Lv=!1,fitViewOptions:jv,connectOnClick:Bv=!0,attributionPosition:Hv,proOptions:Vv,defaultEdgeOptions:Uv,elevateNodesOnSelect:Wv=!0,elevateEdgesOnSelect:Xv=!1,disableKeyboardA11y:Ud=!1,autoPanOnConnect:Gv=!0,autoPanOnNodeDrag:Yv=!0,connectionRadius:Kv=20,isValidConnection:qv,onError:Qv,style:Jv,id:Wd,nodeDragThreshold:Zv,...e1},t1)=>{const Ba=Wd||"1";return O.createElement("div",{...e1,style:{...Jv,...mC},ref:t1,className:He(["react-flow",s]),"data-testid":"rf__wrapper",id:Wd},O.createElement(ew,null,O.createElement(aC,{onInit:u,onMove:c,onMoveStart:f,onMoveEnd:d,onNodeClick:l,onEdgeClick:a,onNodeMouseEnter:h,onNodeMouseMove:y,onNodeMouseLeave:w,onNodeContextMenu:E,onNodeDoubleClick:k,nodeTypes:i,edgeTypes:o,connectionLineType:T,connectionLineStyle:z,connectionLineComponent:j,connectionLineContainerStyle:U,selectionKeyCode:X,selectionOnDrag:Q,selectionMode:J,deleteKeyCode:V,multiSelectionKeyCode:ie,panActivationKeyCode:oe,zoomActivationKeyCode:se,onlyRenderVisibleElements:qe,selectNodesOnDrag:Ve,defaultViewport:Mr,translateExtent:Ir,minZoom:$r,maxZoom:on,preventScrolling:nr,zoomOnScroll:Fr,zoomOnPinch:js,zoomOnDoubleClick:ir,panOnScroll:Ue,panOnScrollSpeed:Tt,panOnScrollMode:sr,panOnDrag:or,onPaneClick:ln,onPaneMouseEnter:Wt,onPaneMouseMove:Bs,onPaneMouseLeave:La,onPaneScroll:Hs,onPaneContextMenu:ja,onSelectionContextMenu:b,onSelectionStart:L,onSelectionEnd:P,onEdgeContextMenu:lr,onEdgeDoubleClick:Ev,onEdgeMouseEnter:kv,onEdgeMouseMove:Nv,onEdgeMouseLeave:Cv,onReconnect:Tv??bv,onReconnectStart:Rv??Pv,onReconnectEnd:Mv??Av,reconnectRadius:$v??Iv,defaultMarkerColor:Or,noDragClassName:Dv,noWheelClassName:zv,noPanClassName:Vd,elevateEdgesOnSelect:Xv,rfId:Ba,disableKeyboardA11y:Ud,nodeOrigin:K,nodeExtent:rr}),O.createElement(iN,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:m,onConnectStart:v,onConnectEnd:g,onClickConnectStart:_,onClickConnectEnd:p,nodesDraggable:Se,nodesConnectable:ct,nodesFocusable:ae,edgesFocusable:Qe,edgesUpdatable:sn,elementsSelectable:Ls,elevateNodesOnSelect:Wv,minZoom:$r,maxZoom:on,nodeExtent:rr,onNodesChange:Ov,onEdgesChange:Fv,snapToGrid:Fe,snapGrid:Ne,connectionMode:S,translateExtent:Ir,connectOnClick:Bv,defaultEdgeOptions:Uv,fitView:Lv,fitViewOptions:jv,onNodesDelete:I,onEdgesDelete:F,onNodeDragStart:N,onNodeDrag:R,onNodeDragStop:M,onSelectionDrag:x,onSelectionDragStart:B,onSelectionDragStop:$,noPanClassName:Vd,nodeOrigin:K,rfId:Ba,autoPanOnConnect:Gv,autoPanOnNodeDrag:Yv,onError:Qv,connectionRadius:Kv,isValidConnection:qv,nodeDragThreshold:Zv}),O.createElement(rN,{onSelectionChange:D}),Hd,O.createElement(Rk,{proOptions:Vv,position:Hv}),O.createElement(cN,{rfId:Ba,disableKeyboardA11y:Ud})))});tw.displayName="ReactFlow";const nw=({id:e,x:t,y:n,width:r,height:s,style:i,color:o,strokeColor:l,strokeWidth:a,className:u,borderRadius:c,shapeRendering:f,onClick:d,selected:m})=>{const{background:v,backgroundColor:g}=i||{},_=o||v||g;return O.createElement("rect",{className:He(["react-flow__minimap-node",{selected:m},u]),x:t,y:n,rx:c,ry:c,width:r,height:s,fill:_,stroke:l,strokeWidth:a,shapeRendering:f,onClick:d?p=>d(p,e):void 0})};nw.displayName="MiniMapNode";var gC=A.memo(nw);const yC=e=>e.nodeOrigin,wC=e=>e.getNodes().filter(t=>!t.hidden&&t.width&&t.height),ku=e=>e instanceof Function?e:()=>e;function vC({nodeStrokeColor:e="transparent",nodeColor:t="#e2e2e2",nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:s=2,nodeComponent:i=gC,onClick:o}){const l=fe(wC,Ie),a=fe(yC),u=ku(t),c=ku(e),f=ku(n),d=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return O.createElement(O.Fragment,null,l.map(m=>{const{x:v,y:g}=Sr(m,a).positionAbsolute;return O.createElement(i,{key:m.id,x:v,y:g,width:m.width,height:m.height,style:m.style,selected:m.selected,className:f(m),color:u(m),borderRadius:r,strokeColor:c(m),strokeWidth:s,shapeRendering:d,onClick:o,id:m.id})}))}var xC=A.memo(vC);const _C=200,SC=150,EC=e=>{const t=e.getNodes(),n={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:n,boundingRect:t.length>0?Ik(ba(t,e.nodeOrigin),n):n,rfId:e.rfId}},kC="react-flow__minimap-desc";function rw({style:e,className:t,nodeStrokeColor:n="transparent",nodeColor:r="#e2e2e2",nodeClassName:s="",nodeBorderRadius:i=5,nodeStrokeWidth:o=2,nodeComponent:l,maskColor:a="rgb(240, 240, 240, 0.6)",maskStrokeColor:u="none",maskStrokeWidth:c=1,position:f="bottom-right",onClick:d,onNodeClick:m,pannable:v=!1,zoomable:g=!1,ariaLabel:_="React Flow mini map",inversePan:p=!1,zoomStep:h=10,offsetScale:y=5}){const w=Te(),E=A.useRef(null),{boundingRect:k,viewBB:N,rfId:R}=fe(EC,Ie),M=(e==null?void 0:e.width)??_C,I=(e==null?void 0:e.height)??SC,F=k.width/M,D=k.height/I,B=Math.max(F,D),x=B*M,$=B*I,b=y*B,L=k.x-(x-k.width)/2-b,P=k.y-($-k.height)/2-b,S=x+b*2,T=$+b*2,z=`${kC}-${R}`,j=A.useRef(0);j.current=B,A.useEffect(()=>{if(E.current){const X=Et(E.current),Q=ie=>{const{transform:se,d3Selection:Fe,d3Zoom:Ne}=w.getState();if(ie.sourceEvent.type!=="wheel"||!Fe||!Ne)return;const qe=-ie.sourceEvent.deltaY*(ie.sourceEvent.deltaMode===1?.05:ie.sourceEvent.deltaMode?1:.002)*h,Ve=se[2]*Math.pow(2,qe);Ne.scaleTo(Fe,Ve)},J=ie=>{const{transform:se,d3Selection:Fe,d3Zoom:Ne,translateExtent:qe,width:Ve,height:Se}=w.getState();if(ie.sourceEvent.type!=="mousemove"||!Fe||!Ne)return;const ct=j.current*Math.max(1,se[2])*(p?-1:1),ae={x:se[0]-ie.sourceEvent.movementX*ct,y:se[1]-ie.sourceEvent.movementY*ct},K=[[0,0],[Ve,Se]],Qe=yn.translate(ae.x,ae.y).scale(se[2]),sn=Ne.constrain()(Qe,K,qe);Ne.transform(Fe,sn)},oe=cy().on("zoom",v?J:null).on("zoom.wheel",g?Q:null);return X.call(oe),()=>{X.on("zoom",null)}}},[v,g,p,h]);const U=d?X=>{const Q=Ft(X);d(X,{x:Q[0],y:Q[1]})}:void 0,V=m?(X,Q)=>{const J=w.getState().nodeInternals.get(Q);m(X,J)}:void 0;return O.createElement(Na,{position:f,style:e,className:He(["react-flow__minimap",t]),"data-testid":"rf__minimap"},O.createElement("svg",{width:M,height:I,viewBox:`${L} ${P} ${S} ${T}`,role:"img","aria-labelledby":z,ref:E,onClick:U},_&&O.createElement("title",{id:z},_),O.createElement(xC,{onClick:V,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:i,nodeClassName:s,nodeStrokeWidth:o,nodeComponent:l}),O.createElement("path",{className:"react-flow__minimap-mask",d:`M${L-b},${P-b}h${S+b*2}v${T+b*2}h${-S-b*2}z
        M${N.x},${N.y}h${N.width}v${N.height}h${-N.width}z`,fill:a,fillRule:"evenodd",stroke:u,strokeWidth:c,pointerEvents:"none"})))}rw.displayName="MiniMap";var NC=A.memo(rw);function CC(){return O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},O.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function bC(){return O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},O.createElement("path",{d:"M0 0h32v4.2H0z"}))}function PC(){return O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},O.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function AC(){return O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},O.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function TC(){return O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},O.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const ui=({children:e,className:t,...n})=>O.createElement("button",{type:"button",className:He(["react-flow__controls-button",t]),...n},e);ui.displayName="ControlButton";const RC=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),sw=({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:s,onZoomIn:i,onZoomOut:o,onFitView:l,onInteractiveChange:a,className:u,children:c,position:f="bottom-left"})=>{const d=Te(),[m,v]=A.useState(!1),{isInteractive:g,minZoomReached:_,maxZoomReached:p}=fe(RC,Ie),{zoomIn:h,zoomOut:y,fitView:w}=Pa();if(A.useEffect(()=>{v(!0)},[]),!m)return null;const E=()=>{h(),i==null||i()},k=()=>{y(),o==null||o()},N=()=>{w(s),l==null||l()},R=()=>{d.setState({nodesDraggable:!g,nodesConnectable:!g,elementsSelectable:!g}),a==null||a(!g)};return O.createElement(Na,{className:He(["react-flow__controls",u]),position:f,style:e,"data-testid":"rf__controls"},t&&O.createElement(O.Fragment,null,O.createElement(ui,{onClick:E,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:p},O.createElement(CC,null)),O.createElement(ui,{onClick:k,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:_},O.createElement(bC,null))),n&&O.createElement(ui,{className:"react-flow__controls-fitview",onClick:N,title:"fit view","aria-label":"fit view"},O.createElement(PC,null)),r&&O.createElement(ui,{className:"react-flow__controls-interactive",onClick:R,title:"toggle interactivity","aria-label":"toggle interactivity"},g?O.createElement(TC,null):O.createElement(AC,null)),c)};sw.displayName="Controls";var MC=A.memo(sw),Ht;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Ht||(Ht={}));function $C({color:e,dimensions:t,lineWidth:n}){return O.createElement("path",{stroke:e,strokeWidth:n,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function IC({color:e,radius:t}){return O.createElement("circle",{cx:t,cy:t,r:t,fill:e})}const OC={[Ht.Dots]:"#91919a",[Ht.Lines]:"#eee",[Ht.Cross]:"#e2e2e2"},FC={[Ht.Dots]:1,[Ht.Lines]:1,[Ht.Cross]:6},DC=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function iw({id:e,variant:t=Ht.Dots,gap:n=20,size:r,lineWidth:s=1,offset:i=2,color:o,style:l,className:a}){const u=A.useRef(null),{transform:c,patternId:f}=fe(DC,Ie),d=o||OC[t],m=r||FC[t],v=t===Ht.Dots,g=t===Ht.Cross,_=Array.isArray(n)?n:[n,n],p=[_[0]*c[2]||1,_[1]*c[2]||1],h=m*c[2],y=g?[h,h]:p,w=v?[h/i,h/i]:[y[0]/i,y[1]/i];return O.createElement("svg",{className:He(["react-flow__background",a]),style:{...l,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:u,"data-testid":"rf__background"},O.createElement("pattern",{id:f+e,x:c[0]%p[0],y:c[1]%p[1],width:p[0],height:p[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${w[0]},-${w[1]})`},v?O.createElement(IC,{color:d,radius:h/i}):O.createElement($C,{dimensions:y,color:d,lineWidth:s})),O.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${f+e})`}))}iw.displayName="Background";var zC=A.memo(iw);const ow={BASE_URL:"/agentica-os/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},{useDebugValue:LC}=O,{useSyncExternalStoreWithSelector:jC}=I0;let Up=!1;const BC=e=>e;function HC(e,t=BC,n){(ow?"production":void 0)!=="production"&&n&&!Up&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Up=!0);const r=jC(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return LC(r),r}const Wp=e=>{(ow?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?O0(e):e,n=(r,s)=>HC(t,r,s);return Object.assign(n,t),n},VC=e=>e?Wp(e):Wp,UC=(e,t)=>({nodes:[],setNodes:n=>{e(r=>{const i={nodes:Array.isArray(n)?Hy(n,r.nodes):n};return(!Array.isArray(n)||!n.every(o=>o.type==="select"))&&setTimeout(()=>t().addToHistory(),0),i})},addNode:n=>{const{snapToGrid:r,gridSize:s}=t();r&&(n.position.x=Math.round(n.position.x/s)*s,n.position.y=Math.round(n.position.y/s)*s),e(i=>{const o={nodes:[...i.nodes,n]};return setTimeout(()=>t().addToHistory(),0),o})},updateNodeData:(n,r)=>{e(s=>{const i={nodes:s.nodes.map(o=>o.id===n?{...o,data:{...o.data,...r}}:o)};return setTimeout(()=>t().addToHistory(),0),i})}}),WC=(e,t)=>({edges:[],setEdges:n=>{e(r=>{let s;typeof n=="function"?s=n(r.edges):s=Array.isArray(n)?kN(n,r.edges):n;const i={edges:s};return(!Array.isArray(n)||!n.every(o=>o.type==="select"))&&setTimeout(()=>t().addToHistory(),0),i})}}),XC=50,GC=(e,t)=>({history:[],historyIndex:-1,undo:()=>{const{historyIndex:n,history:r}=t();if(n>0){const s=n-1,{nodes:i,edges:o}=r[s];e({nodes:[...i],edges:[...o],historyIndex:s,outputs:[],errors:[],executingNodes:[]})}},redo:()=>{const{historyIndex:n,history:r}=t();if(n<r.length-1){const s=n+1,{nodes:i,edges:o}=r[s];e({nodes:[...i],edges:[...o],historyIndex:s,outputs:[],errors:[],executingNodes:[]})}},canUndo:()=>t().historyIndex>0,canRedo:()=>t().historyIndex<t().history.length-1,addToHistory:()=>{const{nodes:n,edges:r,history:s,historyIndex:i}=t(),o={nodes:n.map(u=>({...u,data:{...u.data}})),edges:r.map(u=>({...u}))},l=s[i];if(l&&JSON.stringify(l)===JSON.stringify(o))return;const a=s.slice(0,i+1);a.push(o),a.length>XC&&a.shift(),e({history:a,historyIndex:a.length-1,outputs:[],errors:[],executingNodes:[]})}}),ni="flow_",YC=e=>e&&Array.isArray(e.nodes)&&Array.isArray(e.edges)&&e.nodes.every(t=>t&&typeof t.id=="string"&&typeof t.type=="string"&&t.position&&typeof t.position.x=="number"&&typeof t.position.y=="number"),KC=(e,t)=>({currentFlow:null,saveFlow:n=>{try{const{nodes:r,edges:s}=t(),i={nodes:r,edges:s};localStorage.setItem(`${ni}${n}`,JSON.stringify(i)),e({currentFlow:n})}catch(r){throw console.error("Failed to save flow:",r),new Error("Failed to save flow")}},loadFlow:n=>{try{const r=localStorage.getItem(`${ni}${n}`);if(!r)throw new Error("Flow not found");const s=JSON.parse(r);if(!YC(s))throw new Error("Invalid flow data");const{nodes:i,edges:o}=s;e({nodes:i,edges:o,outputs:[],errors:[],executingNodes:[],currentFlow:n,history:[],historyIndex:-1}),setTimeout(()=>t().addToHistory(),0)}catch(r){throw console.error("Failed to load flow:",r),new Error("Failed to load flow")}},deleteFlow:n=>{try{localStorage.removeItem(`${ni}${n}`);const{currentFlow:r}=t();r===n&&e({currentFlow:null})}catch(r){throw console.error("Failed to delete flow:",r),new Error("Failed to delete flow")}},getSavedFlows:()=>{try{return Object.keys(localStorage).filter(n=>n.startsWith(ni)).map(n=>n.replace(ni,""))}catch(n){return console.error("Failed to get saved flows:",n),[]}},clearFlow:()=>e({nodes:[],edges:[],outputs:[],errors:[],executingNodes:[],currentFlow:null,history:[],historyIndex:-1})}),qC=e=>({outputs:[],errors:[],executingNodes:[],setOutputs:t=>e({outputs:t}),setError:(t,n)=>e(r=>({errors:n?[...r.errors.filter(s=>s.nodeId!==t),{nodeId:t,error:n}]:r.errors.filter(s=>s.nodeId!==t)})),clearErrors:()=>e({errors:[]}),setExecutingNode:(t,n)=>e(r=>({executingNodes:n?[...r.executingNodes,t]:r.executingNodes.filter(s=>s!==t)}))}),QC=e=>({snapToGrid:!0,gridSize:20,toggleSnapToGrid:()=>e(t=>({snapToGrid:!t.snapToGrid})),setGridSize:t=>e({gridSize:t})}),Ln=VC((...e)=>({...UC(...e),...WC(...e),...GC(...e),...KC(...e),...qC(...e),...QC(...e)}));class rn{}class JC extends rn{constructor(){super(...arguments),this.type="staticText",this.label="Static Text",this.description="Outputs a static text value that you define. Useful for constants, messages, or test data."}getConfig(){return{type:this.type,label:this.label,description:this.description,inputs:0,outputs:1,configFields:[{name:"text",type:"text",label:"Text Content",default:""}]}}async execute(t,n){return[n.text||""]}}class ZC extends rn{constructor(){super(...arguments),this.type="httpRequest",this.label="HTTP Request",this.description="Makes HTTP requests to external APIs. Supports GET, POST, PUT, and DELETE methods with custom headers and body."}getConfig(){return{type:this.type,label:this.label,description:this.description,inputs:1,outputs:1,configFields:[{name:"method",type:"select",label:"HTTP Method",options:["GET","POST","PUT","DELETE"],default:"GET"},{name:"headers",type:"text",label:"Headers (JSON)",default:"{}"},{name:"body",type:"text",label:"Request Body",default:""}]}}async execute(t,n){try{const r=t[0]||"",s=n.method||"GET",i=JSON.parse(n.headers||"{}"),o=n.body,l=`https://api.allorigins.win/raw?url=${encodeURIComponent(r)}`,u=await fetch(l,{method:"GET",headers:{"Content-Type":"application/json"}});if(!u.ok)throw new Error(`HTTP error! status: ${u.status}`);return[await u.text()]}catch(r){throw console.error("HTTP Request failed:",r),r}}}class eb extends rn{constructor(){super(...arguments),this.type="conditional",this.label="If/Else",this.description="Routes data based on conditions. Compares two inputs and outputs to either the true or false path depending on the comparison result."}getConfig(){return{type:this.type,label:this.label,description:this.description,inputs:2,outputs:2,configFields:[{name:"operator",type:"select",label:"Operator",options:["equals","not equals","greater than","less than","greater or equal","less or equal"],default:"equals"},{name:"outputMode",type:"select",label:"Output Mode",options:["left value","right value","both values","boolean"],default:"both values"}]}}async execute(t,n){const[r,s]=t,i=n.operator,o=n.outputMode||"both values";if(r===void 0||s===void 0)return[null,null];let l=!1;const a=Number(r),u=Number(s),c=!isNaN(a)&&!isNaN(u);switch(i){case"equals":l=r===s;break;case"not equals":l=r!==s;break;case"greater than":l=c?a>u:String(r)>String(s);break;case"less than":l=c?a<u:String(r)<String(s);break;case"greater or equal":l=c?a>=u:String(r)>=String(s);break;case"less or equal":l=c?a<=u:String(r)<=String(s);break;default:l=!1}let f=null,d=null;switch(o){case"left value":f=l?r:null,d=l?null:r;break;case"right value":f=l?s:null,d=l?null:s;break;case"both values":f=l?[r,s]:null,d=l?null:[r,s];break;case"boolean":f=l?!0:null,d=l?null:!1;break}return[f,d]}}const Vc="RFC3986",Uc={RFC1738:e=>String(e).replace(/%20/g,"+"),RFC3986:e=>String(e)},tb="RFC1738",nb=Array.isArray,Gt=(()=>{const e=[];for(let t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e})(),Nu=1024,rb=(e,t,n,r,s)=>{if(e.length===0)return e;let i=e;if(typeof e=="symbol"?i=Symbol.prototype.toString.call(e):typeof e!="string"&&(i=String(e)),n==="iso-8859-1")return escape(i).replace(/%u[0-9a-f]{4}/gi,function(l){return"%26%23"+parseInt(l.slice(2),16)+"%3B"});let o="";for(let l=0;l<i.length;l+=Nu){const a=i.length>=Nu?i.slice(l,l+Nu):i,u=[];for(let c=0;c<a.length;++c){let f=a.charCodeAt(c);if(f===45||f===46||f===95||f===126||f>=48&&f<=57||f>=65&&f<=90||f>=97&&f<=122||s===tb&&(f===40||f===41)){u[u.length]=a.charAt(c);continue}if(f<128){u[u.length]=Gt[f];continue}if(f<2048){u[u.length]=Gt[192|f>>6]+Gt[128|f&63];continue}if(f<55296||f>=57344){u[u.length]=Gt[224|f>>12]+Gt[128|f>>6&63]+Gt[128|f&63];continue}c+=1,f=65536+((f&1023)<<10|a.charCodeAt(c)&1023),u[u.length]=Gt[240|f>>18]+Gt[128|f>>12&63]+Gt[128|f>>6&63]+Gt[128|f&63]}o+=u.join("")}return o};function sb(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}function Xp(e,t){if(nb(e)){const n=[];for(let r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)}const ib=Object.prototype.hasOwnProperty,lw={brackets(e){return String(e)+"[]"},comma:"comma",indices(e,t){return String(e)+"["+t+"]"},repeat(e){return String(e)}},Kt=Array.isArray,ob=Array.prototype.push,aw=function(e,t){ob.apply(e,Kt(t)?t:[t])},lb=Date.prototype.toISOString,be={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:rb,encodeValuesOnly:!1,format:Vc,formatter:Uc[Vc],indices:!1,serializeDate(e){return lb.call(e)},skipNulls:!1,strictNullHandling:!1};function ab(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"}const Cu={};function uw(e,t,n,r,s,i,o,l,a,u,c,f,d,m,v,g,_,p){let h=e,y=p,w=0,E=!1;for(;(y=y.get(Cu))!==void 0&&!E;){const I=y.get(e);if(w+=1,typeof I<"u"){if(I===w)throw new RangeError("Cyclic object value");E=!0}typeof y.get(Cu)>"u"&&(w=0)}if(typeof u=="function"?h=u(t,h):h instanceof Date?h=d==null?void 0:d(h):n==="comma"&&Kt(h)&&(h=Xp(h,function(I){return I instanceof Date?d==null?void 0:d(I):I})),h===null){if(i)return a&&!g?a(t,be.encoder,_,"key",m):t;h=""}if(ab(h)||sb(h)){if(a){const I=g?t:a(t,be.encoder,_,"key",m);return[(v==null?void 0:v(I))+"="+(v==null?void 0:v(a(h,be.encoder,_,"value",m)))]}return[(v==null?void 0:v(t))+"="+(v==null?void 0:v(String(h)))]}const k=[];if(typeof h>"u")return k;let N;if(n==="comma"&&Kt(h))g&&a&&(h=Xp(h,a)),N=[{value:h.length>0?h.join(",")||null:void 0}];else if(Kt(u))N=u;else{const I=Object.keys(h);N=c?I.sort(c):I}const R=l?String(t).replace(/\./g,"%2E"):String(t),M=r&&Kt(h)&&h.length===1?R+"[]":R;if(s&&Kt(h)&&h.length===0)return M+"[]";for(let I=0;I<N.length;++I){const F=N[I],D=typeof F=="object"&&typeof F.value<"u"?F.value:h[F];if(o&&D===null)continue;const B=f&&l?F.replace(/\./g,"%2E"):F,x=Kt(h)?typeof n=="function"?n(M,B):M:M+(f?"."+B:"["+B+"]");p.set(e,w);const $=new WeakMap;$.set(Cu,p),aw(k,uw(D,x,n,r,s,i,o,l,n==="comma"&&g&&Kt(h)?null:a,u,c,f,d,m,v,g,_,$))}return k}function ub(e=be){if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");const t=e.charset||be.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=Vc;if(typeof e.format<"u"){if(!ib.call(Uc,e.format))throw new TypeError("Unknown format option provided.");n=e.format}const r=Uc[n];let s=be.filter;(typeof e.filter=="function"||Kt(e.filter))&&(s=e.filter);let i;if(e.arrayFormat&&e.arrayFormat in lw?i=e.arrayFormat:"indices"in e?i=e.indices?"indices":"repeat":i=be.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const o=typeof e.allowDots>"u"?e.encodeDotInKeys?!0:be.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:be.addQueryPrefix,allowDots:o,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:be.allowEmptyArrays,arrayFormat:i,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:be.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?be.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:be.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:be.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:be.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:be.encodeValuesOnly,filter:s,format:n,formatter:r,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:be.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:be.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:be.strictNullHandling}}function cb(e,t={}){let n=e;const r=ub(t);let s,i;typeof r.filter=="function"?(i=r.filter,n=i("",n)):Kt(r.filter)&&(i=r.filter,s=i);const o=[];if(typeof n!="object"||n===null)return"";const l=lw[r.arrayFormat],a=l==="comma"&&r.commaRoundTrip;s||(s=Object.keys(n)),r.sort&&s.sort(r.sort);const u=new WeakMap;for(let d=0;d<s.length;++d){const m=s[d];r.skipNulls&&n[m]===null||aw(o,uw(n[m],m,l,a,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,u))}const c=o.join(r.delimiter);let f=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?f+="utf8=%26%2310003%3B&":f+="utf8=%E2%9C%93&"),c.length>0?f+c:""}const Xr="4.92.1";let Gp=!1,Ni,cw,fw,Wc,dw,hw,pw,mw,gw;function fb(e,t={auto:!1}){if(Gp)throw new Error(`you must \`import 'openai/shims/${e.kind}'\` before importing anything else from openai`);if(Ni)throw new Error(`can't \`import 'openai/shims/${e.kind}'\` after \`import 'openai/shims/${Ni}'\``);Gp=t.auto,Ni=e.kind,cw=e.fetch,fw=e.FormData,Wc=e.File,dw=e.ReadableStream,hw=e.getMultipartRequestOptions,pw=e.getDefaultAgent,mw=e.fileFromPath,gw=e.isFsReadStream}class db{constructor(t){this.body=t}get[Symbol.toStringTag](){return"MultipartBody"}}function hb({manuallyImported:e}={}){const t=e?"You may need to use polyfills":"Add one of these imports before your first `import … from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let n,r,s,i;try{n=fetch,r=Request,s=Response,i=Headers}catch(o){throw new Error(`this environment is missing the following Web Fetch API type: ${o.message}. ${t}`)}return{kind:"web",fetch:n,Request:r,Response:s,Headers:i,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${t}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${t}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${t}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${t}`)}},getMultipartRequestOptions:async(o,l)=>({...l,body:new db(o)}),getDefaultAgent:o=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:o=>!1}}const yw=()=>{Ni||fb(hb(),{auto:!0})};yw();class q extends Error{}class Be extends q{constructor(t,n,r,s){super(`${Be.makeMessage(t,n,r)}`),this.status=t,this.headers=s,this.request_id=s==null?void 0:s["x-request-id"],this.error=n;const i=n;this.code=i==null?void 0:i.code,this.param=i==null?void 0:i.param,this.type=i==null?void 0:i.type}static makeMessage(t,n,r){const s=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return t&&s?`${t} ${s}`:t?`${t} status code (no body)`:s||"(no status code or body)"}static generate(t,n,r,s){if(!t||!s)return new Aa({message:r,cause:Gc(n)});const i=n==null?void 0:n.error;return t===400?new ww(t,i,r,s):t===401?new vw(t,i,r,s):t===403?new xw(t,i,r,s):t===404?new _w(t,i,r,s):t===409?new Sw(t,i,r,s):t===422?new Ew(t,i,r,s):t===429?new kw(t,i,r,s):t>=500?new Nw(t,i,r,s):new Be(t,i,r,s)}}class Ct extends Be{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class Aa extends Be{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}}class pd extends Aa{constructor({message:t}={}){super({message:t??"Request timed out."})}}class ww extends Be{}class vw extends Be{}class xw extends Be{}class _w extends Be{}class Sw extends Be{}class Ew extends Be{}class kw extends Be{}class Nw extends Be{}class Cw extends q{constructor(){super("Could not parse response content as the length limit was reached")}}class bw extends q{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}var Ho=function(e,t,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(e,n):s?s.value=n:t.set(e,n),n},ar=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},dt;class Ta{constructor(){dt.set(this,void 0),this.buffer=new Uint8Array,Ho(this,dt,null,"f")}decode(t){if(t==null)return[];const n=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?new TextEncoder().encode(t):t;let r=new Uint8Array(this.buffer.length+n.length);r.set(this.buffer),r.set(n,this.buffer.length),this.buffer=r;const s=[];let i;for(;(i=pb(this.buffer,ar(this,dt,"f")))!=null;){if(i.carriage&&ar(this,dt,"f")==null){Ho(this,dt,i.index,"f");continue}if(ar(this,dt,"f")!=null&&(i.index!==ar(this,dt,"f")+1||i.carriage)){s.push(this.decodeText(this.buffer.slice(0,ar(this,dt,"f")-1))),this.buffer=this.buffer.slice(ar(this,dt,"f")),Ho(this,dt,null,"f");continue}const o=ar(this,dt,"f")!==null?i.preceding-1:i.preceding,l=this.decodeText(this.buffer.slice(0,o));s.push(l),this.buffer=this.buffer.slice(i.index),Ho(this,dt,null,"f")}return s}decodeText(t){if(t==null)return"";if(typeof t=="string")return t;if(typeof Buffer<"u"){if(t instanceof Buffer)return t.toString();if(t instanceof Uint8Array)return Buffer.from(t).toString();throw new q(`Unexpected: received non-Uint8Array (${t.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(t instanceof Uint8Array||t instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(t);throw new q(`Unexpected: received non-Uint8Array/ArrayBuffer (${t.constructor.name}) in a web platform. Please report this error.`)}throw new q("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){return this.buffer.length?this.decode(`
`):[]}}dt=new WeakMap;Ta.NEWLINE_CHARS=new Set([`
`,"\r"]);Ta.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function pb(e,t){for(let s=t??0;s<e.length;s++){if(e[s]===10)return{preceding:s,index:s+1,carriage:!1};if(e[s]===13)return{preceding:s,index:s+1,carriage:!0}}return null}function mb(e){for(let r=0;r<e.length-1;r++){if(e[r]===10&&e[r+1]===10||e[r]===13&&e[r+1]===13)return r+2;if(e[r]===13&&e[r+1]===10&&r+3<e.length&&e[r+2]===13&&e[r+3]===10)return r+4}return-1}function Pw(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}class Jt{constructor(t,n){this.iterator=t,this.controller=n}static fromSSEResponse(t,n){let r=!1;async function*s(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let i=!1;try{for await(const o of gb(t,n))if(!i){if(o.data.startsWith("[DONE]")){i=!0;continue}if(o.event===null||o.event.startsWith("response.")||o.event.startsWith("transcript.")){let l;try{l=JSON.parse(o.data)}catch(a){throw console.error("Could not parse message into JSON:",o.data),console.error("From chunk:",o.raw),a}if(l&&l.error)throw new Be(void 0,l.error,void 0,Ow(t.headers));yield l}else{let l;try{l=JSON.parse(o.data)}catch(a){throw console.error("Could not parse message into JSON:",o.data),console.error("From chunk:",o.raw),a}if(o.event=="error")throw new Be(void 0,l.error,l.message,void 0);yield{event:o.event,data:l}}}i=!0}catch(o){if(o instanceof Error&&o.name==="AbortError")return;throw o}finally{i||n.abort()}}return new Jt(s,n)}static fromReadableStream(t,n){let r=!1;async function*s(){const o=new Ta,l=Pw(t);for await(const a of l)for(const u of o.decode(a))yield u;for(const a of o.flush())yield a}async function*i(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let o=!1;try{for await(const l of s())o||l&&(yield JSON.parse(l));o=!0}catch(l){if(l instanceof Error&&l.name==="AbortError")return;throw l}finally{o||n.abort()}}return new Jt(i,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],n=[],r=this.iterator(),s=i=>({next:()=>{if(i.length===0){const o=r.next();t.push(o),n.push(o)}return i.shift()}});return[new Jt(()=>s(t),this.controller),new Jt(()=>s(n),this.controller)]}toReadableStream(){const t=this;let n;const r=new TextEncoder;return new dw({async start(){n=t[Symbol.asyncIterator]()},async pull(s){try{const{value:i,done:o}=await n.next();if(o)return s.close();const l=r.encode(JSON.stringify(i)+`
`);s.enqueue(l)}catch(i){s.error(i)}},async cancel(){var s;await((s=n.return)==null?void 0:s.call(n))}})}}async function*gb(e,t){if(!e.body)throw t.abort(),new q("Attempted to iterate over a response with no body");const n=new wb,r=new Ta,s=Pw(e.body);for await(const i of yb(s))for(const o of r.decode(i)){const l=n.decode(o);l&&(yield l)}for(const i of r.flush()){const o=n.decode(i);o&&(yield o)}}async function*yb(e){let t=new Uint8Array;for await(const n of e){if(n==null)continue;const r=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?new TextEncoder().encode(n):n;let s=new Uint8Array(t.length+r.length);s.set(t),s.set(r,t.length),t=s;let i;for(;(i=mb(t))!==-1;)yield t.slice(0,i),t=t.slice(i)}t.length>0&&(yield t)}class wb{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,r,s]=vb(t,":");return s.startsWith(" ")&&(s=s.substring(1)),n==="event"?this.event=s:n==="data"&&this.data.push(s),null}}function vb(e,t){const n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}const Aw=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function",Tw=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&Ra(e),Ra=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",xb=e=>Tw(e)||Aw(e)||gw(e);async function Rw(e,t,n){var s;if(e=await e,Tw(e))return e;if(Aw(e)){const i=await e.blob();t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()??"unknown_file");const o=Ra(i)?[await i.arrayBuffer()]:[i];return new Wc(o,t,n)}const r=await _b(e);if(t||(t=Eb(e)??"unknown_file"),!(n!=null&&n.type)){const i=(s=r[0])==null?void 0:s.type;typeof i=="string"&&(n={...n,type:i})}return new Wc(r,t,n)}async function _b(e){var n;let t=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if(Ra(e))t.push(await e.arrayBuffer());else if(kb(e))for await(const r of e)t.push(r);else throw new Error(`Unexpected data type: ${typeof e}; constructor: ${(n=e==null?void 0:e.constructor)==null?void 0:n.name}; props: ${Sb(e)}`);return t}function Sb(e){return`[${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}function Eb(e){var t;return bu(e.name)||bu(e.filename)||((t=bu(e.path))==null?void 0:t.split(/[\\/]/).pop())}const bu=e=>{if(typeof e=="string")return e;if(typeof Buffer<"u"&&e instanceof Buffer)return String(e)},kb=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function",Yp=e=>e&&typeof e=="object"&&e.body&&e[Symbol.toStringTag]==="MultipartBody",Ms=async e=>{const t=await Nb(e.body);return hw(t,e)},Nb=async e=>{const t=new fw;return await Promise.all(Object.entries(e||{}).map(([n,r])=>Xc(t,n,r))),t},Xc=async(e,t,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${t}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")e.append(t,String(n));else if(xb(n)){const r=await Rw(n);e.append(t,r)}else if(Array.isArray(n))await Promise.all(n.map(r=>Xc(e,t+"[]",r)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([r,s])=>Xc(e,`${t}[${r}]`,s)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}};var ys={},Cb=function(e,t,n,r,s){if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n},bb=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Vo;yw();async function Mw(e){var o;const{response:t}=e;if(e.options.stream)return Kn("response",t.status,t.url,t.headers,t.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(t,e.controller):Jt.fromSSEResponse(t,e.controller);if(t.status===204)return null;if(e.options.__binaryResponse)return t;const n=t.headers.get("content-type"),r=(o=n==null?void 0:n.split(";")[0])==null?void 0:o.trim();if((r==null?void 0:r.includes("application/json"))||(r==null?void 0:r.endsWith("+json"))){const l=await t.json();return Kn("response",t.status,t.url,t.headers,l),$w(l,t)}const i=await t.text();return Kn("response",t.status,t.url,t.headers,i),i}function $w(e,t){return!e||typeof e!="object"||Array.isArray(e)?e:Object.defineProperty(e,"_request_id",{value:t.headers.get("x-request-id"),enumerable:!1})}class Ma extends Promise{constructor(t,n=Mw){super(r=>{r(null)}),this.responsePromise=t,this.parseResponse=n}_thenUnwrap(t){return new Ma(this.responsePromise,async n=>$w(t(await this.parseResponse(n),n),n.response))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n,request_id:n.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}class Pb{constructor({baseURL:t,maxRetries:n=2,timeout:r=6e5,httpAgent:s,fetch:i}){this.baseURL=t,this.maxRetries=Pu("maxRetries",n),this.timeout=Pu("timeout",r),this.httpAgent=s,this.fetch=i??cw}authHeaders(t){return{}}defaultHeaders(t){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...$b(),...this.authHeaders(t)}}validateHeaders(t,n){}defaultIdempotencyKey(){return`stainless-node-retry-${Db()}`}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,r){return this.request(Promise.resolve(r).then(async s=>{const i=s&&Ra(s==null?void 0:s.body)?new DataView(await s.body.arrayBuffer()):(s==null?void 0:s.body)instanceof DataView?s.body:(s==null?void 0:s.body)instanceof ArrayBuffer?new DataView(s.body):s&&ArrayBuffer.isView(s==null?void 0:s.body)?new DataView(s.body.buffer):s==null?void 0:s.body;return{method:t,path:n,...s,body:i}}))}getAPIList(t,n,r){return this.requestAPIList(n,{method:"get",path:t,...r})}calculateContentLength(t){if(typeof t=="string"){if(typeof Buffer<"u")return Buffer.byteLength(t,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(t).length.toString()}else if(ArrayBuffer.isView(t))return t.byteLength.toString();return null}buildRequest(t,{retryCount:n=0}={}){var v;t={...t};const{method:r,path:s,query:i,headers:o={}}=t,l=ArrayBuffer.isView(t.body)||t.__binaryRequest&&typeof t.body=="string"?t.body:Yp(t.body)?t.body.body:t.body?JSON.stringify(t.body,null,2):null,a=this.calculateContentLength(l),u=this.buildURL(s,i);"timeout"in t&&Pu("timeout",t.timeout),t.timeout=t.timeout??this.timeout;const c=t.httpAgent??this.httpAgent??pw(u),f=t.timeout+1e3;typeof((v=c==null?void 0:c.options)==null?void 0:v.timeout)=="number"&&f>(c.options.timeout??0)&&(c.options.timeout=f),this.idempotencyHeader&&r!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=t.idempotencyKey);const d=this.buildHeaders({options:t,headers:o,contentLength:a,retryCount:n});return{req:{method:r,...l&&{body:l},headers:d,...c&&{agent:c},signal:t.signal??null},url:u,timeout:t.timeout}}buildHeaders({options:t,headers:n,contentLength:r,retryCount:s}){const i={};r&&(i["content-length"]=r);const o=this.defaultHeaders(t);return Jp(i,o),Jp(i,n),Yp(t.body)&&Ni!=="node"&&delete i["content-type"],Wo(o,"x-stainless-retry-count")===void 0&&Wo(n,"x-stainless-retry-count")===void 0&&(i["x-stainless-retry-count"]=String(s)),Wo(o,"x-stainless-timeout")===void 0&&Wo(n,"x-stainless-timeout")===void 0&&t.timeout&&(i["x-stainless-timeout"]=String(Math.trunc(t.timeout/1e3))),this.validateHeaders(i,n),i}async prepareOptions(t){}async prepareRequest(t,{url:n,options:r}){}parseHeaders(t){return t?Symbol.iterator in t?Object.fromEntries(Array.from(t).map(n=>[...n])):{...t}:{}}makeStatusError(t,n,r,s){return Be.generate(t,n,r,s)}request(t,n=null){return new Ma(this.makeRequest(t,n))}async makeRequest(t,n){var f,d;const r=await t,s=r.maxRetries??this.maxRetries;n==null&&(n=s),await this.prepareOptions(r);const{req:i,url:o,timeout:l}=this.buildRequest(r,{retryCount:s-n});if(await this.prepareRequest(i,{url:o,options:r}),Kn("request",o,r,i.headers),(f=r.signal)!=null&&f.aborted)throw new Ct;const a=new AbortController,u=await this.fetchWithTimeout(o,i,l,a).catch(Gc);if(u instanceof Error){if((d=r.signal)!=null&&d.aborted)throw new Ct;if(n)return this.retryRequest(r,n);throw u.name==="AbortError"?new pd:new Aa({cause:u})}const c=Ow(u.headers);if(!u.ok){if(n&&this.shouldRetry(u)){const h=`retrying, ${n} attempts remaining`;return Kn(`response (error; ${h})`,u.status,o,c),this.retryRequest(r,n,c)}const m=await u.text().catch(h=>Gc(h).message),v=Ib(m),g=v?void 0:m;throw Kn(`response (error; ${n?"(error; no more retries left)":"(error; not retryable)"})`,u.status,o,c,g),this.makeStatusError(u.status,v,g,c)}return{response:u,options:r,controller:a}}requestAPIList(t,n){const r=this.makeRequest(n,null);return new Ab(this,r,t)}buildURL(t,n){const r=Fb(t)?new URL(t):new URL(this.baseURL+(this.baseURL.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),s=this.defaultQuery();return Fw(s)||(n={...s,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(r.search=this.stringifyQuery(n)),r.toString()}stringifyQuery(t){return Object.entries(t).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new q(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(t,n,r,s){const{signal:i,...o}=n||{};i&&i.addEventListener("abort",()=>s.abort());const l=setTimeout(()=>s.abort(),r),a={signal:s.signal,...o};return a.method&&(a.method=a.method.toUpperCase()),this.fetch.call(void 0,t,a).finally(()=>{clearTimeout(l)})}shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,r){let s;const i=r==null?void 0:r["retry-after-ms"];if(i){const l=parseFloat(i);Number.isNaN(l)||(s=l)}const o=r==null?void 0:r["retry-after"];if(o&&!s){const l=parseFloat(o);Number.isNaN(l)?s=Date.parse(o)-Date.now():s=l*1e3}if(!(s&&0<=s&&s<60*1e3)){const l=t.maxRetries??this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(n,l)}return await uo(s),this.makeRequest(t,n-1)}calculateDefaultRetryTimeoutMillis(t,n){const i=n-t,o=Math.min(.5*Math.pow(2,i),8),l=1-Math.random()*.25;return o*l*1e3}getUserAgent(){return`${this.constructor.name}/JS ${Xr}`}}class Iw{constructor(t,n,r,s){Vo.set(this,void 0),Cb(this,Vo,t),this.options=s,this.response=n,this.body=r}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){const t=this.nextPageInfo();if(!t)throw new q("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const n={...this.options};if("params"in t&&typeof n.query=="object")n.query={...n.query,...t.params};else if("url"in t){const r=[...Object.entries(n.query||{}),...t.url.searchParams.entries()];for(const[s,i]of r)t.url.searchParams.set(s,i);n.query=void 0,n.path=t.url.toString()}return await bb(this,Vo,"f").requestAPIList(this.constructor,n)}async*iterPages(){let t=this;for(yield t;t.hasNextPage();)t=await t.getNextPage(),yield t}async*[(Vo=new WeakMap,Symbol.asyncIterator)](){for await(const t of this.iterPages())for(const n of t.getPaginatedItems())yield n}}class Ab extends Ma{constructor(t,n,r){super(n,async s=>new r(t,s.response,await Mw(s),s.options))}async*[Symbol.asyncIterator](){const t=await this;for await(const n of t)yield n}}const Ow=e=>new Proxy(Object.fromEntries(e.entries()),{get(t,n){const r=n.toString();return t[r.toLowerCase()]||t[r]}}),Tb={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__metadata:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},Oe=e=>typeof e=="object"&&e!==null&&!Fw(e)&&Object.keys(e).every(t=>Dw(Tb,t)),Rb=()=>{var t;if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Xr,"X-Stainless-OS":qp(Deno.build.os),"X-Stainless-Arch":Kp(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((t=Deno.version)==null?void 0:t.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Xr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Xr,"X-Stainless-OS":qp(process.platform),"X-Stainless-Arch":Kp(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const e=Mb();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Xr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Xr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function Mb(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const r=n.exec(navigator.userAgent);if(r){const s=r[1]||0,i=r[2]||0,o=r[3]||0;return{browser:t,version:`${s}.${i}.${o}`}}}return null}const Kp=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",qp=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let Qp;const $b=()=>Qp??(Qp=Rb()),Ib=e=>{try{return JSON.parse(e)}catch{return}},Ob=/^[a-z][a-z0-9+.-]*:/i,Fb=e=>Ob.test(e),uo=e=>new Promise(t=>setTimeout(t,e)),Pu=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new q(`${e} must be an integer`);if(t<0)throw new q(`${e} must be a positive integer`);return t},Gc=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null)try{return new Error(JSON.stringify(e))}catch{}return new Error(e)},Uo=e=>{var t,n,r,s;if(typeof process<"u")return((t=ys==null?void 0:ys[e])==null?void 0:t.trim())??void 0;if(typeof Deno<"u")return(s=(r=(n=Deno.env)==null?void 0:n.get)==null?void 0:r.call(n,e))==null?void 0:s.trim()};function Fw(e){if(!e)return!0;for(const t in e)return!1;return!0}function Dw(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Jp(e,t){for(const n in t){if(!Dw(t,n))continue;const r=n.toLowerCase();if(!r)continue;const s=t[n];s===null?delete e[r]:s!==void 0&&(e[r]=s)}}const Zp=new Set(["authorization","api-key"]);function Kn(e,...t){if(typeof process<"u"&&(ys==null?void 0:ys.DEBUG)==="true"){const n=t.map(r=>{if(!r)return r;if(r.headers){const i={...r,headers:{...r.headers}};for(const o in r.headers)Zp.has(o.toLowerCase())&&(i.headers[o]="REDACTED");return i}let s=null;for(const i in r)Zp.has(i.toLowerCase())&&(s??(s={...r}),s[i]="REDACTED");return s??r});console.log(`OpenAI:DEBUG:${e}`,...n)}}const Db=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)}),zb=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u",Lb=e=>typeof(e==null?void 0:e.get)=="function",Wo=(e,t)=>{var r;const n=t.toLowerCase();if(Lb(e)){const s=((r=t[0])==null?void 0:r.toUpperCase())+t.substring(1).replace(/([^\w])(\w)/g,(i,o,l)=>o+l.toUpperCase());for(const i of[t,n,t.toUpperCase(),s]){const o=e.get(i);if(o)return o}}for(const[s,i]of Object.entries(e))if(s.toLowerCase()===n)return Array.isArray(i)?(i.length<=1||console.warn(`Received ${i.length} entries for the ${t} header, using the first entry.`),i[0]):i},jb=e=>{if(typeof Buffer<"u"){const t=Buffer.from(e,"base64");return Array.from(new Float32Array(t.buffer,t.byteOffset,t.length/Float32Array.BYTES_PER_ELEMENT))}else{const t=atob(e),n=t.length,r=new Uint8Array(n);for(let s=0;s<n;s++)r[s]=t.charCodeAt(s);return Array.from(new Float32Array(r.buffer))}};function Au(e){return e!=null&&typeof e=="object"&&!Array.isArray(e)}class md extends Iw{constructor(t,n,r,s){super(t,n,r,s),this.data=r.data||[],this.object=r.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}}class ut extends Iw{constructor(t,n,r,s){super(t,n,r,s),this.data=r.data||[],this.has_more=r.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageParams(){const t=this.nextPageInfo();if(!t)return null;if("params"in t)return t.params;const n=Object.fromEntries(t.url.searchParams);return Object.keys(n).length?n:null}nextPageInfo(){var r;const t=this.getPaginatedItems();if(!t.length)return null;const n=(r=t[t.length-1])==null?void 0:r.id;return n?{params:{after:n}}:null}}class ne{constructor(t){this._client=t}}let zw=class extends ne{list(t,n={},r){return Oe(n)?this.list(t,{},n):this._client.getAPIList(`/chat/completions/${t}/messages`,Bb,{query:n,...r})}},$a=class extends ne{constructor(){super(...arguments),this.messages=new zw(this._client)}create(t,n){return this._client.post("/chat/completions",{body:t,...n,stream:t.stream??!1})}retrieve(t,n){return this._client.get(`/chat/completions/${t}`,n)}update(t,n,r){return this._client.post(`/chat/completions/${t}`,{body:n,...r})}list(t={},n){return Oe(t)?this.list({},t):this._client.getAPIList("/chat/completions",Ia,{query:t,...n})}del(t,n){return this._client.delete(`/chat/completions/${t}`,n)}};class Ia extends ut{}class Bb extends ut{}$a.ChatCompletionsPage=Ia;$a.Messages=zw;let Oa=class extends ne{constructor(){super(...arguments),this.completions=new $a(this._client)}};Oa.Completions=$a;Oa.ChatCompletionsPage=Ia;class Lw extends ne{create(t,n){return this._client.post("/audio/speech",{body:t,...n,headers:{Accept:"application/octet-stream",...n==null?void 0:n.headers},__binaryResponse:!0})}}class jw extends ne{create(t,n){return this._client.post("/audio/transcriptions",Ms({body:t,...n,stream:t.stream??!1,__metadata:{model:t.model}}))}}class Bw extends ne{create(t,n){return this._client.post("/audio/translations",Ms({body:t,...n,__metadata:{model:t.model}}))}}class co extends ne{constructor(){super(...arguments),this.transcriptions=new jw(this._client),this.translations=new Bw(this._client),this.speech=new Lw(this._client)}}co.Transcriptions=jw;co.Translations=Bw;co.Speech=Lw;class gd extends ne{create(t,n){return this._client.post("/batches",{body:t,...n})}retrieve(t,n){return this._client.get(`/batches/${t}`,n)}list(t={},n){return Oe(t)?this.list({},t):this._client.getAPIList("/batches",yd,{query:t,...n})}cancel(t,n){return this._client.post(`/batches/${t}/cancel`,n)}}class yd extends ut{}gd.BatchesPage=yd;class wd extends ne{create(t,n){return this._client.post("/assistants",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(t,n){return this._client.get(`/assistants/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(t,n,r){return this._client.post(`/assistants/${t}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(t={},n){return Oe(t)?this.list({},t):this._client.getAPIList("/assistants",vd,{query:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(t,n){return this._client.delete(`/assistants/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class vd extends ut{}wd.AssistantsPage=vd;function em(e){return typeof e.parse=="function"}const ws=e=>(e==null?void 0:e.role)==="assistant",Hw=e=>(e==null?void 0:e.role)==="function",Vw=e=>(e==null?void 0:e.role)==="tool";var Mt=function(e,t,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(e,n):s?s.value=n:t.set(e,n),n},ge=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Yc,hl,pl,ci,fi,ml,di,cn,hi,Jl,Zl,Gr,Uw;class xd{constructor(){Yc.add(this),this.controller=new AbortController,hl.set(this,void 0),pl.set(this,()=>{}),ci.set(this,()=>{}),fi.set(this,void 0),ml.set(this,()=>{}),di.set(this,()=>{}),cn.set(this,{}),hi.set(this,!1),Jl.set(this,!1),Zl.set(this,!1),Gr.set(this,!1),Mt(this,hl,new Promise((t,n)=>{Mt(this,pl,t,"f"),Mt(this,ci,n,"f")}),"f"),Mt(this,fi,new Promise((t,n)=>{Mt(this,ml,t,"f"),Mt(this,di,n,"f")}),"f"),ge(this,hl,"f").catch(()=>{}),ge(this,fi,"f").catch(()=>{})}_run(t){setTimeout(()=>{t().then(()=>{this._emitFinal(),this._emit("end")},ge(this,Yc,"m",Uw).bind(this))},0)}_connected(){this.ended||(ge(this,pl,"f").call(this),this._emit("connect"))}get ended(){return ge(this,hi,"f")}get errored(){return ge(this,Jl,"f")}get aborted(){return ge(this,Zl,"f")}abort(){this.controller.abort()}on(t,n){return(ge(this,cn,"f")[t]||(ge(this,cn,"f")[t]=[])).push({listener:n}),this}off(t,n){const r=ge(this,cn,"f")[t];if(!r)return this;const s=r.findIndex(i=>i.listener===n);return s>=0&&r.splice(s,1),this}once(t,n){return(ge(this,cn,"f")[t]||(ge(this,cn,"f")[t]=[])).push({listener:n,once:!0}),this}emitted(t){return new Promise((n,r)=>{Mt(this,Gr,!0,"f"),t!=="error"&&this.once("error",r),this.once(t,n)})}async done(){Mt(this,Gr,!0,"f"),await ge(this,fi,"f")}_emit(t,...n){if(ge(this,hi,"f"))return;t==="end"&&(Mt(this,hi,!0,"f"),ge(this,ml,"f").call(this));const r=ge(this,cn,"f")[t];if(r&&(ge(this,cn,"f")[t]=r.filter(s=>!s.once),r.forEach(({listener:s})=>s(...n))),t==="abort"){const s=n[0];!ge(this,Gr,"f")&&!(r!=null&&r.length)&&Promise.reject(s),ge(this,ci,"f").call(this,s),ge(this,di,"f").call(this,s),this._emit("end");return}if(t==="error"){const s=n[0];!ge(this,Gr,"f")&&!(r!=null&&r.length)&&Promise.reject(s),ge(this,ci,"f").call(this,s),ge(this,di,"f").call(this,s),this._emit("end")}}_emitFinal(){}}hl=new WeakMap,pl=new WeakMap,ci=new WeakMap,fi=new WeakMap,ml=new WeakMap,di=new WeakMap,cn=new WeakMap,hi=new WeakMap,Jl=new WeakMap,Zl=new WeakMap,Gr=new WeakMap,Yc=new WeakSet,Uw=function(t){if(Mt(this,Jl,!0,"f"),t instanceof Error&&t.name==="AbortError"&&(t=new Ct),t instanceof Ct)return Mt(this,Zl,!0,"f"),this._emit("abort",t);if(t instanceof q)return this._emit("error",t);if(t instanceof Error){const n=new q(t.message);return n.cause=t,this._emit("error",n)}return this._emit("error",new q(String(t)))};function _d(e){return(e==null?void 0:e.$brand)==="auto-parseable-response-format"}function fo(e){return(e==null?void 0:e.$brand)==="auto-parseable-tool"}function Hb(e,t){return!t||!Ww(t)?{...e,choices:e.choices.map(n=>({...n,message:{...n.message,parsed:null,...n.message.tool_calls?{tool_calls:n.message.tool_calls}:void 0}}))}:Sd(e,t)}function Sd(e,t){const n=e.choices.map(r=>{var s;if(r.finish_reason==="length")throw new Cw;if(r.finish_reason==="content_filter")throw new bw;return{...r,message:{...r.message,...r.message.tool_calls?{tool_calls:((s=r.message.tool_calls)==null?void 0:s.map(i=>Ub(t,i)))??void 0}:void 0,parsed:r.message.content&&!r.message.refusal?Vb(t,r.message.content):null}}});return{...e,choices:n}}function Vb(e,t){var n,r;return((n=e.response_format)==null?void 0:n.type)!=="json_schema"?null:((r=e.response_format)==null?void 0:r.type)==="json_schema"?"$parseRaw"in e.response_format?e.response_format.$parseRaw(t):JSON.parse(t):null}function Ub(e,t){var r;const n=(r=e.tools)==null?void 0:r.find(s=>{var i;return((i=s.function)==null?void 0:i.name)===t.function.name});return{...t,function:{...t.function,parsed_arguments:fo(n)?n.$parseRaw(t.function.arguments):n!=null&&n.function.strict?JSON.parse(t.function.arguments):null}}}function Wb(e,t){var r;if(!e)return!1;const n=(r=e.tools)==null?void 0:r.find(s=>{var i;return((i=s.function)==null?void 0:i.name)===t.function.name});return fo(n)||(n==null?void 0:n.function.strict)||!1}function Ww(e){var t;return _d(e.response_format)?!0:((t=e.tools)==null?void 0:t.some(n=>fo(n)||n.type==="function"&&n.function.strict===!0))??!1}function Xb(e){for(const t of e??[]){if(t.type!=="function")throw new q(`Currently only \`function\` tool types support auto-parsing; Received \`${t.type}\``);if(t.function.strict!==!0)throw new q(`The \`${t.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}var nt=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Ge,Kc,ea,qc,Qc,Jc,Xw,Zc;const tm=10;class Gw extends xd{constructor(){super(...arguments),Ge.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(t){var r;this._chatCompletions.push(t),this._emit("chatCompletion",t);const n=(r=t.choices[0])==null?void 0:r.message;return n&&this._addMessage(n),t}_addMessage(t,n=!0){if("content"in t||(t.content=null),this.messages.push(t),n){if(this._emit("message",t),(Hw(t)||Vw(t))&&t.content)this._emit("functionCallResult",t.content);else if(ws(t)&&t.function_call)this._emit("functionCall",t.function_call);else if(ws(t)&&t.tool_calls)for(const r of t.tool_calls)r.type==="function"&&this._emit("functionCall",r.function)}}async finalChatCompletion(){await this.done();const t=this._chatCompletions[this._chatCompletions.length-1];if(!t)throw new q("stream ended without producing a ChatCompletion");return t}async finalContent(){return await this.done(),nt(this,Ge,"m",Kc).call(this)}async finalMessage(){return await this.done(),nt(this,Ge,"m",ea).call(this)}async finalFunctionCall(){return await this.done(),nt(this,Ge,"m",qc).call(this)}async finalFunctionCallResult(){return await this.done(),nt(this,Ge,"m",Qc).call(this)}async totalUsage(){return await this.done(),nt(this,Ge,"m",Jc).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const t=this._chatCompletions[this._chatCompletions.length-1];t&&this._emit("finalChatCompletion",t);const n=nt(this,Ge,"m",ea).call(this);n&&this._emit("finalMessage",n);const r=nt(this,Ge,"m",Kc).call(this);r&&this._emit("finalContent",r);const s=nt(this,Ge,"m",qc).call(this);s&&this._emit("finalFunctionCall",s);const i=nt(this,Ge,"m",Qc).call(this);i!=null&&this._emit("finalFunctionCallResult",i),this._chatCompletions.some(o=>o.usage)&&this._emit("totalUsage",nt(this,Ge,"m",Jc).call(this))}async _createChatCompletion(t,n,r){const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),nt(this,Ge,"m",Xw).call(this,n);const i=await t.chat.completions.create({...n,stream:!1},{...r,signal:this.controller.signal});return this._connected(),this._addChatCompletion(Sd(i,n))}async _runChatCompletion(t,n,r){for(const s of n.messages)this._addMessage(s,!1);return await this._createChatCompletion(t,n,r)}async _runFunctions(t,n,r){var d;const s="function",{function_call:i="auto",stream:o,...l}=n,a=typeof i!="string"&&(i==null?void 0:i.name),{maxChatCompletions:u=tm}=r||{},c={};for(const m of n.functions)c[m.name||m.function.name]=m;const f=n.functions.map(m=>({name:m.name||m.function.name,parameters:m.parameters,description:m.description}));for(const m of n.messages)this._addMessage(m,!1);for(let m=0;m<u;++m){const g=(d=(await this._createChatCompletion(t,{...l,function_call:i,functions:f,messages:[...this.messages]},r)).choices[0])==null?void 0:d.message;if(!g)throw new q("missing message in ChatCompletion response");if(!g.function_call)return;const{name:_,arguments:p}=g.function_call,h=c[_];if(h){if(a&&a!==_){const k=`Invalid function_call: ${JSON.stringify(_)}. ${JSON.stringify(a)} requested. Please try again`;this._addMessage({role:s,name:_,content:k});continue}}else{const k=`Invalid function_call: ${JSON.stringify(_)}. Available options are: ${f.map(N=>JSON.stringify(N.name)).join(", ")}. Please try again`;this._addMessage({role:s,name:_,content:k});continue}let y;try{y=em(h)?await h.parse(p):p}catch(k){this._addMessage({role:s,name:_,content:k instanceof Error?k.message:String(k)});continue}const w=await h.function(y,this),E=nt(this,Ge,"m",Zc).call(this,w);if(this._addMessage({role:s,name:_,content:E}),a)return}}async _runTools(t,n,r){var m,v,g;const s="tool",{tool_choice:i="auto",stream:o,...l}=n,a=typeof i!="string"&&((m=i==null?void 0:i.function)==null?void 0:m.name),{maxChatCompletions:u=tm}=r||{},c=n.tools.map(_=>{if(fo(_)){if(!_.$callback)throw new q("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:_.$callback,name:_.function.name,description:_.function.description||"",parameters:_.function.parameters,parse:_.$parseRaw,strict:!0}}}return _}),f={};for(const _ of c)_.type==="function"&&(f[_.function.name||_.function.function.name]=_.function);const d="tools"in n?c.map(_=>_.type==="function"?{type:"function",function:{name:_.function.name||_.function.function.name,parameters:_.function.parameters,description:_.function.description,strict:_.function.strict}}:_):void 0;for(const _ of n.messages)this._addMessage(_,!1);for(let _=0;_<u;++_){const h=(v=(await this._createChatCompletion(t,{...l,tool_choice:i,tools:d,messages:[...this.messages]},r)).choices[0])==null?void 0:v.message;if(!h)throw new q("missing message in ChatCompletion response");if(!((g=h.tool_calls)!=null&&g.length))return;for(const y of h.tool_calls){if(y.type!=="function")continue;const w=y.id,{name:E,arguments:k}=y.function,N=f[E];if(N){if(a&&a!==E){const F=`Invalid tool_call: ${JSON.stringify(E)}. ${JSON.stringify(a)} requested. Please try again`;this._addMessage({role:s,tool_call_id:w,content:F});continue}}else{const F=`Invalid tool_call: ${JSON.stringify(E)}. Available options are: ${Object.keys(f).map(D=>JSON.stringify(D)).join(", ")}. Please try again`;this._addMessage({role:s,tool_call_id:w,content:F});continue}let R;try{R=em(N)?await N.parse(k):k}catch(F){const D=F instanceof Error?F.message:String(F);this._addMessage({role:s,tool_call_id:w,content:D});continue}const M=await N.function(R,this),I=nt(this,Ge,"m",Zc).call(this,M);if(this._addMessage({role:s,tool_call_id:w,content:I}),a)return}}}}Ge=new WeakSet,Kc=function(){return nt(this,Ge,"m",ea).call(this).content??null},ea=function(){let t=this.messages.length;for(;t-- >0;){const n=this.messages[t];if(ws(n)){const{function_call:r,...s}=n,i={...s,content:n.content??null,refusal:n.refusal??null};return r&&(i.function_call=r),i}}throw new q("stream ended without producing a ChatCompletionMessage with role=assistant")},qc=function(){var t,n;for(let r=this.messages.length-1;r>=0;r--){const s=this.messages[r];if(ws(s)&&(s!=null&&s.function_call))return s.function_call;if(ws(s)&&((t=s==null?void 0:s.tool_calls)!=null&&t.length))return(n=s.tool_calls.at(-1))==null?void 0:n.function}},Qc=function(){for(let t=this.messages.length-1;t>=0;t--){const n=this.messages[t];if(Hw(n)&&n.content!=null||Vw(n)&&n.content!=null&&typeof n.content=="string"&&this.messages.some(r=>{var s;return r.role==="assistant"&&((s=r.tool_calls)==null?void 0:s.some(i=>i.type==="function"&&i.id===n.tool_call_id))}))return n.content}},Jc=function(){const t={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:n}of this._chatCompletions)n&&(t.completion_tokens+=n.completion_tokens,t.prompt_tokens+=n.prompt_tokens,t.total_tokens+=n.total_tokens);return t},Xw=function(t){if(t.n!=null&&t.n>1)throw new q("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},Zc=function(t){return typeof t=="string"?t:t===void 0?"undefined":JSON.stringify(t)};class Zi extends Gw{static runFunctions(t,n,r){const s=new Zi,i={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runFunctions"}};return s._run(()=>s._runFunctions(t,n,i)),s}static runTools(t,n,r){const s=new Zi,i={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return s._run(()=>s._runTools(t,n,i)),s}_addMessage(t,n=!0){super._addMessage(t,n),ws(t)&&t.content&&this._emit("content",t.content)}}const Yw=1,Kw=2,qw=4,Qw=8,Jw=16,Zw=32,ev=64,tv=128,nv=256,rv=tv|nv,sv=Jw|Zw|rv|ev,iv=Yw|Kw|sv,ov=qw|Qw,Gb=iv|ov,Re={STR:Yw,NUM:Kw,ARR:qw,OBJ:Qw,NULL:Jw,BOOL:Zw,NAN:ev,INFINITY:tv,MINUS_INFINITY:nv,INF:rv,SPECIAL:sv,ATOM:iv,COLLECTION:ov,ALL:Gb};class Yb extends Error{}class Kb extends Error{}function qb(e,t=Re.ALL){if(typeof e!="string")throw new TypeError(`expecting str, got ${typeof e}`);if(!e.trim())throw new Error(`${e} is empty`);return Qb(e.trim(),t)}const Qb=(e,t)=>{const n=e.length;let r=0;const s=d=>{throw new Yb(`${d} at position ${r}`)},i=d=>{throw new Kb(`${d} at position ${r}`)},o=()=>(f(),r>=n&&s("Unexpected end of input"),e[r]==='"'?l():e[r]==="{"?a():e[r]==="["?u():e.substring(r,r+4)==="null"||Re.NULL&t&&n-r<4&&"null".startsWith(e.substring(r))?(r+=4,null):e.substring(r,r+4)==="true"||Re.BOOL&t&&n-r<4&&"true".startsWith(e.substring(r))?(r+=4,!0):e.substring(r,r+5)==="false"||Re.BOOL&t&&n-r<5&&"false".startsWith(e.substring(r))?(r+=5,!1):e.substring(r,r+8)==="Infinity"||Re.INFINITY&t&&n-r<8&&"Infinity".startsWith(e.substring(r))?(r+=8,1/0):e.substring(r,r+9)==="-Infinity"||Re.MINUS_INFINITY&t&&1<n-r&&n-r<9&&"-Infinity".startsWith(e.substring(r))?(r+=9,-1/0):e.substring(r,r+3)==="NaN"||Re.NAN&t&&n-r<3&&"NaN".startsWith(e.substring(r))?(r+=3,NaN):c()),l=()=>{const d=r;let m=!1;for(r++;r<n&&(e[r]!=='"'||m&&e[r-1]==="\\");)m=e[r]==="\\"?!m:!1,r++;if(e.charAt(r)=='"')try{return JSON.parse(e.substring(d,++r-Number(m)))}catch(v){i(String(v))}else if(Re.STR&t)try{return JSON.parse(e.substring(d,r-Number(m))+'"')}catch{return JSON.parse(e.substring(d,e.lastIndexOf("\\"))+'"')}s("Unterminated string literal")},a=()=>{r++,f();const d={};try{for(;e[r]!=="}";){if(f(),r>=n&&Re.OBJ&t)return d;const m=l();f(),r++;try{const v=o();Object.defineProperty(d,m,{value:v,writable:!0,enumerable:!0,configurable:!0})}catch(v){if(Re.OBJ&t)return d;throw v}f(),e[r]===","&&r++}}catch{if(Re.OBJ&t)return d;s("Expected '}' at end of object")}return r++,d},u=()=>{r++;const d=[];try{for(;e[r]!=="]";)d.push(o()),f(),e[r]===","&&r++}catch{if(Re.ARR&t)return d;s("Expected ']' at end of array")}return r++,d},c=()=>{if(r===0){e==="-"&&Re.NUM&t&&s("Not sure what '-' is");try{return JSON.parse(e)}catch(m){if(Re.NUM&t)try{return e[e.length-1]==="."?JSON.parse(e.substring(0,e.lastIndexOf("."))):JSON.parse(e.substring(0,e.lastIndexOf("e")))}catch{}i(String(m))}}const d=r;for(e[r]==="-"&&r++;e[r]&&!",]}".includes(e[r]);)r++;r==n&&!(Re.NUM&t)&&s("Unterminated number literal");try{return JSON.parse(e.substring(d,r))}catch{e.substring(d,r)==="-"&&Re.NUM&t&&s("Not sure what '-' is");try{return JSON.parse(e.substring(d,e.lastIndexOf("e")))}catch(v){i(String(v))}}},f=()=>{for(;r<n&&` 
\r	`.includes(e[r]);)r++};return o()},nm=e=>qb(e,Re.ALL^Re.NUM);var Hr=function(e,t,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(e,n):s?s.value=n:t.set(e,n),n},ue=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Ce,un,Vr,bn,Tu,Xo,Ru,Mu,$u,Go,Iu,rm;class eo extends Gw{constructor(t){super(),Ce.add(this),un.set(this,void 0),Vr.set(this,void 0),bn.set(this,void 0),Hr(this,un,t,"f"),Hr(this,Vr,[],"f")}get currentChatCompletionSnapshot(){return ue(this,bn,"f")}static fromReadableStream(t){const n=new eo(null);return n._run(()=>n._fromReadableStream(t)),n}static createChatCompletion(t,n,r){const s=new eo(n);return s._run(()=>s._runChatCompletion(t,{...n,stream:!0},{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),s}async _createChatCompletion(t,n,r){var o;super._createChatCompletion;const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),ue(this,Ce,"m",Tu).call(this);const i=await t.chat.completions.create({...n,stream:!0},{...r,signal:this.controller.signal});this._connected();for await(const l of i)ue(this,Ce,"m",Ru).call(this,l);if((o=i.controller.signal)!=null&&o.aborted)throw new Ct;return this._addChatCompletion(ue(this,Ce,"m",Go).call(this))}async _fromReadableStream(t,n){var o;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),ue(this,Ce,"m",Tu).call(this),this._connected();const s=Jt.fromReadableStream(t,this.controller);let i;for await(const l of s)i&&i!==l.id&&this._addChatCompletion(ue(this,Ce,"m",Go).call(this)),ue(this,Ce,"m",Ru).call(this,l),i=l.id;if((o=s.controller.signal)!=null&&o.aborted)throw new Ct;return this._addChatCompletion(ue(this,Ce,"m",Go).call(this))}[(un=new WeakMap,Vr=new WeakMap,bn=new WeakMap,Ce=new WeakSet,Tu=function(){this.ended||Hr(this,bn,void 0,"f")},Xo=function(n){let r=ue(this,Vr,"f")[n.index];return r||(r={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},ue(this,Vr,"f")[n.index]=r,r)},Ru=function(n){var s,i,o,l,a,u,c,f,d,m,v,g,_,p,h;if(this.ended)return;const r=ue(this,Ce,"m",rm).call(this,n);this._emit("chunk",n,r);for(const y of n.choices){const w=r.choices[y.index];y.delta.content!=null&&((s=w.message)==null?void 0:s.role)==="assistant"&&((i=w.message)!=null&&i.content)&&(this._emit("content",y.delta.content,w.message.content),this._emit("content.delta",{delta:y.delta.content,snapshot:w.message.content,parsed:w.message.parsed})),y.delta.refusal!=null&&((o=w.message)==null?void 0:o.role)==="assistant"&&((l=w.message)!=null&&l.refusal)&&this._emit("refusal.delta",{delta:y.delta.refusal,snapshot:w.message.refusal}),((a=y.logprobs)==null?void 0:a.content)!=null&&((u=w.message)==null?void 0:u.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(c=y.logprobs)==null?void 0:c.content,snapshot:((f=w.logprobs)==null?void 0:f.content)??[]}),((d=y.logprobs)==null?void 0:d.refusal)!=null&&((m=w.message)==null?void 0:m.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(v=y.logprobs)==null?void 0:v.refusal,snapshot:((g=w.logprobs)==null?void 0:g.refusal)??[]});const E=ue(this,Ce,"m",Xo).call(this,w);w.finish_reason&&(ue(this,Ce,"m",$u).call(this,w),E.current_tool_call_index!=null&&ue(this,Ce,"m",Mu).call(this,w,E.current_tool_call_index));for(const k of y.delta.tool_calls??[])E.current_tool_call_index!==k.index&&(ue(this,Ce,"m",$u).call(this,w),E.current_tool_call_index!=null&&ue(this,Ce,"m",Mu).call(this,w,E.current_tool_call_index)),E.current_tool_call_index=k.index;for(const k of y.delta.tool_calls??[]){const N=(_=w.message.tool_calls)==null?void 0:_[k.index];N!=null&&N.type&&((N==null?void 0:N.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(p=N.function)==null?void 0:p.name,index:k.index,arguments:N.function.arguments,parsed_arguments:N.function.parsed_arguments,arguments_delta:((h=k.function)==null?void 0:h.arguments)??""}):(N==null||N.type,void 0))}}},Mu=function(n,r){var o,l,a;if(ue(this,Ce,"m",Xo).call(this,n).done_tool_calls.has(r))return;const i=(o=n.message.tool_calls)==null?void 0:o[r];if(!i)throw new Error("no tool call snapshot");if(!i.type)throw new Error("tool call snapshot missing `type`");if(i.type==="function"){const u=(a=(l=ue(this,un,"f"))==null?void 0:l.tools)==null?void 0:a.find(c=>c.type==="function"&&c.function.name===i.function.name);this._emit("tool_calls.function.arguments.done",{name:i.function.name,index:r,arguments:i.function.arguments,parsed_arguments:fo(u)?u.$parseRaw(i.function.arguments):u!=null&&u.function.strict?JSON.parse(i.function.arguments):null})}else i.type},$u=function(n){var s,i;const r=ue(this,Ce,"m",Xo).call(this,n);if(n.message.content&&!r.content_done){r.content_done=!0;const o=ue(this,Ce,"m",Iu).call(this);this._emit("content.done",{content:n.message.content,parsed:o?o.$parseRaw(n.message.content):null})}n.message.refusal&&!r.refusal_done&&(r.refusal_done=!0,this._emit("refusal.done",{refusal:n.message.refusal})),(s=n.logprobs)!=null&&s.content&&!r.logprobs_content_done&&(r.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:n.logprobs.content})),(i=n.logprobs)!=null&&i.refusal&&!r.logprobs_refusal_done&&(r.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:n.logprobs.refusal}))},Go=function(){if(this.ended)throw new q("stream has ended, this shouldn't happen");const n=ue(this,bn,"f");if(!n)throw new q("request ended without sending any chunks");return Hr(this,bn,void 0,"f"),Hr(this,Vr,[],"f"),Jb(n,ue(this,un,"f"))},Iu=function(){var r;const n=(r=ue(this,un,"f"))==null?void 0:r.response_format;return _d(n)?n:null},rm=function(n){var r,s,i,o;let l=ue(this,bn,"f");const{choices:a,...u}=n;l?Object.assign(l,u):l=Hr(this,bn,{...u,choices:[]},"f");for(const{delta:c,finish_reason:f,index:d,logprobs:m=null,...v}of n.choices){let g=l.choices[d];if(g||(g=l.choices[d]={finish_reason:f,index:d,message:{},logprobs:m,...v}),m)if(!g.logprobs)g.logprobs=Object.assign({},m);else{const{content:k,refusal:N,...R}=m;Object.assign(g.logprobs,R),k&&((r=g.logprobs).content??(r.content=[]),g.logprobs.content.push(...k)),N&&((s=g.logprobs).refusal??(s.refusal=[]),g.logprobs.refusal.push(...N))}if(f&&(g.finish_reason=f,ue(this,un,"f")&&Ww(ue(this,un,"f")))){if(f==="length")throw new Cw;if(f==="content_filter")throw new bw}if(Object.assign(g,v),!c)continue;const{content:_,refusal:p,function_call:h,role:y,tool_calls:w,...E}=c;if(Object.assign(g.message,E),p&&(g.message.refusal=(g.message.refusal||"")+p),y&&(g.message.role=y),h&&(g.message.function_call?(h.name&&(g.message.function_call.name=h.name),h.arguments&&((i=g.message.function_call).arguments??(i.arguments=""),g.message.function_call.arguments+=h.arguments)):g.message.function_call=h),_&&(g.message.content=(g.message.content||"")+_,!g.message.refusal&&ue(this,Ce,"m",Iu).call(this)&&(g.message.parsed=nm(g.message.content))),w){g.message.tool_calls||(g.message.tool_calls=[]);for(const{index:k,id:N,type:R,function:M,...I}of w){const F=(o=g.message.tool_calls)[k]??(o[k]={});Object.assign(F,I),N&&(F.id=N),R&&(F.type=R),M&&(F.function??(F.function={name:M.name??"",arguments:""})),M!=null&&M.name&&(F.function.name=M.name),M!=null&&M.arguments&&(F.function.arguments+=M.arguments,Wb(ue(this,un,"f"),F)&&(F.function.parsed_arguments=nm(F.function.arguments)))}}}return l},Symbol.asyncIterator)](){const t=[],n=[];let r=!1;return this.on("chunk",s=>{const i=n.shift();i?i.resolve(s):t.push(s)}),this.on("end",()=>{r=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),this.on("error",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,o)=>n.push({resolve:i,reject:o})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Jt(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function Jb(e,t){const{id:n,choices:r,created:s,model:i,system_fingerprint:o,...l}=e,a={...l,id:n,choices:r.map(({message:u,finish_reason:c,index:f,logprobs:d,...m})=>{if(!c)throw new q(`missing finish_reason for choice ${f}`);const{content:v=null,function_call:g,tool_calls:_,...p}=u,h=u.role;if(!h)throw new q(`missing role for choice ${f}`);if(g){const{arguments:y,name:w}=g;if(y==null)throw new q(`missing function_call.arguments for choice ${f}`);if(!w)throw new q(`missing function_call.name for choice ${f}`);return{...m,message:{content:v,function_call:{arguments:y,name:w},role:h,refusal:u.refusal??null},finish_reason:c,index:f,logprobs:d}}return _?{...m,index:f,finish_reason:c,logprobs:d,message:{...p,role:h,content:v,refusal:u.refusal??null,tool_calls:_.map((y,w)=>{const{function:E,type:k,id:N,...R}=y,{arguments:M,name:I,...F}=E||{};if(N==null)throw new q(`missing choices[${f}].tool_calls[${w}].id
${Yo(e)}`);if(k==null)throw new q(`missing choices[${f}].tool_calls[${w}].type
${Yo(e)}`);if(I==null)throw new q(`missing choices[${f}].tool_calls[${w}].function.name
${Yo(e)}`);if(M==null)throw new q(`missing choices[${f}].tool_calls[${w}].function.arguments
${Yo(e)}`);return{...R,id:N,type:k,function:{...F,name:I,arguments:M}}})}}:{...m,message:{...p,content:v,role:h,refusal:u.refusal??null},finish_reason:c,index:f,logprobs:d}}),created:s,model:i,object:"chat.completion",...o?{system_fingerprint:o}:{}};return Hb(a,t)}function Yo(e){return JSON.stringify(e)}class vs extends eo{static fromReadableStream(t){const n=new vs(null);return n._run(()=>n._fromReadableStream(t)),n}static runFunctions(t,n,r){const s=new vs(null),i={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runFunctions"}};return s._run(()=>s._runFunctions(t,n,i)),s}static runTools(t,n,r){const s=new vs(n),i={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return s._run(()=>s._runTools(t,n,i)),s}}let lv=class extends ne{parse(t,n){return Xb(t.tools),this._client.chat.completions.create(t,{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"beta.chat.completions.parse"}})._thenUnwrap(r=>Sd(r,t))}runFunctions(t,n){return t.stream?vs.runFunctions(this._client,t,n):Zi.runFunctions(this._client,t,n)}runTools(t,n){return t.stream?vs.runTools(this._client,t,n):Zi.runTools(this._client,t,n)}stream(t,n){return eo.createChatCompletion(this._client,t,n)}};class ef extends ne{constructor(){super(...arguments),this.completions=new lv(this._client)}}(function(e){e.Completions=lv})(ef||(ef={}));class av extends ne{create(t,n){return this._client.post("/realtime/sessions",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class uv extends ne{create(t,n){return this._client.post("/realtime/transcription_sessions",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class Fa extends ne{constructor(){super(...arguments),this.sessions=new av(this._client),this.transcriptionSessions=new uv(this._client)}}Fa.Sessions=av;Fa.TranscriptionSessions=uv;var G=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},ft=function(e,t,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(e,n):s?s.value=n:t.set(e,n),n},ze,tf,qt,gl,It,wr,ls,dr,ta,ht,yl,wl,Ci,pi,mi,sm,im,om,lm,am,um,cm;class Lt extends xd{constructor(){super(...arguments),ze.add(this),tf.set(this,[]),qt.set(this,{}),gl.set(this,{}),It.set(this,void 0),wr.set(this,void 0),ls.set(this,void 0),dr.set(this,void 0),ta.set(this,void 0),ht.set(this,void 0),yl.set(this,void 0),wl.set(this,void 0),Ci.set(this,void 0)}[(tf=new WeakMap,qt=new WeakMap,gl=new WeakMap,It=new WeakMap,wr=new WeakMap,ls=new WeakMap,dr=new WeakMap,ta=new WeakMap,ht=new WeakMap,yl=new WeakMap,wl=new WeakMap,Ci=new WeakMap,ze=new WeakSet,Symbol.asyncIterator)](){const t=[],n=[];let r=!1;return this.on("event",s=>{const i=n.shift();i?i.resolve(s):t.push(s)}),this.on("end",()=>{r=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),this.on("error",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,o)=>n.push({resolve:i,reject:o})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(t){const n=new Lt;return n._run(()=>n._fromReadableStream(t)),n}async _fromReadableStream(t,n){var i;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),this._connected();const s=Jt.fromReadableStream(t,this.controller);for await(const o of s)G(this,ze,"m",pi).call(this,o);if((i=s.controller.signal)!=null&&i.aborted)throw new Ct;return this._addRun(G(this,ze,"m",mi).call(this))}toReadableStream(){return new Jt(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(t,n,r,s,i){const o=new Lt;return o._run(()=>o._runToolAssistantStream(t,n,r,s,{...i,headers:{...i==null?void 0:i.headers,"X-Stainless-Helper-Method":"stream"}})),o}async _createToolAssistantStream(t,n,r,s,i){var u;const o=i==null?void 0:i.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort()));const l={...s,stream:!0},a=await t.submitToolOutputs(n,r,l,{...i,signal:this.controller.signal});this._connected();for await(const c of a)G(this,ze,"m",pi).call(this,c);if((u=a.controller.signal)!=null&&u.aborted)throw new Ct;return this._addRun(G(this,ze,"m",mi).call(this))}static createThreadAssistantStream(t,n,r){const s=new Lt;return s._run(()=>s._threadAssistantStream(t,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),s}static createAssistantStream(t,n,r,s){const i=new Lt;return i._run(()=>i._runAssistantStream(t,n,r,{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),i}currentEvent(){return G(this,yl,"f")}currentRun(){return G(this,wl,"f")}currentMessageSnapshot(){return G(this,It,"f")}currentRunStepSnapshot(){return G(this,Ci,"f")}async finalRunSteps(){return await this.done(),Object.values(G(this,qt,"f"))}async finalMessages(){return await this.done(),Object.values(G(this,gl,"f"))}async finalRun(){if(await this.done(),!G(this,wr,"f"))throw Error("Final run was not received.");return G(this,wr,"f")}async _createThreadAssistantStream(t,n,r){var l;const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const i={...n,stream:!0},o=await t.createAndRun(i,{...r,signal:this.controller.signal});this._connected();for await(const a of o)G(this,ze,"m",pi).call(this,a);if((l=o.controller.signal)!=null&&l.aborted)throw new Ct;return this._addRun(G(this,ze,"m",mi).call(this))}async _createAssistantStream(t,n,r,s){var a;const i=s==null?void 0:s.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const o={...r,stream:!0},l=await t.create(n,o,{...s,signal:this.controller.signal});this._connected();for await(const u of l)G(this,ze,"m",pi).call(this,u);if((a=l.controller.signal)!=null&&a.aborted)throw new Ct;return this._addRun(G(this,ze,"m",mi).call(this))}static accumulateDelta(t,n){for(const[r,s]of Object.entries(n)){if(!t.hasOwnProperty(r)){t[r]=s;continue}let i=t[r];if(i==null){t[r]=s;continue}if(r==="index"||r==="type"){t[r]=s;continue}if(typeof i=="string"&&typeof s=="string")i+=s;else if(typeof i=="number"&&typeof s=="number")i+=s;else if(Au(i)&&Au(s))i=this.accumulateDelta(i,s);else if(Array.isArray(i)&&Array.isArray(s)){if(i.every(o=>typeof o=="string"||typeof o=="number")){i.push(...s);continue}for(const o of s){if(!Au(o))throw new Error(`Expected array delta entry to be an object but got: ${o}`);const l=o.index;if(l==null)throw console.error(o),new Error("Expected array delta entry to have an `index` property");if(typeof l!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${l}`);const a=i[l];a==null?i.push(o):i[l]=this.accumulateDelta(a,o)}continue}else throw Error(`Unhandled record type: ${r}, deltaValue: ${s}, accValue: ${i}`);t[r]=i}return t}_addRun(t){return t}async _threadAssistantStream(t,n,r){return await this._createThreadAssistantStream(n,t,r)}async _runAssistantStream(t,n,r,s){return await this._createAssistantStream(n,t,r,s)}async _runToolAssistantStream(t,n,r,s,i){return await this._createToolAssistantStream(r,t,n,s,i)}}pi=function(t){if(!this.ended)switch(ft(this,yl,t,"f"),G(this,ze,"m",om).call(this,t),t.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":G(this,ze,"m",cm).call(this,t);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":G(this,ze,"m",im).call(this,t);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":G(this,ze,"m",sm).call(this,t);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},mi=function(){if(this.ended)throw new q("stream has ended, this shouldn't happen");if(!G(this,wr,"f"))throw Error("Final run has not been received");return G(this,wr,"f")},sm=function(t){const[n,r]=G(this,ze,"m",am).call(this,t,G(this,It,"f"));ft(this,It,n,"f"),G(this,gl,"f")[n.id]=n;for(const s of r){const i=n.content[s.index];(i==null?void 0:i.type)=="text"&&this._emit("textCreated",i.text)}switch(t.event){case"thread.message.created":this._emit("messageCreated",t.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",t.data.delta,n),t.data.delta.content)for(const s of t.data.delta.content){if(s.type=="text"&&s.text){let i=s.text,o=n.content[s.index];if(o&&o.type=="text")this._emit("textDelta",i,o.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(s.index!=G(this,ls,"f")){if(G(this,dr,"f"))switch(G(this,dr,"f").type){case"text":this._emit("textDone",G(this,dr,"f").text,G(this,It,"f"));break;case"image_file":this._emit("imageFileDone",G(this,dr,"f").image_file,G(this,It,"f"));break}ft(this,ls,s.index,"f")}ft(this,dr,n.content[s.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(G(this,ls,"f")!==void 0){const s=t.data.content[G(this,ls,"f")];if(s)switch(s.type){case"image_file":this._emit("imageFileDone",s.image_file,G(this,It,"f"));break;case"text":this._emit("textDone",s.text,G(this,It,"f"));break}}G(this,It,"f")&&this._emit("messageDone",t.data),ft(this,It,void 0,"f")}},im=function(t){const n=G(this,ze,"m",lm).call(this,t);switch(ft(this,Ci,n,"f"),t.event){case"thread.run.step.created":this._emit("runStepCreated",t.data);break;case"thread.run.step.delta":const r=t.data.delta;if(r.step_details&&r.step_details.type=="tool_calls"&&r.step_details.tool_calls&&n.step_details.type=="tool_calls")for(const i of r.step_details.tool_calls)i.index==G(this,ta,"f")?this._emit("toolCallDelta",i,n.step_details.tool_calls[i.index]):(G(this,ht,"f")&&this._emit("toolCallDone",G(this,ht,"f")),ft(this,ta,i.index,"f"),ft(this,ht,n.step_details.tool_calls[i.index],"f"),G(this,ht,"f")&&this._emit("toolCallCreated",G(this,ht,"f")));this._emit("runStepDelta",t.data.delta,n);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":ft(this,Ci,void 0,"f"),t.data.step_details.type=="tool_calls"&&G(this,ht,"f")&&(this._emit("toolCallDone",G(this,ht,"f")),ft(this,ht,void 0,"f")),this._emit("runStepDone",t.data,n);break}},om=function(t){G(this,tf,"f").push(t),this._emit("event",t)},lm=function(t){switch(t.event){case"thread.run.step.created":return G(this,qt,"f")[t.data.id]=t.data,t.data;case"thread.run.step.delta":let n=G(this,qt,"f")[t.data.id];if(!n)throw Error("Received a RunStepDelta before creation of a snapshot");let r=t.data;if(r.delta){const s=Lt.accumulateDelta(n,r.delta);G(this,qt,"f")[t.data.id]=s}return G(this,qt,"f")[t.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":G(this,qt,"f")[t.data.id]=t.data;break}if(G(this,qt,"f")[t.data.id])return G(this,qt,"f")[t.data.id];throw new Error("No snapshot available")},am=function(t,n){let r=[];switch(t.event){case"thread.message.created":return[t.data,r];case"thread.message.delta":if(!n)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let s=t.data;if(s.delta.content)for(const i of s.delta.content)if(i.index in n.content){let o=n.content[i.index];n.content[i.index]=G(this,ze,"m",um).call(this,i,o)}else n.content[i.index]=i,r.push(i);return[n,r];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(n)return[n,r];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},um=function(t,n){return Lt.accumulateDelta(n,t)},cm=function(t){switch(ft(this,wl,t.data,"f"),t.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":ft(this,wr,t.data,"f"),G(this,ht,"f")&&(this._emit("toolCallDone",G(this,ht,"f")),ft(this,ht,void 0,"f"));break}};class Ed extends ne{create(t,n,r){return this._client.post(`/threads/${t}/messages`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(t,n,r){return this._client.get(`/threads/${t}/messages/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(t,n,r,s){return this._client.post(`/threads/${t}/messages/${n}`,{body:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(t,n={},r){return Oe(n)?this.list(t,{},n):this._client.getAPIList(`/threads/${t}/messages`,kd,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(t,n,r){return this._client.delete(`/threads/${t}/messages/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class kd extends ut{}Ed.MessagesPage=kd;class Nd extends ne{retrieve(t,n,r,s={},i){return Oe(s)?this.retrieve(t,n,r,{},s):this._client.get(`/threads/${t}/runs/${n}/steps/${r}`,{query:s,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}list(t,n,r={},s){return Oe(r)?this.list(t,n,{},r):this._client.getAPIList(`/threads/${t}/runs/${n}/steps`,Cd,{query:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}}class Cd extends ut{}Nd.RunStepsPage=Cd;class ho extends ne{constructor(){super(...arguments),this.steps=new Nd(this._client)}create(t,n,r){const{include:s,...i}=n;return this._client.post(`/threads/${t}/runs`,{query:{include:s},body:i,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers},stream:n.stream??!1})}retrieve(t,n,r){return this._client.get(`/threads/${t}/runs/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(t,n,r,s){return this._client.post(`/threads/${t}/runs/${n}`,{body:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(t,n={},r){return Oe(n)?this.list(t,{},n):this._client.getAPIList(`/threads/${t}/runs`,bd,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}cancel(t,n,r){return this._client.post(`/threads/${t}/runs/${n}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(t,n,r){const s=await this.create(t,n,r);return await this.poll(t,s.id,r)}createAndStream(t,n,r){return Lt.createAssistantStream(t,this._client.beta.threads.runs,n,r)}async poll(t,n,r){const s={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(s["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const{data:i,response:o}=await this.retrieve(t,n,{...r,headers:{...r==null?void 0:r.headers,...s}}).withResponse();switch(i.status){case"queued":case"in_progress":case"cancelling":let l=5e3;if(r!=null&&r.pollIntervalMs)l=r.pollIntervalMs;else{const a=o.headers.get("openai-poll-after-ms");if(a){const u=parseInt(a);isNaN(u)||(l=u)}}await uo(l);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return i}}}stream(t,n,r){return Lt.createAssistantStream(t,this._client.beta.threads.runs,n,r)}submitToolOutputs(t,n,r,s){return this._client.post(`/threads/${t}/runs/${n}/submit_tool_outputs`,{body:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers},stream:r.stream??!1})}async submitToolOutputsAndPoll(t,n,r,s){const i=await this.submitToolOutputs(t,n,r,s);return await this.poll(t,i.id,s)}submitToolOutputsStream(t,n,r,s){return Lt.createToolAssistantStream(t,n,this._client.beta.threads.runs,r,s)}}class bd extends ut{}ho.RunsPage=bd;ho.Steps=Nd;ho.RunStepsPage=Cd;class Fs extends ne{constructor(){super(...arguments),this.runs=new ho(this._client),this.messages=new Ed(this._client)}create(t={},n){return Oe(t)?this.create({},t):this._client.post("/threads",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(t,n){return this._client.get(`/threads/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(t,n,r){return this._client.post(`/threads/${t}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(t,n){return this._client.delete(`/threads/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}createAndRun(t,n){return this._client.post("/threads/runs",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers},stream:t.stream??!1})}async createAndRunPoll(t,n){const r=await this.createAndRun(t,n);return await this.runs.poll(r.thread_id,r.id,n)}createAndRunStream(t,n){return Lt.createThreadAssistantStream(t,this._client.beta.threads,n)}}Fs.Runs=ho;Fs.RunsPage=bd;Fs.Messages=Ed;Fs.MessagesPage=kd;class Ds extends ne{constructor(){super(...arguments),this.realtime=new Fa(this._client),this.chat=new ef(this._client),this.assistants=new wd(this._client),this.threads=new Fs(this._client)}}Ds.Realtime=Fa;Ds.Assistants=wd;Ds.AssistantsPage=vd;Ds.Threads=Fs;class cv extends ne{create(t,n){return this._client.post("/completions",{body:t,...n,stream:t.stream??!1})}}class fv extends ne{create(t,n){const r=!!t.encoding_format;let s=r?t.encoding_format:"base64";r&&Kn("Request","User defined encoding_format:",t.encoding_format);const i=this._client.post("/embeddings",{body:{...t,encoding_format:s},...n});return r?i:(Kn("response","Decoding base64 embeddings to float32 array"),i._thenUnwrap(o=>(o&&o.data&&o.data.forEach(l=>{const a=l.embedding;l.embedding=jb(a)}),o)))}}let Pd=class extends ne{create(t,n){return this._client.post("/files",Ms({body:t,...n}))}retrieve(t,n){return this._client.get(`/files/${t}`,n)}list(t={},n){return Oe(t)?this.list({},t):this._client.getAPIList("/files",Ad,{query:t,...n})}del(t,n){return this._client.delete(`/files/${t}`,n)}content(t,n){return this._client.get(`/files/${t}/content`,{...n,headers:{Accept:"application/binary",...n==null?void 0:n.headers},__binaryResponse:!0})}retrieveContent(t,n){return this._client.get(`/files/${t}/content`,n)}async waitForProcessing(t,{pollInterval:n=5e3,maxWait:r=30*60*1e3}={}){const s=new Set(["processed","error","deleted"]),i=Date.now();let o=await this.retrieve(t);for(;!o.status||!s.has(o.status);)if(await uo(n),o=await this.retrieve(t),Date.now()-i>r)throw new pd({message:`Giving up on waiting for file ${t} to finish processing after ${r} milliseconds.`});return o}};class Ad extends ut{}Pd.FileObjectsPage=Ad;class Td extends ne{list(t,n={},r){return Oe(n)?this.list(t,{},n):this._client.getAPIList(`/fine_tuning/jobs/${t}/checkpoints`,Rd,{query:n,...r})}}class Rd extends ut{}Td.FineTuningJobCheckpointsPage=Rd;class zs extends ne{constructor(){super(...arguments),this.checkpoints=new Td(this._client)}create(t,n){return this._client.post("/fine_tuning/jobs",{body:t,...n})}retrieve(t,n){return this._client.get(`/fine_tuning/jobs/${t}`,n)}list(t={},n){return Oe(t)?this.list({},t):this._client.getAPIList("/fine_tuning/jobs",Md,{query:t,...n})}cancel(t,n){return this._client.post(`/fine_tuning/jobs/${t}/cancel`,n)}listEvents(t,n={},r){return Oe(n)?this.listEvents(t,{},n):this._client.getAPIList(`/fine_tuning/jobs/${t}/events`,$d,{query:n,...r})}}class Md extends ut{}class $d extends ut{}zs.FineTuningJobsPage=Md;zs.FineTuningJobEventsPage=$d;zs.Checkpoints=Td;zs.FineTuningJobCheckpointsPage=Rd;class po extends ne{constructor(){super(...arguments),this.jobs=new zs(this._client)}}po.Jobs=zs;po.FineTuningJobsPage=Md;po.FineTuningJobEventsPage=$d;class dv extends ne{createVariation(t,n){return this._client.post("/images/variations",Ms({body:t,...n}))}edit(t,n){return this._client.post("/images/edits",Ms({body:t,...n}))}generate(t,n){return this._client.post("/images/generations",{body:t,...n})}}class Id extends ne{retrieve(t,n){return this._client.get(`/models/${t}`,n)}list(t){return this._client.getAPIList("/models",Od,t)}del(t,n){return this._client.delete(`/models/${t}`,n)}}class Od extends md{}Id.ModelsPage=Od;class hv extends ne{create(t,n){return this._client.post("/moderations",{body:t,...n})}}function Zb(e,t){return!t||!t3(t)?{...e,output_parsed:null,output:e.output.map(n=>n.type==="function_call"?{...n,parsed_arguments:null}:n.type==="message"?{...n,content:n.content.map(r=>({...r,parsed:null}))}:n)}:pv(e,t)}function pv(e,t){const n=e.output.map(s=>{if(s.type==="function_call")return{...s,parsed_arguments:s3(t,s)};if(s.type==="message"){const i=s.content.map(o=>o.type==="output_text"?{...o,parsed:e3(t,o.text)}:o);return{...s,content:i}}return s}),r=Object.assign({},e,{output:n});return Object.getOwnPropertyDescriptor(e,"output_text")||mv(r),Object.defineProperty(r,"output_parsed",{enumerable:!0,get(){for(const s of r.output)if(s.type==="message"){for(const i of s.content)if(i.type==="output_text"&&i.parsed!==null)return i.parsed}return null}}),r}function e3(e,t){var n,r,s,i;return((r=(n=e.text)==null?void 0:n.format)==null?void 0:r.type)!=="json_schema"?null:"$parseRaw"in((s=e.text)==null?void 0:s.format)?((i=e.text)==null?void 0:i.format).$parseRaw(t):JSON.parse(t)}function t3(e){var t;return!!_d((t=e.text)==null?void 0:t.format)}function n3(e){return(e==null?void 0:e.$brand)==="auto-parseable-tool"}function r3(e,t){return e.find(n=>n.type==="function"&&n.name===t)}function s3(e,t){const n=r3(e.tools??[],t.name);return{...t,...t,parsed_arguments:n3(n)?n.$parseRaw(t.arguments):n!=null&&n.strict?JSON.parse(t.arguments):null}}function mv(e){const t=[];for(const n of e.output)if(n.type==="message")for(const r of n.content)r.type==="output_text"&&t.push(r.text);e.output_text=t.join("")}class gv extends ne{list(t,n={},r){return Oe(n)?this.list(t,{},n):this._client.getAPIList(`/responses/${t}/input_items`,o3,{query:n,...r})}}var Ur=function(e,t,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(e,n):s?s.value=n:t.set(e,n),n},Pn=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Wr,Ko,An,qo,fm,dm,hm,pm;class Fd extends xd{constructor(t){super(),Wr.add(this),Ko.set(this,void 0),An.set(this,void 0),qo.set(this,void 0),Ur(this,Ko,t,"f")}static createResponse(t,n,r){const s=new Fd(n);return s._run(()=>s._createResponse(t,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),s}async _createResponse(t,n,r){var o;const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),Pn(this,Wr,"m",fm).call(this);const i=await t.responses.create({...n,stream:!0},{...r,signal:this.controller.signal});this._connected();for await(const l of i)Pn(this,Wr,"m",dm).call(this,l);if((o=i.controller.signal)!=null&&o.aborted)throw new Ct;return Pn(this,Wr,"m",hm).call(this)}[(Ko=new WeakMap,An=new WeakMap,qo=new WeakMap,Wr=new WeakSet,fm=function(){this.ended||Ur(this,An,void 0,"f")},dm=function(n){if(this.ended)return;const r=Pn(this,Wr,"m",pm).call(this,n);switch(this._emit("event",n),n.type){case"response.output_text.delta":{const s=r.output[n.output_index];if(!s)throw new q(`missing output at index ${n.output_index}`);if(s.type==="message"){const i=s.content[n.content_index];if(!i)throw new q(`missing content at index ${n.content_index}`);if(i.type!=="output_text")throw new q(`expected content to be 'output_text', got ${i.type}`);this._emit("response.output_text.delta",{...n,snapshot:i.text})}break}case"response.function_call_arguments.delta":{const s=r.output[n.output_index];if(!s)throw new q(`missing output at index ${n.output_index}`);s.type==="function_call"&&this._emit("response.function_call_arguments.delta",{...n,snapshot:s.arguments});break}default:this._emit(n.type,n);break}},hm=function(){if(this.ended)throw new q("stream has ended, this shouldn't happen");const n=Pn(this,An,"f");if(!n)throw new q("request ended without sending any events");Ur(this,An,void 0,"f");const r=i3(n,Pn(this,Ko,"f"));return Ur(this,qo,r,"f"),r},pm=function(n){let r=Pn(this,An,"f");if(!r){if(n.type!=="response.created")throw new q(`When snapshot hasn't been set yet, expected 'response.created' event, got ${n.type}`);return r=Ur(this,An,n.response,"f"),r}switch(n.type){case"response.output_item.added":{r.output.push(n.item);break}case"response.content_part.added":{const s=r.output[n.output_index];if(!s)throw new q(`missing output at index ${n.output_index}`);s.type==="message"&&s.content.push(n.part);break}case"response.output_text.delta":{const s=r.output[n.output_index];if(!s)throw new q(`missing output at index ${n.output_index}`);if(s.type==="message"){const i=s.content[n.content_index];if(!i)throw new q(`missing content at index ${n.content_index}`);if(i.type!=="output_text")throw new q(`expected content to be 'output_text', got ${i.type}`);i.text+=n.delta}break}case"response.function_call_arguments.delta":{const s=r.output[n.output_index];if(!s)throw new q(`missing output at index ${n.output_index}`);s.type==="function_call"&&(s.arguments+=n.delta);break}case"response.completed":{Ur(this,An,n.response,"f");break}}return r},Symbol.asyncIterator)](){const t=[],n=[];let r=!1;return this.on("event",s=>{const i=n.shift();i?i.resolve(s):t.push(s)}),this.on("end",()=>{r=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),this.on("error",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,o)=>n.push({resolve:i,reject:o})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const t=Pn(this,qo,"f");if(!t)throw new q("stream ended without producing a ChatCompletion");return t}}function i3(e,t){return Zb(e,t)}class Dd extends ne{constructor(){super(...arguments),this.inputItems=new gv(this._client)}create(t,n){return this._client.post("/responses",{body:t,...n,stream:t.stream??!1})._thenUnwrap(r=>("object"in r&&r.object==="response"&&mv(r),r))}retrieve(t,n={},r){return Oe(n)?this.retrieve(t,{},n):this._client.get(`/responses/${t}`,{query:n,...r})}del(t,n){return this._client.delete(`/responses/${t}`,{...n,headers:{Accept:"*/*",...n==null?void 0:n.headers}})}parse(t,n){return this._client.responses.create(t,n)._thenUnwrap(r=>pv(r,t))}stream(t,n){return Fd.createResponse(this._client,t,n)}}class o3 extends ut{}Dd.InputItems=gv;class yv extends ne{create(t,n,r){return this._client.post(`/uploads/${t}/parts`,Ms({body:n,...r}))}}class zd extends ne{constructor(){super(...arguments),this.parts=new yv(this._client)}create(t,n){return this._client.post("/uploads",{body:t,...n})}cancel(t,n){return this._client.post(`/uploads/${t}/cancel`,n)}complete(t,n,r){return this._client.post(`/uploads/${t}/complete`,{body:n,...r})}}zd.Parts=yv;const l3=async e=>{const t=await Promise.allSettled(e),n=t.filter(s=>s.status==="rejected");if(n.length){for(const s of n)console.error(s.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const r=[];for(const s of t)s.status==="fulfilled"&&r.push(s.value);return r};class Da extends ne{create(t,n,r){return this._client.post(`/vector_stores/${t}/files`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(t,n,r){return this._client.get(`/vector_stores/${t}/files/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(t,n,r,s){return this._client.post(`/vector_stores/${t}/files/${n}`,{body:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(t,n={},r){return Oe(n)?this.list(t,{},n):this._client.getAPIList(`/vector_stores/${t}/files`,za,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(t,n,r){return this._client.delete(`/vector_stores/${t}/files/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(t,n,r){const s=await this.create(t,n,r);return await this.poll(t,s.id,r)}async poll(t,n,r){const s={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(s["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const i=await this.retrieve(t,n,{...r,headers:s}).withResponse(),o=i.data;switch(o.status){case"in_progress":let l=5e3;if(r!=null&&r.pollIntervalMs)l=r.pollIntervalMs;else{const a=i.response.headers.get("openai-poll-after-ms");if(a){const u=parseInt(a);isNaN(u)||(l=u)}}await uo(l);break;case"failed":case"completed":return o}}}async upload(t,n,r){const s=await this._client.files.create({file:n,purpose:"assistants"},r);return this.create(t,{file_id:s.id},r)}async uploadAndPoll(t,n,r){const s=await this.upload(t,n,r);return await this.poll(t,s.id,r)}content(t,n,r){return this._client.getAPIList(`/vector_stores/${t}/files/${n}/content`,Ld,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class za extends ut{}class Ld extends md{}Da.VectorStoreFilesPage=za;Da.FileContentResponsesPage=Ld;class wv extends ne{create(t,n,r){return this._client.post(`/vector_stores/${t}/file_batches`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(t,n,r){return this._client.get(`/vector_stores/${t}/file_batches/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}cancel(t,n,r){return this._client.post(`/vector_stores/${t}/file_batches/${n}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(t,n,r){const s=await this.create(t,n);return await this.poll(t,s.id,r)}listFiles(t,n,r={},s){return Oe(r)?this.listFiles(t,n,{},r):this._client.getAPIList(`/vector_stores/${t}/file_batches/${n}/files`,za,{query:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}async poll(t,n,r){const s={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(s["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const{data:i,response:o}=await this.retrieve(t,n,{...r,headers:s}).withResponse();switch(i.status){case"in_progress":let l=5e3;if(r!=null&&r.pollIntervalMs)l=r.pollIntervalMs;else{const a=o.headers.get("openai-poll-after-ms");if(a){const u=parseInt(a);isNaN(u)||(l=u)}}await uo(l);break;case"failed":case"cancelled":case"completed":return i}}}async uploadAndPoll(t,{files:n,fileIds:r=[]},s){if(n==null||n.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const i=(s==null?void 0:s.maxConcurrency)??5,o=Math.min(i,n.length),l=this._client,a=n.values(),u=[...r];async function c(d){for(let m of d){const v=await l.files.create({file:m,purpose:"assistants"},s);u.push(v.id)}}const f=Array(o).fill(a).map(c);return await l3(f),await this.createAndPoll(t,{file_ids:u})}}class tr extends ne{constructor(){super(...arguments),this.files=new Da(this._client),this.fileBatches=new wv(this._client)}create(t,n){return this._client.post("/vector_stores",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(t,n){return this._client.get(`/vector_stores/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(t,n,r){return this._client.post(`/vector_stores/${t}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(t={},n){return Oe(t)?this.list({},t):this._client.getAPIList("/vector_stores",jd,{query:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(t,n){return this._client.delete(`/vector_stores/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}search(t,n,r){return this._client.getAPIList(`/vector_stores/${t}/search`,Bd,{body:n,method:"post",...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class jd extends ut{}class Bd extends md{}tr.VectorStoresPage=jd;tr.VectorStoreSearchResponsesPage=Bd;tr.Files=Da;tr.VectorStoreFilesPage=za;tr.FileContentResponsesPage=Ld;tr.FileBatches=wv;var vv;class Z extends Pb{constructor({baseURL:t=Uo("OPENAI_BASE_URL"),apiKey:n=Uo("OPENAI_API_KEY"),organization:r=Uo("OPENAI_ORG_ID")??null,project:s=Uo("OPENAI_PROJECT_ID")??null,...i}={}){if(n===void 0)throw new q("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const o={apiKey:n,organization:r,project:s,...i,baseURL:t||"https://api.openai.com/v1"};if(!o.dangerouslyAllowBrowser&&zb())throw new q(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);super({baseURL:o.baseURL,timeout:o.timeout??6e5,httpAgent:o.httpAgent,maxRetries:o.maxRetries,fetch:o.fetch}),this.completions=new cv(this),this.chat=new Oa(this),this.embeddings=new fv(this),this.files=new Pd(this),this.images=new dv(this),this.audio=new co(this),this.moderations=new hv(this),this.models=new Id(this),this.fineTuning=new po(this),this.vectorStores=new tr(this),this.beta=new Ds(this),this.batches=new gd(this),this.uploads=new zd(this),this.responses=new Dd(this),this._options=o,this.apiKey=n,this.organization=r,this.project=s}defaultQuery(){return this._options.defaultQuery}defaultHeaders(t){return{...super.defaultHeaders(t),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(t){return{Authorization:`Bearer ${this.apiKey}`}}stringifyQuery(t){return cb(t,{arrayFormat:"brackets"})}}vv=Z;Z.OpenAI=vv;Z.DEFAULT_TIMEOUT=6e5;Z.OpenAIError=q;Z.APIError=Be;Z.APIConnectionError=Aa;Z.APIConnectionTimeoutError=pd;Z.APIUserAbortError=Ct;Z.NotFoundError=_w;Z.ConflictError=Sw;Z.RateLimitError=kw;Z.BadRequestError=ww;Z.AuthenticationError=vw;Z.InternalServerError=Nw;Z.PermissionDeniedError=xw;Z.UnprocessableEntityError=Ew;Z.toFile=Rw;Z.fileFromPath=mw;Z.Completions=cv;Z.Chat=Oa;Z.ChatCompletionsPage=Ia;Z.Embeddings=fv;Z.Files=Pd;Z.FileObjectsPage=Ad;Z.Images=dv;Z.Audio=co;Z.Moderations=hv;Z.Models=Id;Z.ModelsPage=Od;Z.FineTuning=po;Z.VectorStores=tr;Z.VectorStoresPage=jd;Z.VectorStoreSearchResponsesPage=Bd;Z.Beta=Ds;Z.Batches=gd;Z.BatchesPage=yd;Z.Uploads=zd;Z.Responses=Dd;class a3 extends rn{constructor(){super(...arguments),this.type="llm",this.label="LLM",this.description="Interacts with Large Language Models like GPT-3.5 and GPT-4. Processes text input using AI to generate responses based on the system prompt and configuration."}getConfig(){return{type:this.type,label:this.label,description:this.description,inputs:1,outputs:1,configFields:[{name:"model",type:"select",label:"Model",options:["gpt-3.5-turbo","gpt-4"],default:"gpt-3.5-turbo"},{name:"systemPrompt",type:"text",label:"System Prompt",default:"You are a helpful assistant."},{name:"temperature",type:"number",label:"Temperature",default:.7},{name:"maxTokens",type:"number",label:"Max Tokens",default:500},{name:"apiKey",type:"text",label:"OpenAI API Key",default:""}]}}async execute(t,n){var s,i;const[r]=t;if(!n.apiKey)throw new Error("OpenAI API key is required");if(!r)return["No input provided"];try{return[((i=(s=(await new Z({apiKey:n.apiKey,dangerouslyAllowBrowser:!0}).chat.completions.create({model:n.model||"gpt-3.5-turbo",temperature:Number(n.temperature)||.7,max_tokens:Number(n.maxTokens)||500,messages:[{role:"system",content:n.systemPrompt||"You are a helpful assistant."},{role:"user",content:r}]})).choices[0])==null?void 0:s.message)==null?void 0:i.content)||"No response generated"]}catch(o){throw console.error("LLM Node Error:",o),o}}}class u3 extends rn{constructor(){super(...arguments),this.type="timer",this.label="Timer",this.description="Triggers actions at regular intervals. Executes the flow periodically based on the configured interval time.",this.intervals={}}getConfig(){return{type:this.type,label:this.label,description:this.description,inputs:1,outputs:1,configFields:[{name:"interval",type:"number",label:"Interval (ms)",default:1e3},{name:"enabled",type:"select",label:"Enabled",options:["true","false"],default:"true"}]}}async execute(t,n){const r=n.nodeId,s=parseInt(n.interval)||1e3,i=n.enabled!=="false",o=t[0];return this.intervals[r]&&(clearInterval(this.intervals[r]),delete this.intervals[r]),i?new Promise(l=>{this.intervals[r]=setInterval(()=>{console.log(`Timer ${r} tick with value:`,o)},s),l([o])}):[o]}cleanup(t){this.intervals[t]&&(clearInterval(this.intervals[t]),delete this.intervals[t])}}class c3 extends rn{constructor(){super(...arguments),this.type="scheduler",this.label="Scheduler",this.description="Schedules actions to occur at specific times. Executes the flow at configured times, useful for automated tasks and periodic updates.",this.timeouts={}}getConfig(){return{type:this.type,label:this.label,description:this.description,inputs:1,outputs:1,configFields:[{name:"time",type:"text",label:"Execution Time (HH:mm)",default:"12:00"},{name:"enabled",type:"select",label:"Enabled",options:["true","false"],default:"true"}]}}getNextExecutionTime(t){const[n,r]=t.split(":").map(Number),s=new Date,i=new Date(s.getFullYear(),s.getMonth(),s.getDate(),n,r);return i.getTime()<s.getTime()&&i.setDate(i.getDate()+1),i}async execute(t,n){const r=n.nodeId,s=n.time||"12:00",i=n.enabled!=="false",o=t[0];if(this.timeouts[r]&&(clearTimeout(this.timeouts[r]),delete this.timeouts[r]),i){const a=this.getNextExecutionTime(s).getTime()-Date.now();this.timeouts[r]=setTimeout(()=>{console.log(`Scheduler ${r} executed with value:`,o),this.execute(t,n)},a)}return[o]}cleanup(t){this.timeouts[t]&&(clearTimeout(this.timeouts[t]),delete this.timeouts[t])}}class f3 extends rn{constructor(){super(...arguments),this.type="gate",this.label="Gate",this.description="Controls data flow based on a control signal. Can either pass through or block data based on the control input."}getConfig(){return{type:this.type,label:this.label,description:this.description,inputs:2,outputs:1,configFields:[{name:"mode",type:"select",label:"Gate Mode",options:["pass","block"],default:"pass"},{name:"defaultValue",type:"text",label:"Default Value (when blocked)",default:""}]}}async execute(t,n){const[r,s]=t,i=n.mode||"pass",o=n.defaultValue||null;return[(i==="pass"?!!r:!r)?s:o]}}class d3 extends rn{constructor(){super(...arguments),this.type="logger",this.label="Logger",this.description="Logs data to the console with different severity levels. Useful for debugging and monitoring flow execution."}getConfig(){return{type:this.type,label:this.label,description:this.description,inputs:1,outputs:1,configFields:[{name:"level",type:"select",label:"Log Level",options:["info","warn","error","debug"],default:"info"},{name:"prefix",type:"text",label:"Log Prefix",default:""}]}}async execute(t,n){const r=t[0],s=n.level||"info",o=`${n.prefix?`[${n.prefix}] `:""}${JSON.stringify(r)}`;switch(s){case"warn":console.warn(o);break;case"error":console.error(o);break;case"debug":console.debug(o);break;default:console.log(o)}return[r]}}const bi=class bi extends rn{constructor(){super(...arguments),this.type="variable",this.label="Variable",this.description="Stores and retrieves values during flow execution. Use store mode to save values and load mode to retrieve them later."}getConfig(){return{type:this.type,label:this.label,description:this.description,inputs:1,outputs:1,configFields:[{name:"name",type:"text",label:"Variable Name",default:"myVar"},{name:"mode",type:"select",label:"Mode",options:["store","load"],default:"store"}]}}async execute(t,n){const r=n.name||"myVar",s=n.mode||"store",i=t[0];return s==="store"?(bi.variables[r]=i,[i]):[bi.variables[r]]}};bi.variables={};let nf=bi;class h3 extends rn{constructor(){super(...arguments),this.type="template",this.label="Template",this.description="Creates text using templates with variable substitution. Replace {{value}} placeholders with input data to generate dynamic text."}getConfig(){return{type:this.type,label:this.label,description:this.description,inputs:1,outputs:1,configFields:[{name:"template",type:"text",label:"Template (use {{value}} for input)",default:"Value is: {{value}}"}]}}async execute(t,n){const r=t[0];let i=n.template||"Value is: {{value}}";return typeof r=="object"&&Object.entries(r).forEach(([o,l])=>{i=i.replace(new RegExp(`{{value.${o}}}`,"g"),String(l))}),i=i.replace(/{{value}}/g,String(r)),[i]}}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var p3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m3=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),pe=(e,t)=>{const n=A.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:a,...u},c)=>A.createElement("svg",{ref:c,...p3,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${m3(e)}`,l].join(" "),...u},[...t.map(([f,d])=>A.createElement(f,d)),...Array.isArray(a)?a:[a]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g3=pe("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xv=pe("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y3=pe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w3=pe("FileCode",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m10 13-2 2 2 2",key:"17smn8"}],["path",{d:"m14 17 2-2-2-2",key:"14mezr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v3=pe("FilePlus",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x3=pe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _v=pe("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _3=pe("GitPullRequest",[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M13 6h3a2 2 0 0 1 2 2v7",key:"1yeb86"}],["line",{x1:"6",x2:"6",y1:"9",y2:"21",key:"rroup"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S3=pe("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E3=pe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k3=pe("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sv=pe("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N3=pe("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C3=pe("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b3=pe("Redo2",[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5v0A5.5 5.5 0 0 0 9.5 20H13",key:"19mnr4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P3=pe("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A3=pe("ScrollText",[["path",{d:"M8 21h12a2 2 0 0 0 2-2v-2H10v2a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v3h4",key:"13a6an"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M15 12h-5",key:"r7krc0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T3=pe("SplitSquareVertical",[["path",{d:"M5 8V5c0-1 1-2 2-2h10c1 0 2 1 2 2v3",key:"1pi83i"}],["path",{d:"M19 16v3c0 1-1 2-2 2H7c-1 0-2-1-2-2v-3",key:"ido5k7"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R3=pe("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M3=pe("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $3=pe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I3=pe("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O3=pe("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5v0a5.5 5.5 0 0 1-5.5 5.5H11",key:"llx8ln"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=pe("Variable",[["path",{d:"M8 21s-4-3-4-9 4-9 4-9",key:"uto9ud"}],["path",{d:"M16 3s4 3 4 9-4 9-4 9",key:"4w2vsq"}],["line",{x1:"15",x2:"9",y1:"9",y2:"15",key:"f7djnv"}],["line",{x1:"9",x2:"15",y1:"9",y2:"15",key:"1shsy8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mo=pe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),D3=({isOpen:e,onClose:t,value:n,onChange:r,title:s})=>e?C.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:C.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-xl w-[800px] max-w-[90vw] max-h-[90vh] flex flex-col",children:[C.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-700",children:[C.jsx("h2",{className:"text-xl font-semibold text-gray-200",children:s}),C.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-200 transition-colors",children:C.jsx(mo,{className:"w-5 h-5"})})]}),C.jsx("div",{className:"p-4 flex-1 overflow-auto",children:C.jsx("textarea",{value:n,onChange:i=>r(i.target.value),className:"w-full h-[400px] bg-gray-900 text-gray-200 border border-gray-700 rounded-md px-4 py-3 focus:border-gray-600 focus:ring-1 focus:ring-gray-600 transition-colors resize-none font-mono",spellCheck:!1})}),C.jsx("div",{className:"p-4 border-t border-gray-700 flex justify-end",children:C.jsx("button",{onClick:t,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Done"})})]})}):null,z3=({inputs:e,outputs:t,hasError:n})=>C.jsxs(C.Fragment,{children:[Array.from({length:e}).map((r,s)=>C.jsx(Rs,{type:"target",position:Y.Left,id:`input-${s}`,style:{top:`${(s+1)*100/(e+1)}%`},className:`w-3 h-3 ${n?"!bg-red-500/80 border-red-600":"!bg-blue-500/80 border-blue-600"} border-2 shadow-md hover:!bg-blue-400 transition-colors`},`input-${s}`)),Array.from({length:t}).map((r,s)=>C.jsx(Rs,{type:"source",position:Y.Right,id:`output-${s}`,style:{top:`${(s+1)*100/(t+1)}%`},className:`w-3 h-3 ${n?"!bg-red-500/80 border-red-600":"!bg-emerald-500/80 border-emerald-600"} border-2 shadow-md hover:!bg-emerald-400 transition-colors`},`output-${s}`))]}),L3=({configFields:e,config:t,onConfigChange:n,onOpenModal:r})=>{const s=i=>{var l;const o=i.type==="text"&&i.name==="systemPrompt";switch(i.type){case"select":return C.jsx("select",{value:t[i.name]||i.default,onChange:a=>n(i.name,a.target.value),className:"w-full bg-gray-800 text-gray-200 border border-gray-600 rounded-md px-3 py-1.5 text-sm shadow-sm focus:border-gray-500 focus:ring-1 focus:ring-gray-500 transition-colors",children:(l=i.options)==null?void 0:l.map(a=>C.jsx("option",{value:a,className:"bg-gray-800",children:a},a))});case"number":return C.jsx("input",{type:"number",value:t[i.name]||i.default,onChange:a=>n(i.name,a.target.value),className:"w-full bg-gray-800 text-gray-200 border border-gray-600 rounded-md px-3 py-1.5 text-sm shadow-sm focus:border-gray-500 focus:ring-1 focus:ring-gray-500 transition-colors"});default:return C.jsxs("div",{className:"relative",children:[C.jsx("input",{type:"text",value:t[i.name]||i.default,onChange:a=>n(i.name,a.target.value),className:"w-full bg-gray-800 text-gray-200 border border-gray-600 rounded-md px-3 py-1.5 text-sm shadow-sm focus:border-gray-500 focus:ring-1 focus:ring-gray-500 transition-colors"}),o&&C.jsx("button",{onClick:()=>r(i),className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-200 transition-colors",title:"Open in modal",children:C.jsx(N3,{className:"w-4 h-4"})})]})}};return C.jsx("div",{className:"space-y-3",children:e==null?void 0:e.map(i=>C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:i.label}),s(i)]},i.name))})},j3=({outputs:e})=>e.length===0?null:C.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-700",children:[C.jsx("div",{className:"text-sm font-medium text-gray-300 mb-2",children:"Output:"}),e.map((t,n)=>C.jsx("div",{className:"text-sm text-gray-400 break-all font-mono bg-gray-900/50 p-2 rounded",children:typeof t=="object"?JSON.stringify(t):String(t)},n))]}),B3=({error:e})=>e?C.jsxs("div",{className:"mt-4 pt-4 border-t border-red-500/30",children:[C.jsx("div",{className:"text-sm font-medium text-red-400 mb-2",children:"Error:"}),C.jsx("div",{className:"text-sm text-red-300 break-all font-mono bg-red-900/20 p-2 rounded border border-red-500/30",children:e})]}):null,H3=({id:e,data:t})=>{const{label:n,description:r,inputs:s,outputs:i,config:o,configFields:l}=t,a=Ln(g=>g.updateNodeData),u=Ln(g=>{var _;return((_=g.outputs.find(p=>p.nodeId===e))==null?void 0:_.outputs)||[]}),c=Ln(g=>{var _;return(_=g.errors.find(p=>p.nodeId===e))==null?void 0:_.error}),f=Ln(g=>g.executingNodes.includes(e)),[d,m]=A.useState(null),v=(g,_)=>{a(e,{config:{...o,[g]:_}})};return C.jsxs(C.Fragment,{children:[C.jsxs("div",{className:`shadow-xl rounded-lg bg-gradient-to-b from-gray-800 to-gray-850 border ${c?"border-red-500":f?"border-blue-500":"border-gray-700"} min-w-[240px] backdrop-blur-sm transition-colors duration-200`,children:[C.jsxs("div",{className:`px-4 py-3 border-b ${c?"border-red-500 bg-red-900/10":f?"border-blue-500 bg-blue-900/10":"border-gray-700 bg-gray-800/50"} flex items-center justify-between`,children:[C.jsx("div",{className:"text-lg font-semibold text-gray-200",children:n}),C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsxs("div",{className:"relative group",children:[C.jsx(Sv,{className:"w-5 h-5 text-gray-400 hover:text-gray-200 cursor-help transition-colors"}),C.jsx("div",{className:"absolute right-0 w-64 p-2 mt-2 text-sm text-gray-200 bg-gray-900 rounded-lg shadow-xl border border-gray-700 invisible opacity-0 group-hover:visible group-hover:opacity-100 transition-all duration-200 z-50",children:r})]}),c&&C.jsx("div",{className:"text-red-500 flex items-center",title:c,children:C.jsx(g3,{className:"w-5 h-5"})})]})]}),C.jsx(z3,{inputs:s,outputs:i,hasError:!!c}),C.jsxs("div",{className:"p-4 space-y-3",children:[C.jsx(L3,{configFields:l,config:o,onConfigChange:v,onOpenModal:m}),C.jsx(j3,{outputs:u}),C.jsx(B3,{error:c})]})]}),d&&C.jsx(D3,{isOpen:!0,onClose:()=>m(null),value:o[d.name]||d.default,onChange:g=>v(d.name,g),title:`Edit ${d.label}`})]})},V3={custom:H3},na={staticText:new JC,httpRequest:new ZC,conditional:new eb,llm:new a3,timer:new u3,scheduler:new c3,gate:new f3,logger:new d3,variable:new nf,template:new h3},U3={staticText:C.jsx(I3,{className:"w-5 h-5"}),httpRequest:C.jsx(E3,{className:"w-5 h-5"}),conditional:C.jsx(T3,{className:"w-5 h-5"}),llm:C.jsx(xv,{className:"w-5 h-5"}),timer:C.jsx(M3,{className:"w-5 h-5"}),scheduler:C.jsx(y3,{className:"w-5 h-5"}),gate:C.jsx(x3,{className:"w-5 h-5"}),logger:C.jsx(A3,{className:"w-5 h-5"}),variable:C.jsx(F3,{className:"w-5 h-5"}),template:C.jsx(w3,{className:"w-5 h-5"})},W3=()=>{Ln(n=>n.addNode);const e=A.useRef(null),t=(n,r,s)=>{if(n.dataTransfer.setData("application/reactflow",r),n.dataTransfer.effectAllowed="move",e.current){const i=e.current.cloneNode(!0);i.style.position="fixed",i.style.top="-1000px",i.style.left="-1000px",i.style.width="240px",i.style.pointerEvents="none",i.style.zIndex="1000",document.body.appendChild(i),n.dataTransfer.setDragImage(i,i.offsetWidth/2,i.offsetHeight/2),requestAnimationFrame(()=>{document.body.removeChild(i)})}};return C.jsxs("div",{className:"w-64 bg-gray-900 border-r border-gray-800 flex flex-col h-screen",children:[C.jsxs("div",{className:"p-4 border-b border-gray-800 bg-gray-900/50",children:[C.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[C.jsx(xv,{className:"w-6 h-6 text-blue-500"}),C.jsx("h1",{className:"text-2xl font-bold text-blue-500",children:"Agentica"})]}),C.jsx("h2",{className:"text-xl font-bold text-gray-200",children:"Nodes"})]}),C.jsx("div",{className:"p-4 space-y-2 flex-1 overflow-y-auto bg-gray-900/30 scrollbar-thin scrollbar-thumb-gray-700 scrollbar-track-transparent",children:Object.entries(na).map(([n,r])=>C.jsxs("div",{ref:e,draggable:!0,onDragStart:s=>t(s,n),className:"flex items-center p-3 bg-gray-800/50 rounded-lg cursor-move hover:bg-gray-750 border border-gray-700/50 shadow-sm hover:border-gray-600 transition-all duration-150",children:[C.jsx("div",{className:"mr-3 text-gray-400 group-hover:text-gray-300 transition-colors",children:U3[n]}),C.jsx("span",{className:"text-gray-300 group-hover:text-gray-200 transition-colors flex-1",children:r.label}),C.jsxs("div",{className:"relative group",children:[C.jsx(Sv,{className:"w-4 h-4 text-gray-500 hover:text-gray-300 cursor-help transition-colors"}),C.jsx("div",{className:"fixed left-[calc(16rem+0.5rem)] ml-2 w-64 p-3 text-sm text-gray-200 bg-gray-800 rounded-lg shadow-xl border border-gray-700 invisible opacity-0 group-hover:visible group-hover:opacity-100 transition-all duration-200 z-[9999] pointer-events-none",children:r.description})]})]},n))})]})},X3=e=>C.jsx(zC,{color:"#374151",gap:16,size:1,...e}),G3=e=>C.jsx(NC,{className:"!bg-gray-800/50 !border-gray-700",nodeColor:"#4B5563",maskColor:"rgba(17, 24, 39, 0.7)",...e}),Y3=()=>C.jsx(MC,{className:"bg-gray-800 border-gray-700 shadow-xl"}),K3=({isOpen:e,onClose:t,onSave:n,existingFlowName:r})=>{const[s,i]=A.useState(""),o=Ln(f=>f.getSavedFlows()),[l,a]=A.useState(!1);O.useEffect(()=>{e&&r?(i(r),a(!0)):e||(i(""),a(!1))},[e,r]);const u=f=>{i(f),a(o.includes(f))},c=()=>{s.trim()&&(n(s.trim()),t())};return e?C.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:C.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-xl w-[400px] max-w-[90vw]",children:[C.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-700",children:[C.jsx("h2",{className:"text-xl font-semibold text-gray-200",children:r?"Save Flow":"Save Flow As"}),C.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-200",children:C.jsx(mo,{className:"w-5 h-5"})})]}),C.jsxs("div",{className:"p-4",children:[C.jsx("input",{type:"text",value:s,onChange:f=>u(f.target.value),placeholder:"Enter flow name",className:"w-full bg-gray-900 text-gray-200 border border-gray-700 rounded-md px-3 py-2",onKeyDown:f=>f.key==="Enter"&&c()}),l&&C.jsx("p",{className:"mt-2 text-sm text-amber-400",children:"A flow with this name already exists. Saving will overwrite it."})]}),C.jsxs("div",{className:"p-4 border-t border-gray-700 flex justify-end gap-2",children:[C.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-700 text-white rounded-md hover:bg-gray-600",children:"Cancel"}),C.jsx("button",{onClick:c,disabled:!s.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-600",children:"Save"})]})]})}):null},q3=({isOpen:e,onClose:t,flows:n,onLoad:r,onDelete:s})=>{const[i,o]=A.useState([]);if(O.useEffect(()=>{o(n)},[n]),!e)return null;const l=a=>{s(a),o(i.filter(u=>u!==a))};return C.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:C.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-xl w-[400px] max-w-[90vw]",children:[C.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-700",children:[C.jsx("h2",{className:"text-xl font-semibold text-gray-200",children:"Load Flow"}),C.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-200",children:C.jsx(mo,{className:"w-5 h-5"})})]}),C.jsx("div",{className:"p-4 max-h-[400px] overflow-y-auto",children:i.length===0?C.jsx("p",{className:"text-gray-400 text-center",children:"No saved flows"}):C.jsx("div",{className:"space-y-2",children:i.map(a=>C.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-900 rounded-md",children:[C.jsx("span",{className:"text-gray-200",children:a}),C.jsxs("div",{className:"flex space-x-2",children:[C.jsx("button",{onClick:()=>r(a),className:"p-1 text-gray-400 hover:text-blue-400",title:"Load flow",children:C.jsx(_v,{className:"w-4 h-4"})}),C.jsx("button",{onClick:()=>l(a),className:"p-1 text-gray-400 hover:text-red-400",title:"Delete flow",children:C.jsx($3,{className:"w-4 h-4"})})]})]},a))})})]})})},mm=({isOpen:e,onClose:t,onConfirm:n,title:r,message:s})=>e?C.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:C.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-xl w-[400px] max-w-[90vw]",children:[C.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-700",children:[C.jsx("h2",{className:"text-xl font-semibold text-gray-200",children:r}),C.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-200",children:C.jsx(mo,{className:"w-5 h-5"})})]}),C.jsx("div",{className:"p-4",children:C.jsx("p",{className:"text-gray-300",children:s})}),C.jsxs("div",{className:"p-4 border-t border-gray-700 flex justify-end space-x-2",children:[C.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-700 text-white rounded-md hover:bg-gray-600",children:"Cancel"}),C.jsx("button",{onClick:()=>{n(),t()},className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Continue"})]})]})}):null,Q3=({onExecute:e,isExecuting:t})=>{const[n,r]=A.useState(!1),[s,i]=A.useState(!1),[o,l]=A.useState(!1),[a,u]=A.useState(!1),[c,f]=A.useState(null),{saveFlow:d,loadFlow:m,deleteFlow:v,getSavedFlows:g,clearFlow:_,nodes:p,currentFlow:h}=Ln(),y=()=>{p.length>0?l(!0):_()},w=k=>{p.length>0&&(!h||h!==k)?(f(k),u(!0)):(m(k),i(!1))},E=()=>{c&&(m(c),f(null),i(!1)),u(!1)};return C.jsxs(C.Fragment,{children:[C.jsxs("div",{className:"absolute top-4 right-4 z-10 flex space-x-2",children:[C.jsxs("button",{onClick:y,className:"flex items-center px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-md shadow-lg transition-colors",title:"New flow",children:[C.jsx(v3,{className:"w-4 h-4 mr-2"}),"New"]}),C.jsxs("button",{onClick:()=>r(!0),className:"flex items-center px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-md shadow-lg transition-colors",title:"Save flow",children:[C.jsx(P3,{className:"w-4 h-4 mr-2"}),"Save"]}),C.jsxs("button",{onClick:()=>i(!0),className:"flex items-center px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-md shadow-lg transition-colors",title:"Load flow",children:[C.jsx(_v,{className:"w-4 h-4 mr-2"}),"Load"]}),C.jsxs("button",{onClick:e,disabled:t,className:"flex items-center px-4 py-2 bg-emerald-600 hover:bg-emerald-700 disabled:bg-gray-600 text-white rounded-md shadow-lg transition-colors",children:[C.jsx(C3,{className:"w-4 h-4 mr-2"}),t?"Executing...":"Run Flow"]})]}),C.jsx(K3,{isOpen:n,onClose:()=>r(!1),onSave:d,existingFlowName:h}),C.jsx(q3,{isOpen:s,onClose:()=>i(!1),flows:g(),onLoad:w,onDelete:v}),C.jsx(mm,{isOpen:o,onClose:()=>l(!1),onConfirm:()=>{l(!1),r(!0)},title:"Create New Flow",message:"Do you want to save the current flow before creating a new one?"}),C.jsx(mm,{isOpen:a,onClose:()=>{u(!1),f(null)},onConfirm:E,title:"Load Flow",message:"Do you want to save the current flow before loading another one?"})]})};class J3{constructor(){this.nodeStates=new Map,this.nodeOutputs=[]}async execute({nodes:t,edges:n,onNodeStart:r,onNodeComplete:s,onNodeError:i,onOutputs:o}){this.nodeStates.clear(),this.nodeOutputs=[];try{const l=t.filter(a=>!n.some(u=>u.target===a.id));await Promise.all(l.map(a=>this.executeNode(a.id,{nodes:t,edges:n,onNodeStart:r,onNodeComplete:s,onNodeError:i}))),o(this.nodeOutputs)}catch(l){console.error("Flow execution error:",l)}}async executeNode(t,{nodes:n,edges:r,onNodeStart:s,onNodeComplete:i,onNodeError:o}){const l=n.find(a=>a.id===t);if(l){s(t);try{const a=l.id.split("-")[0],u=na[a];if(!u)throw new Error("Invalid node type");const c=r.filter(g=>g.target===t),f=await Promise.all(c.map(async g=>{var h;const _=this.nodeStates.get(g.source)||[],p=parseInt(((h=g.sourceHandle)==null?void 0:h.split("-")[1])||"0");return _[p]})),d=await u.execute(f,l.data.config);this.nodeStates.set(t,d),this.nodeOutputs.push({nodeId:t,outputs:d});const v=r.filter(g=>g.source===t).map(g=>g.target);await Promise.all(v.map(g=>this.executeNode(g,{nodes:n,edges:r,onNodeStart:s,onNodeComplete:i,onNodeError:o}))),i(t)}catch(a){throw o(t,a instanceof Error?a.message:"An error occurred"),a}}}}const Z3=()=>{const{nodes:e,edges:t,setNodes:n,setEdges:r,addNode:s,setOutputs:i,setError:o,clearErrors:l,setExecutingNode:a,snapToGrid:u,gridSize:c,toggleSnapToGrid:f,undo:d,redo:m,canUndo:v,canRedo:g}=Ln(),_=A.useRef(null),[p,h]=O.useState(null),[y,w]=O.useState(!1);Pa();const E=O.useMemo(()=>new J3,[]),k=A.useCallback(D=>{n(D)},[n]),N=A.useCallback(D=>{r(D)},[r]),R=A.useCallback(D=>{var P,S;const B=e.find(T=>T.id===D.source),x=e.find(T=>T.id===D.target);if(!B||!x)return;const $=parseInt(((P=D.sourceHandle)==null?void 0:P.split("-")[1])||"0"),b=parseInt(((S=D.targetHandle)==null?void 0:S.split("-")[1])||"0");if($>=B.data.outputs||b>=x.data.inputs)return;const L={id:`e${D.source}-${D.target}`,source:D.source,target:D.target,sourceHandle:D.sourceHandle,targetHandle:D.targetHandle,className:"animate-pulse-once"};r(T=>[...T,L])},[r,e]),M=A.useCallback(D=>{D.preventDefault(),D.dataTransfer.dropEffect="move"},[]),I=A.useCallback(D=>{if(D.preventDefault(),!_.current||!p)return;const B=_.current.getBoundingClientRect(),x=D.dataTransfer.getData("application/reactflow");if(!(x in na))return;const $=na[x].getConfig(),b=p.project({x:D.clientX-B.left,y:D.clientY-B.top}),L={id:`${x}-${Date.now()}`,type:"custom",position:b,data:{label:$.label,inputs:$.inputs,outputs:$.outputs,config:$.configFields.reduce((P,S)=>({...P,[S.name]:S.default}),{}),configFields:$.configFields}};s(L)},[p,s]),F=async()=>{w(!0),i([]),l();try{await E.execute({nodes:e,edges:t,onNodeStart:D=>a(D,!0),onNodeComplete:D=>a(D,!1),onNodeError:(D,B)=>o(D,B),onOutputs:i})}catch(D){console.error("Flow execution error:",D)}finally{w(!1)}};return A.useEffect(()=>{const D=B=>{(B.metaKey||B.ctrlKey)&&B.key==="z"&&(B.shiftKey?g()&&m():v()&&d())};return window.addEventListener("keydown",D),()=>window.removeEventListener("keydown",D)},[d,m,v,g]),C.jsxs("div",{ref:_,className:"flex-1 h-full bg-gray-950 relative",children:[C.jsx(Q3,{onExecute:F,isExecuting:y}),C.jsxs(tw,{nodes:e,edges:t,onNodesChange:k,onEdgesChange:N,onConnect:R,onInit:h,onDrop:I,onDragOver:M,nodeTypes:V3,className:"bg-gray-950",snapToGrid:u,snapGrid:[c,c],fitView:!0,children:[C.jsx(X3,{}),C.jsx(Y3,{}),C.jsx(G3,{}),C.jsxs(Na,{position:"top-left",className:"flex gap-2",children:[C.jsx("button",{onClick:f,className:`p-2 rounded ${u?"bg-blue-600":"bg-gray-700"} hover:bg-opacity-80 transition-colors`,title:"Toggle grid snap",children:C.jsx(k3,{className:"w-4 h-4"})}),C.jsx("button",{onClick:d,disabled:!v(),className:"p-2 rounded bg-gray-700 hover:bg-gray-600 disabled:opacity-50 disabled:hover:bg-gray-700 transition-colors",title:"Undo (Ctrl/⌘ + Z)",children:C.jsx(O3,{className:"w-4 h-4"})}),C.jsx("button",{onClick:m,disabled:!g(),className:"p-2 rounded bg-gray-700 hover:bg-gray-600 disabled:opacity-50 disabled:hover:bg-gray-700 transition-colors",title:"Redo (Ctrl/⌘ + Shift + Z)",children:C.jsx(b3,{className:"w-4 h-4"})})]})]})]})},e4=({isOpen:e,onClose:t})=>e?C.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:C.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-xl w-[600px] max-w-[90vw]",children:[C.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-700",children:[C.jsx("h2",{className:"text-2xl font-bold text-gray-200",children:"Welcome to Agentica"}),C.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-200 transition-colors",children:C.jsx(mo,{className:"w-5 h-5"})})]}),C.jsxs("div",{className:"p-6 space-y-4",children:[C.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-lg p-4",children:[C.jsx("p",{className:"text-blue-200 font-medium",children:"🚧 Alpha Stage Project"}),C.jsx("p",{className:"text-gray-300 mt-2",children:"Agentica is currently in alpha stage. While it's functional, you will encounter many bugs or incomplete features. We're actively working on improvements and welcome your feedback!"})]}),C.jsxs("div",{className:"space-y-4 text-gray-300",children:[C.jsx("p",{children:"Agentica is a visual flow programming tool that helps you build and connect AI-powered workflows. Drag nodes from the sidebar, connect them together, and create powerful automation flows."}),C.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-4 space-y-3",children:[C.jsx("h3",{className:"text-lg font-semibold text-gray-200",children:"Get Involved"}),C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx(S3,{className:"w-5 h-5 text-gray-400"}),C.jsx("a",{href:"https://github.com/agentica-os/agentica-os",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 transition-colors",children:"View on GitHub"})]}),C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx(R3,{className:"w-5 h-5 text-gray-400"}),C.jsx("span",{children:"Star the project to show your support"})]}),C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx(_3,{className:"w-5 h-5 text-gray-400"}),C.jsx("span",{children:"Contribute by submitting pull requests"})]})]})]})]}),C.jsxs("div",{className:"p-6 border-t border-gray-700 flex justify-between items-center",children:[C.jsxs("label",{className:"flex items-center gap-2 text-gray-300",children:[C.jsx("input",{type:"checkbox",className:"rounded bg-gray-700 border-gray-600 text-blue-500 focus:ring-blue-500"}),C.jsx("span",{children:"Don't show this again"})]}),C.jsx("button",{onClick:t,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Get Started"})]})]})}):null;function t4(){const[e,t]=A.useState(!1);A.useEffect(()=>{localStorage.getItem("hasSeenWelcome")||t(!0)},[]);const n=()=>{t(!1),localStorage.setItem("hasSeenWelcome","true")};return C.jsxs("div",{className:"flex h-screen bg-gray-900",children:[C.jsx(W3,{}),C.jsx(hd,{children:C.jsx(Z3,{})}),C.jsx(e4,{isOpen:e,onClose:n})]})}A0(document.getElementById("root")).render(C.jsx(A.StrictMode,{children:C.jsx(t4,{})}));
